(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function gf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var op={exports:{}},Co={};var Qv;function HA(){if(Qv)return Co;Qv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var u in s)u!=="key"&&(o[u]=s[u])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:c,ref:s!==void 0?s:null,props:o}}return Co.Fragment=e,Co.jsx=t,Co.jsxs=t,Co}var Zv;function VA(){return Zv||(Zv=1,op.exports=HA()),op.exports}var E=VA(),lp={exports:{}},me={};var e1;function $A(){if(e1)return me;e1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function v(N){return N===null||typeof N!="object"?null:(N=b&&N[b]||N["@@iterator"],typeof N=="function"?N:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,C={};function w(N,H,X){this.props=N,this.context=H,this.refs=C,this.updater=X||x}w.prototype.isReactComponent={},w.prototype.setState=function(N,H){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,H,"setState")},w.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function I(){}I.prototype=w.prototype;function j(N,H,X){this.props=N,this.context=H,this.refs=C,this.updater=X||x}var F=j.prototype=new I;F.constructor=j,T(F,w.prototype),F.isPureReactComponent=!0;var q=Array.isArray;function W(){}var P={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function te(N,H,X){var ie=X.ref;return{$$typeof:n,type:N,key:H,ref:ie!==void 0?ie:null,props:X}}function de(N,H){return te(N.type,H,N.props)}function Oe(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function Q(N){var H={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(X){return H[X]})}var Se=/\/+/g;function _e(N,H){return typeof N=="object"&&N!==null&&N.key!=null?Q(""+N.key):H.toString(36)}function xe(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(W,W):(N.status="pending",N.then(function(H){N.status==="pending"&&(N.status="fulfilled",N.value=H)},function(H){N.status==="pending"&&(N.status="rejected",N.reason=H)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function z(N,H,X,ie,pe){var Ee=typeof N;(Ee==="undefined"||Ee==="boolean")&&(N=null);var De=!1;if(N===null)De=!0;else switch(Ee){case"bigint":case"string":case"number":De=!0;break;case"object":switch(N.$$typeof){case n:case e:De=!0;break;case m:return De=N._init,z(De(N._payload),H,X,ie,pe)}}if(De)return pe=pe(N),De=ie===""?"."+_e(N,0):ie,q(pe)?(X="",De!=null&&(X=De.replace(Se,"$&/")+"/"),z(pe,H,X,"",function(Ra){return Ra})):pe!=null&&(Oe(pe)&&(pe=de(pe,X+(pe.key==null||N&&N.key===pe.key?"":(""+pe.key).replace(Se,"$&/")+"/")+De)),H.push(pe)),1;De=0;var Rt=ie===""?".":ie+":";if(q(N))for(var tt=0;tt<N.length;tt++)ie=N[tt],Ee=Rt+_e(ie,tt),De+=z(ie,H,X,Ee,pe);else if(tt=v(N),typeof tt=="function")for(N=tt.call(N),tt=0;!(ie=N.next()).done;)ie=ie.value,Ee=Rt+_e(ie,tt++),De+=z(ie,H,X,Ee,pe);else if(Ee==="object"){if(typeof N.then=="function")return z(xe(N),H,X,ie,pe);throw H=String(N),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return De}function J(N,H,X){if(N==null)return N;var ie=[],pe=0;return z(N,ie,"","",function(Ee){return H.call(X,Ee,pe++)}),ie}function ce(N){if(N._status===-1){var H=N._result;H=H(),H.then(function(X){(N._status===0||N._status===-1)&&(N._status=1,N._result=X)},function(X){(N._status===0||N._status===-1)&&(N._status=2,N._result=X)}),N._status===-1&&(N._status=0,N._result=H)}if(N._status===1)return N._result.default;throw N._result}var Y=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},re={map:J,forEach:function(N,H,X){J(N,function(){H.apply(this,arguments)},X)},count:function(N){var H=0;return J(N,function(){H++}),H},toArray:function(N){return J(N,function(H){return H})||[]},only:function(N){if(!Oe(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return me.Activity=y,me.Children=re,me.Component=w,me.Fragment=t,me.Profiler=s,me.PureComponent=j,me.StrictMode=r,me.Suspense=d,me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,me.__COMPILER_RUNTIME={__proto__:null,c:function(N){return P.H.useMemoCache(N)}},me.cache=function(N){return function(){return N.apply(null,arguments)}},me.cacheSignal=function(){return null},me.cloneElement=function(N,H,X){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ie=T({},N.props),pe=N.key;if(H!=null)for(Ee in H.key!==void 0&&(pe=""+H.key),H)!ee.call(H,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&H.ref===void 0||(ie[Ee]=H[Ee]);var Ee=arguments.length-2;if(Ee===1)ie.children=X;else if(1<Ee){for(var De=Array(Ee),Rt=0;Rt<Ee;Rt++)De[Rt]=arguments[Rt+2];ie.children=De}return te(N.type,pe,ie)},me.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:o,_context:N},N},me.createElement=function(N,H,X){var ie,pe={},Ee=null;if(H!=null)for(ie in H.key!==void 0&&(Ee=""+H.key),H)ee.call(H,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(pe[ie]=H[ie]);var De=arguments.length-2;if(De===1)pe.children=X;else if(1<De){for(var Rt=Array(De),tt=0;tt<De;tt++)Rt[tt]=arguments[tt+2];pe.children=Rt}if(N&&N.defaultProps)for(ie in De=N.defaultProps,De)pe[ie]===void 0&&(pe[ie]=De[ie]);return te(N,Ee,pe)},me.createRef=function(){return{current:null}},me.forwardRef=function(N){return{$$typeof:u,render:N}},me.isValidElement=Oe,me.lazy=function(N){return{$$typeof:m,_payload:{_status:-1,_result:N},_init:ce}},me.memo=function(N,H){return{$$typeof:h,type:N,compare:H===void 0?null:H}},me.startTransition=function(N){var H=P.T,X={};P.T=X;try{var ie=N(),pe=P.S;pe!==null&&pe(X,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(W,Y)}catch(Ee){Y(Ee)}finally{H!==null&&X.types!==null&&(H.types=X.types),P.T=H}},me.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},me.use=function(N){return P.H.use(N)},me.useActionState=function(N,H,X){return P.H.useActionState(N,H,X)},me.useCallback=function(N,H){return P.H.useCallback(N,H)},me.useContext=function(N){return P.H.useContext(N)},me.useDebugValue=function(){},me.useDeferredValue=function(N,H){return P.H.useDeferredValue(N,H)},me.useEffect=function(N,H){return P.H.useEffect(N,H)},me.useEffectEvent=function(N){return P.H.useEffectEvent(N)},me.useId=function(){return P.H.useId()},me.useImperativeHandle=function(N,H,X){return P.H.useImperativeHandle(N,H,X)},me.useInsertionEffect=function(N,H){return P.H.useInsertionEffect(N,H)},me.useLayoutEffect=function(N,H){return P.H.useLayoutEffect(N,H)},me.useMemo=function(N,H){return P.H.useMemo(N,H)},me.useOptimistic=function(N,H){return P.H.useOptimistic(N,H)},me.useReducer=function(N,H,X){return P.H.useReducer(N,H,X)},me.useRef=function(N){return P.H.useRef(N)},me.useState=function(N){return P.H.useState(N)},me.useSyncExternalStore=function(N,H,X){return P.H.useSyncExternalStore(N,H,X)},me.useTransition=function(){return P.H.useTransition()},me.version="19.2.0",me}var t1;function dl(){return t1||(t1=1,lp.exports=$A()),lp.exports}var O=dl();const xi=gf(O);var cp={exports:{}},wo={},up={exports:{}},fp={};var n1;function qA(){return n1||(n1=1,(function(n){function e(z,J){var ce=z.length;z.push(J);e:for(;0<ce;){var Y=ce-1>>>1,re=z[Y];if(0<s(re,J))z[Y]=J,z[ce]=re,ce=Y;else break e}}function t(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var J=z[0],ce=z.pop();if(ce!==J){z[0]=ce;e:for(var Y=0,re=z.length,N=re>>>1;Y<N;){var H=2*(Y+1)-1,X=z[H],ie=H+1,pe=z[ie];if(0>s(X,ce))ie<re&&0>s(pe,X)?(z[Y]=pe,z[ie]=ce,Y=ie):(z[Y]=X,z[H]=ce,Y=H);else if(ie<re&&0>s(pe,ce))z[Y]=pe,z[ie]=ce,Y=ie;else break e}}return J}function s(z,J){var ce=z.sortIndex-J.sortIndex;return ce!==0?ce:z.id-J.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();n.unstable_now=function(){return c.now()-u}}var d=[],h=[],m=1,y=null,b=3,v=!1,x=!1,T=!1,C=!1,w=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function F(z){for(var J=t(h);J!==null;){if(J.callback===null)r(h);else if(J.startTime<=z)r(h),J.sortIndex=J.expirationTime,e(d,J);else break;J=t(h)}}function q(z){if(T=!1,F(z),!x)if(t(d)!==null)x=!0,W||(W=!0,Q());else{var J=t(h);J!==null&&xe(q,J.startTime-z)}}var W=!1,P=-1,ee=5,te=-1;function de(){return C?!0:!(n.unstable_now()-te<ee)}function Oe(){if(C=!1,W){var z=n.unstable_now();te=z;var J=!0;try{e:{x=!1,T&&(T=!1,I(P),P=-1),v=!0;var ce=b;try{t:{for(F(z),y=t(d);y!==null&&!(y.expirationTime>z&&de());){var Y=y.callback;if(typeof Y=="function"){y.callback=null,b=y.priorityLevel;var re=Y(y.expirationTime<=z);if(z=n.unstable_now(),typeof re=="function"){y.callback=re,F(z),J=!0;break t}y===t(d)&&r(d),F(z)}else r(d);y=t(d)}if(y!==null)J=!0;else{var N=t(h);N!==null&&xe(q,N.startTime-z),J=!1}}break e}finally{y=null,b=ce,v=!1}J=void 0}}finally{J?Q():W=!1}}}var Q;if(typeof j=="function")Q=function(){j(Oe)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,_e=Se.port2;Se.port1.onmessage=Oe,Q=function(){_e.postMessage(null)}}else Q=function(){w(Oe,0)};function xe(z,J){P=w(function(){z(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(z){switch(b){case 1:case 2:case 3:var J=3;break;default:J=b}var ce=b;b=J;try{return z()}finally{b=ce}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(z,J){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ce=b;b=z;try{return J()}finally{b=ce}},n.unstable_scheduleCallback=function(z,J,ce){var Y=n.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Y+ce:Y):ce=Y,z){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=ce+re,z={id:m++,callback:J,priorityLevel:z,startTime:ce,expirationTime:re,sortIndex:-1},ce>Y?(z.sortIndex=ce,e(h,z),t(d)===null&&z===t(h)&&(T?(I(P),P=-1):T=!0,xe(q,ce-Y))):(z.sortIndex=re,e(d,z),x||v||(x=!0,W||(W=!0,Q()))),z},n.unstable_shouldYield=de,n.unstable_wrapCallback=function(z){var J=b;return function(){var ce=b;b=J;try{return z.apply(this,arguments)}finally{b=ce}}}})(fp)),fp}var r1;function FA(){return r1||(r1=1,up.exports=qA()),up.exports}var dp={exports:{}},At={};var i1;function KA(){if(i1)return At;i1=1;var n=dl();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,h,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:d,containerInfo:h,implementation:m}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return At.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,At.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(d,h,null,m)},At.flushSync=function(d){var h=c.T,m=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=h,r.p=m,r.d.f()}},At.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},At.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},At.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,y=u(m,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:v}):m==="script"&&r.d.X(d,{crossOrigin:y,integrity:b,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},At.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=u(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},At.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,y=u(m,h.crossOrigin);r.d.L(d,m,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},At.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=u(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},At.requestFormReset=function(d){r.d.r(d)},At.unstable_batchedUpdates=function(d,h){return d(h)},At.useFormState=function(d,h,m){return c.H.useFormState(d,h,m)},At.useFormStatus=function(){return c.H.useHostTransitionStatus()},At.version="19.2.0",At}var s1;function Ex(){if(s1)return dp.exports;s1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),dp.exports=KA(),dp.exports}var a1;function GA(){if(a1)return wo;a1=1;var n=FA(),e=dl(),t=Ex();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function c(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function u(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function d(i){if(o(i)!==i)throw Error(r(188))}function h(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,f=a;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(f=p.return,f!==null){l=f;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return d(p),i;if(g===f)return d(p),a;g=g.sibling}throw Error(r(188))}if(l.return!==f.return)l=p,f=g;else{for(var S=!1,k=p.child;k;){if(k===l){S=!0,l=p,f=g;break}if(k===f){S=!0,f=p,l=g;break}k=k.sibling}if(!S){for(k=g.child;k;){if(k===l){S=!0,l=g,f=p;break}if(k===f){S=!0,f=g,l=p;break}k=k.sibling}if(!S)throw Error(r(189))}}if(l.alternate!==f)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function m(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=m(i),a!==null)return a;i=i.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),j=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),de=Symbol.for("react.memo_cache_sentinel"),Oe=Symbol.iterator;function Q(i){return i===null||typeof i!="object"?null:(i=Oe&&i[Oe]||i["@@iterator"],typeof i=="function"?i:null)}var Se=Symbol.for("react.client.reference");function _e(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Se?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case T:return"Fragment";case w:return"Profiler";case C:return"StrictMode";case q:return"Suspense";case W:return"SuspenseList";case te:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case x:return"Portal";case j:return i.displayName||"Context";case I:return(i._context.displayName||"Context")+".Consumer";case F:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return a=i.displayName||null,a!==null?a:_e(i.type)||"Memo";case ee:a=i._payload,i=i._init;try{return _e(i(a))}catch{}}return null}var xe=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Y=[],re=-1;function N(i){return{current:i}}function H(i){0>re||(i.current=Y[re],Y[re]=null,re--)}function X(i,a){re++,Y[re]=i.current,i.current=a}var ie=N(null),pe=N(null),Ee=N(null),De=N(null);function Rt(i,a){switch(X(Ee,a),X(pe,i),X(ie,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?xv(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=xv(a),i=Ev(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}H(ie),X(ie,i)}function tt(){H(ie),H(pe),H(Ee)}function Ra(i){i.memoizedState!==null&&X(De,i);var a=ie.current,l=Ev(a,i.type);a!==l&&(X(pe,i),X(ie,l))}function Nl(i){pe.current===i&&(H(ie),H(pe)),De.current===i&&(H(De),xo._currentValue=ce)}var $f,Xg;function Oi(i){if($f===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);$f=a&&a[1]||"",Xg=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$f+i+Xg}var qf=!1;function Ff(i,a){if(!i||qf)return"";qf=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(B){var L=B}Reflect.construct(i,[],$)}else{try{$.call()}catch(B){L=B}i.call($.prototype)}}else{try{throw Error()}catch(B){L=B}($=i())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(B){if(B&&L&&typeof B.stack=="string")return[B.stack,L.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=f.DetermineComponentFrameRoot(),S=g[0],k=g[1];if(S&&k){var A=S.split(`
`),_=k.split(`
`);for(p=f=0;f<A.length&&!A[f].includes("DetermineComponentFrameRoot");)f++;for(;p<_.length&&!_[p].includes("DetermineComponentFrameRoot");)p++;if(f===A.length||p===_.length)for(f=A.length-1,p=_.length-1;1<=f&&0<=p&&A[f]!==_[p];)p--;for(;1<=f&&0<=p;f--,p--)if(A[f]!==_[p]){if(f!==1||p!==1)do if(f--,p--,0>p||A[f]!==_[p]){var U=`
`+A[f].replace(" at new "," at ");return i.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",i.displayName)),U}while(1<=f&&0<=p);break}}}finally{qf=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Oi(l):""}function bC(i,a){switch(i.tag){case 26:case 27:case 5:return Oi(i.type);case 16:return Oi("Lazy");case 13:return i.child!==a&&a!==null?Oi("Suspense Fallback"):Oi("Suspense");case 19:return Oi("SuspenseList");case 0:case 15:return Ff(i.type,!1);case 11:return Ff(i.type.render,!1);case 1:return Ff(i.type,!0);case 31:return Oi("Activity");default:return""}}function Qg(i){try{var a="",l=null;do a+=bC(i,l),l=i,i=i.return;while(i);return a}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Kf=Object.prototype.hasOwnProperty,Gf=n.unstable_scheduleCallback,Yf=n.unstable_cancelCallback,vC=n.unstable_shouldYield,SC=n.unstable_requestPaint,Kt=n.unstable_now,xC=n.unstable_getCurrentPriorityLevel,Zg=n.unstable_ImmediatePriority,ey=n.unstable_UserBlockingPriority,Ml=n.unstable_NormalPriority,EC=n.unstable_LowPriority,ty=n.unstable_IdlePriority,kC=n.log,TC=n.unstable_setDisableYieldValue,Da=null,Gt=null;function Ar(i){if(typeof kC=="function"&&TC(i),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Da,i)}catch{}}var Yt=Math.clz32?Math.clz32:AC,CC=Math.log,wC=Math.LN2;function AC(i){return i>>>=0,i===0?32:31-(CC(i)/wC|0)|0}var Ol=256,Rl=262144,Dl=4194304;function Ri(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function _l(i,a,l){var f=i.pendingLanes;if(f===0)return 0;var p=0,g=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var k=f&134217727;return k!==0?(f=k&~g,f!==0?p=Ri(f):(S&=k,S!==0?p=Ri(S):l||(l=k&~i,l!==0&&(p=Ri(l))))):(k=f&~g,k!==0?p=Ri(k):S!==0?p=Ri(S):l||(l=f&~i,l!==0&&(p=Ri(l)))),p===0?0:a!==0&&a!==p&&(a&g)===0&&(g=p&-p,l=a&-a,g>=l||g===32&&(l&4194048)!==0)?a:p}function _a(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function NC(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ny(){var i=Dl;return Dl<<=1,(Dl&62914560)===0&&(Dl=4194304),i}function Wf(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function Ia(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function MC(i,a,l,f,p,g){var S=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var k=i.entanglements,A=i.expirationTimes,_=i.hiddenUpdates;for(l=S&~l;0<l;){var U=31-Yt(l),$=1<<U;k[U]=0,A[U]=-1;var L=_[U];if(L!==null)for(_[U]=null,U=0;U<L.length;U++){var B=L[U];B!==null&&(B.lane&=-536870913)}l&=~$}f!==0&&ry(i,f,0),g!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=g&~(S&~a))}function ry(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var f=31-Yt(a);i.entangledLanes|=a,i.entanglements[f]=i.entanglements[f]|1073741824|l&261930}function iy(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var f=31-Yt(l),p=1<<f;p&a|i[f]&a&&(i[f]|=a),l&=~p}}function sy(i,a){var l=a&-a;return l=(l&42)!==0?1:Jf(l),(l&(i.suspendedLanes|a))!==0?0:l}function Jf(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Xf(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ay(){var i=J.p;return i!==0?i:(i=window.event,i===void 0?32:Fv(i.type))}function oy(i,a){var l=J.p;try{return J.p=i,a()}finally{J.p=l}}var Nr=Math.random().toString(36).slice(2),vt="__reactFiber$"+Nr,Bt="__reactProps$"+Nr,ys="__reactContainer$"+Nr,Qf="__reactEvents$"+Nr,OC="__reactListeners$"+Nr,RC="__reactHandles$"+Nr,ly="__reactResources$"+Nr,La="__reactMarker$"+Nr;function Zf(i){delete i[vt],delete i[Bt],delete i[Qf],delete i[OC],delete i[RC]}function bs(i){var a=i[vt];if(a)return a;for(var l=i.parentNode;l;){if(a=l[ys]||l[vt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=Mv(i);i!==null;){if(l=i[vt])return l;i=Mv(i)}return a}i=l,l=i.parentNode}return null}function vs(i){if(i=i[vt]||i[ys]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function za(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function Ss(i){var a=i[ly];return a||(a=i[ly]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ht(i){i[La]=!0}var cy=new Set,uy={};function Di(i,a){xs(i,a),xs(i+"Capture",a)}function xs(i,a){for(uy[i]=a,i=0;i<a.length;i++)cy.add(a[i])}var DC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fy={},dy={};function _C(i){return Kf.call(dy,i)?!0:Kf.call(fy,i)?!1:DC.test(i)?dy[i]=!0:(fy[i]=!0,!1)}function Il(i,a,l){if(_C(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function Ll(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function Gn(i,a,l,f){if(f===null)i.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+f)}}function on(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function hy(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function IC(i,a,l){var f=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var p=f.get,g=f.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return p.call(this)},set:function(S){l=""+S,g.call(this,S)}}),Object.defineProperty(i,a,{enumerable:f.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function ed(i){if(!i._valueTracker){var a=hy(i)?"checked":"value";i._valueTracker=IC(i,a,""+i[a])}}function py(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),f="";return i&&(f=hy(i)?i.checked?"true":"false":i.value),i=f,i!==l?(a.setValue(i),!0):!1}function zl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var LC=/[\n"\\]/g;function ln(i){return i.replace(LC,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function td(i,a,l,f,p,g,S,k){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),a!=null?S==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+on(a)):i.value!==""+on(a)&&(i.value=""+on(a)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),a!=null?nd(i,S,on(a)):l!=null?nd(i,S,on(l)):f!=null&&i.removeAttribute("value"),p==null&&g!=null&&(i.defaultChecked=!!g),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.name=""+on(k):i.removeAttribute("name")}function my(i,a,l,f,p,g,S,k){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),a!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||a!=null)){ed(i);return}l=l!=null?""+on(l):"",a=a!=null?""+on(a):l,k||a===i.value||(i.value=a),i.defaultValue=a}f=f??p,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=k?i.checked:!!f,i.defaultChecked=!!f,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S),ed(i)}function nd(i,a,l){a==="number"&&zl(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Es(i,a,l,f){if(i=i.options,a){a={};for(var p=0;p<l.length;p++)a["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=a.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&f&&(i[l].defaultSelected=!0)}else{for(l=""+on(l),a=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,f&&(i[p].defaultSelected=!0);return}a!==null||i[p].disabled||(a=i[p])}a!==null&&(a.selected=!0)}}function gy(i,a,l){if(a!=null&&(a=""+on(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+on(l):""}function yy(i,a,l,f){if(a==null){if(f!=null){if(l!=null)throw Error(r(92));if(xe(f)){if(1<f.length)throw Error(r(93));f=f[0]}l=f}l==null&&(l=""),a=l}l=on(a),i.defaultValue=l,f=i.textContent,f===l&&f!==""&&f!==null&&(i.value=f),ed(i)}function ks(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var zC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function by(i,a,l){var f=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":f?i.setProperty(a,l):typeof l!="number"||l===0||zC.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function vy(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var p in a)f=a[p],a.hasOwnProperty(p)&&l[p]!==f&&by(i,p,f)}else for(var g in a)a.hasOwnProperty(g)&&by(i,g,a[g])}function rd(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var BC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bl(i){return jC.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Yn(){}var id=null;function sd(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ts=null,Cs=null;function Sy(i){var a=vs(i);if(a&&(i=a.stateNode)){var l=i[Bt]||null;e:switch(i=a.stateNode,a.type){case"input":if(td(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+ln(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var f=l[a];if(f!==i&&f.form===i.form){var p=f[Bt]||null;if(!p)throw Error(r(90));td(f,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<l.length;a++)f=l[a],f.form===i.form&&py(f)}break e;case"textarea":gy(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Es(i,!!l.multiple,a,!1)}}}var ad=!1;function xy(i,a,l){if(ad)return i(a,l);ad=!0;try{var f=i(a);return f}finally{if(ad=!1,(Ts!==null||Cs!==null)&&(Tc(),Ts&&(a=Ts,i=Cs,Cs=Ts=null,Sy(a),i)))for(a=0;a<i.length;a++)Sy(i[a])}}function Ba(i,a){var l=i.stateNode;if(l===null)return null;var f=l[Bt]||null;if(f===null)return null;l=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),od=!1;if(Wn)try{var ja={};Object.defineProperty(ja,"passive",{get:function(){od=!0}}),window.addEventListener("test",ja,ja),window.removeEventListener("test",ja,ja)}catch{od=!1}var Mr=null,ld=null,jl=null;function Ey(){if(jl)return jl;var i,a=ld,l=a.length,f,p="value"in Mr?Mr.value:Mr.textContent,g=p.length;for(i=0;i<l&&a[i]===p[i];i++);var S=l-i;for(f=1;f<=S&&a[l-f]===p[g-f];f++);return jl=p.slice(i,1<f?1-f:void 0)}function Ul(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Pl(){return!0}function ky(){return!1}function jt(i){function a(l,f,p,g,S){this._reactName=l,this._targetInst=p,this.type=f,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var k in i)i.hasOwnProperty(k)&&(l=i[k],this[k]=l?l(g):g[k]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Pl:ky,this.isPropagationStopped=ky,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Pl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Pl)},persist:function(){},isPersistent:Pl}),a}var _i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hl=jt(_i),Ua=y({},_i,{view:0,detail:0}),UC=jt(Ua),cd,ud,Pa,Vl=y({},Ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Pa&&(Pa&&i.type==="mousemove"?(cd=i.screenX-Pa.screenX,ud=i.screenY-Pa.screenY):ud=cd=0,Pa=i),cd)},movementY:function(i){return"movementY"in i?i.movementY:ud}}),Ty=jt(Vl),PC=y({},Vl,{dataTransfer:0}),HC=jt(PC),VC=y({},Ua,{relatedTarget:0}),fd=jt(VC),$C=y({},_i,{animationName:0,elapsedTime:0,pseudoElement:0}),qC=jt($C),FC=y({},_i,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),KC=jt(FC),GC=y({},_i,{data:0}),Cy=jt(GC),YC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XC(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=JC[i])?!!a[i]:!1}function dd(){return XC}var QC=y({},Ua,{key:function(i){if(i.key){var a=YC[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Ul(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?WC[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dd,charCode:function(i){return i.type==="keypress"?Ul(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ul(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ZC=jt(QC),ew=y({},Vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wy=jt(ew),tw=y({},Ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dd}),nw=jt(tw),rw=y({},_i,{propertyName:0,elapsedTime:0,pseudoElement:0}),iw=jt(rw),sw=y({},Vl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),aw=jt(sw),ow=y({},_i,{newState:0,oldState:0}),lw=jt(ow),cw=[9,13,27,32],hd=Wn&&"CompositionEvent"in window,Ha=null;Wn&&"documentMode"in document&&(Ha=document.documentMode);var uw=Wn&&"TextEvent"in window&&!Ha,Ay=Wn&&(!hd||Ha&&8<Ha&&11>=Ha),Ny=" ",My=!1;function Oy(i,a){switch(i){case"keyup":return cw.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ry(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ws=!1;function fw(i,a){switch(i){case"compositionend":return Ry(a);case"keypress":return a.which!==32?null:(My=!0,Ny);case"textInput":return i=a.data,i===Ny&&My?null:i;default:return null}}function dw(i,a){if(ws)return i==="compositionend"||!hd&&Oy(i,a)?(i=Ey(),jl=ld=Mr=null,ws=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ay&&a.locale!=="ko"?null:a.data;default:return null}}var hw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dy(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!hw[i.type]:a==="textarea"}function _y(i,a,l,f){Ts?Cs?Cs.push(f):Cs=[f]:Ts=f,a=Rc(a,"onChange"),0<a.length&&(l=new Hl("onChange","change",null,l,f),i.push({event:l,listeners:a}))}var Va=null,$a=null;function pw(i){mv(i,0)}function $l(i){var a=za(i);if(py(a))return i}function Iy(i,a){if(i==="change")return a}var Ly=!1;if(Wn){var pd;if(Wn){var md="oninput"in document;if(!md){var zy=document.createElement("div");zy.setAttribute("oninput","return;"),md=typeof zy.oninput=="function"}pd=md}else pd=!1;Ly=pd&&(!document.documentMode||9<document.documentMode)}function By(){Va&&(Va.detachEvent("onpropertychange",jy),$a=Va=null)}function jy(i){if(i.propertyName==="value"&&$l($a)){var a=[];_y(a,$a,i,sd(i)),xy(pw,a)}}function mw(i,a,l){i==="focusin"?(By(),Va=a,$a=l,Va.attachEvent("onpropertychange",jy)):i==="focusout"&&By()}function gw(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return $l($a)}function yw(i,a){if(i==="click")return $l(a)}function bw(i,a){if(i==="input"||i==="change")return $l(a)}function vw(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Wt=typeof Object.is=="function"?Object.is:vw;function qa(i,a){if(Wt(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),f=Object.keys(a);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var p=l[f];if(!Kf.call(a,p)||!Wt(i[p],a[p]))return!1}return!0}function Uy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Py(i,a){var l=Uy(i);i=0;for(var f;l;){if(l.nodeType===3){if(f=i+l.textContent.length,i<=a&&f>=a)return{node:l,offset:a-i};i=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Uy(l)}}function Hy(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Hy(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Vy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=zl(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=zl(i.document)}return a}function gd(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var Sw=Wn&&"documentMode"in document&&11>=document.documentMode,As=null,yd=null,Fa=null,bd=!1;function $y(i,a,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;bd||As==null||As!==zl(f)||(f=As,"selectionStart"in f&&gd(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Fa&&qa(Fa,f)||(Fa=f,f=Rc(yd,"onSelect"),0<f.length&&(a=new Hl("onSelect","select",null,a,l),i.push({event:a,listeners:f}),a.target=As)))}function Ii(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var Ns={animationend:Ii("Animation","AnimationEnd"),animationiteration:Ii("Animation","AnimationIteration"),animationstart:Ii("Animation","AnimationStart"),transitionrun:Ii("Transition","TransitionRun"),transitionstart:Ii("Transition","TransitionStart"),transitioncancel:Ii("Transition","TransitionCancel"),transitionend:Ii("Transition","TransitionEnd")},vd={},qy={};Wn&&(qy=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function Li(i){if(vd[i])return vd[i];if(!Ns[i])return i;var a=Ns[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in qy)return vd[i]=a[l];return i}var Fy=Li("animationend"),Ky=Li("animationiteration"),Gy=Li("animationstart"),xw=Li("transitionrun"),Ew=Li("transitionstart"),kw=Li("transitioncancel"),Yy=Li("transitionend"),Wy=new Map,Sd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sd.push("scrollEnd");function kn(i,a){Wy.set(i,a),Di(a,[i])}var ql=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},cn=[],Ms=0,xd=0;function Fl(){for(var i=Ms,a=xd=Ms=0;a<i;){var l=cn[a];cn[a++]=null;var f=cn[a];cn[a++]=null;var p=cn[a];cn[a++]=null;var g=cn[a];if(cn[a++]=null,f!==null&&p!==null){var S=f.pending;S===null?p.next=p:(p.next=S.next,S.next=p),f.pending=p}g!==0&&Jy(l,p,g)}}function Kl(i,a,l,f){cn[Ms++]=i,cn[Ms++]=a,cn[Ms++]=l,cn[Ms++]=f,xd|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function Ed(i,a,l,f){return Kl(i,a,l,f),Gl(i)}function zi(i,a){return Kl(i,null,null,a),Gl(i)}function Jy(i,a,l){i.lanes|=l;var f=i.alternate;f!==null&&(f.lanes|=l);for(var p=!1,g=i.return;g!==null;)g.childLanes|=l,f=g.alternate,f!==null&&(f.childLanes|=l),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(p=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,p&&a!==null&&(p=31-Yt(l),i=g.hiddenUpdates,f=i[p],f===null?i[p]=[a]:f.push(a),a.lane=l|536870912),g):null}function Gl(i){if(50<po)throw po=0,Rh=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Os={};function Tw(i,a,l,f){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(i,a,l,f){return new Tw(i,a,l,f)}function kd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Jn(i,a){var l=i.alternate;return l===null?(l=Jt(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Xy(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Yl(i,a,l,f,p,g){var S=0;if(f=i,typeof i=="function")kd(i)&&(S=1);else if(typeof i=="string")S=MA(i,l,ie.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case te:return i=Jt(31,l,a,p),i.elementType=te,i.lanes=g,i;case T:return Bi(l.children,p,g,a);case C:S=8,p|=24;break;case w:return i=Jt(12,l,a,p|2),i.elementType=w,i.lanes=g,i;case q:return i=Jt(13,l,a,p),i.elementType=q,i.lanes=g,i;case W:return i=Jt(19,l,a,p),i.elementType=W,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case j:S=10;break e;case I:S=9;break e;case F:S=11;break e;case P:S=14;break e;case ee:S=16,f=null;break e}S=29,l=Error(r(130,i===null?"null":typeof i,"")),f=null}return a=Jt(S,l,a,p),a.elementType=i,a.type=f,a.lanes=g,a}function Bi(i,a,l,f){return i=Jt(7,i,f,a),i.lanes=l,i}function Td(i,a,l){return i=Jt(6,i,null,a),i.lanes=l,i}function Qy(i){var a=Jt(18,null,null,0);return a.stateNode=i,a}function Cd(i,a,l){return a=Jt(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Zy=new WeakMap;function un(i,a){if(typeof i=="object"&&i!==null){var l=Zy.get(i);return l!==void 0?l:(a={value:i,source:a,stack:Qg(a)},Zy.set(i,a),a)}return{value:i,source:a,stack:Qg(a)}}var Rs=[],Ds=0,Wl=null,Ka=0,fn=[],dn=0,Or=null,Ln=1,zn="";function Xn(i,a){Rs[Ds++]=Ka,Rs[Ds++]=Wl,Wl=i,Ka=a}function e0(i,a,l){fn[dn++]=Ln,fn[dn++]=zn,fn[dn++]=Or,Or=i;var f=Ln;i=zn;var p=32-Yt(f)-1;f&=~(1<<p),l+=1;var g=32-Yt(a)+p;if(30<g){var S=p-p%5;g=(f&(1<<S)-1).toString(32),f>>=S,p-=S,Ln=1<<32-Yt(a)+p|l<<p|f,zn=g+i}else Ln=1<<g|l<<p|f,zn=i}function wd(i){i.return!==null&&(Xn(i,1),e0(i,1,0))}function Ad(i){for(;i===Wl;)Wl=Rs[--Ds],Rs[Ds]=null,Ka=Rs[--Ds],Rs[Ds]=null;for(;i===Or;)Or=fn[--dn],fn[dn]=null,zn=fn[--dn],fn[dn]=null,Ln=fn[--dn],fn[dn]=null}function t0(i,a){fn[dn++]=Ln,fn[dn++]=zn,fn[dn++]=Or,Ln=a.id,zn=a.overflow,Or=i}var St=null,qe=null,Ae=!1,Rr=null,hn=!1,Nd=Error(r(519));function Dr(i){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ga(un(a,i)),Nd}function n0(i){var a=i.stateNode,l=i.type,f=i.memoizedProps;switch(a[vt]=i,a[Bt]=f,l){case"dialog":Te("cancel",a),Te("close",a);break;case"iframe":case"object":case"embed":Te("load",a);break;case"video":case"audio":for(l=0;l<go.length;l++)Te(go[l],a);break;case"source":Te("error",a);break;case"img":case"image":case"link":Te("error",a),Te("load",a);break;case"details":Te("toggle",a);break;case"input":Te("invalid",a),my(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Te("invalid",a);break;case"textarea":Te("invalid",a),yy(a,f.value,f.defaultValue,f.children)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||f.suppressHydrationWarning===!0||vv(a.textContent,l)?(f.popover!=null&&(Te("beforetoggle",a),Te("toggle",a)),f.onScroll!=null&&Te("scroll",a),f.onScrollEnd!=null&&Te("scrollend",a),f.onClick!=null&&(a.onclick=Yn),a=!0):a=!1,a||Dr(i,!0)}function r0(i){for(St=i.return;St;)switch(St.tag){case 5:case 31:case 13:hn=!1;return;case 27:case 3:hn=!0;return;default:St=St.return}}function _s(i){if(i!==St)return!1;if(!Ae)return r0(i),Ae=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Kh(i.type,i.memoizedProps)),l=!l),l&&qe&&Dr(i),r0(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));qe=Nv(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));qe=Nv(i)}else a===27?(a=qe,Kr(i.type)?(i=Xh,Xh=null,qe=i):qe=a):qe=St?mn(i.stateNode.nextSibling):null;return!0}function ji(){qe=St=null,Ae=!1}function Md(){var i=Rr;return i!==null&&(Vt===null?Vt=i:Vt.push.apply(Vt,i),Rr=null),i}function Ga(i){Rr===null?Rr=[i]:Rr.push(i)}var Od=N(null),Ui=null,Qn=null;function _r(i,a,l){X(Od,a._currentValue),a._currentValue=l}function Zn(i){i._currentValue=Od.current,H(Od)}function Rd(i,a,l){for(;i!==null;){var f=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),i===l)break;i=i.return}}function Dd(i,a,l,f){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var g=p.dependencies;if(g!==null){var S=p.child;g=g.firstContext;e:for(;g!==null;){var k=g;g=p;for(var A=0;A<a.length;A++)if(k.context===a[A]){g.lanes|=l,k=g.alternate,k!==null&&(k.lanes|=l),Rd(g.return,l,i),f||(S=null);break e}g=k.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(r(341));S.lanes|=l,g=S.alternate,g!==null&&(g.lanes|=l),Rd(S,l,i),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===i){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function Is(i,a,l,f){i=null;for(var p=a,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var k=p.type;Wt(p.pendingProps.value,S.value)||(i!==null?i.push(k):i=[k])}}else if(p===De.current){if(S=p.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(xo):i=[xo])}p=p.return}i!==null&&Dd(a,i,l,f),a.flags|=262144}function Jl(i){for(i=i.firstContext;i!==null;){if(!Wt(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Pi(i){Ui=i,Qn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function xt(i){return i0(Ui,i)}function Xl(i,a){return Ui===null&&Pi(i),i0(i,a)}function i0(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Qn===null){if(i===null)throw Error(r(308));Qn=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Qn=Qn.next=a;return l}var Cw=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,f){i.push(f)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},ww=n.unstable_scheduleCallback,Aw=n.unstable_NormalPriority,st={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _d(){return{controller:new Cw,data:new Map,refCount:0}}function Ya(i){i.refCount--,i.refCount===0&&ww(Aw,function(){i.controller.abort()})}var Wa=null,Id=0,Ls=0,zs=null;function Nw(i,a){if(Wa===null){var l=Wa=[];Id=0,Ls=Bh(),zs={status:"pending",value:void 0,then:function(f){l.push(f)}}}return Id++,a.then(s0,s0),a}function s0(){if(--Id===0&&Wa!==null){zs!==null&&(zs.status="fulfilled");var i=Wa;Wa=null,Ls=0,zs=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function Mw(i,a){var l=[],f={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){f.status="fulfilled",f.value=a;for(var p=0;p<l.length;p++)(0,l[p])(a)},function(p){for(f.status="rejected",f.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),f}var a0=z.S;z.S=function(i,a){$b=Kt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&Nw(i,a),a0!==null&&a0(i,a)};var Hi=N(null);function Ld(){var i=Hi.current;return i!==null?i:He.pooledCache}function Ql(i,a){a===null?X(Hi,Hi.current):X(Hi,a.pool)}function o0(){var i=Ld();return i===null?null:{parent:st._currentValue,pool:i}}var Bs=Error(r(460)),zd=Error(r(474)),Zl=Error(r(542)),ec={then:function(){}};function l0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function c0(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(Yn,Yn),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,f0(i),i;default:if(typeof a.status=="string")a.then(Yn,Yn);else{if(i=He,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(f){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=f}},function(f){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,f0(i),i}throw $i=a,Bs}}function Vi(i){try{var a=i._init;return a(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?($i=l,Bs):l}}var $i=null;function u0(){if($i===null)throw Error(r(459));var i=$i;return $i=null,i}function f0(i){if(i===Bs||i===Zl)throw Error(r(483))}var js=null,Ja=0;function tc(i){var a=Ja;return Ja+=1,js===null&&(js=[]),c0(js,i,a)}function Xa(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function nc(i,a){throw a.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function d0(i){function a(R,M){if(i){var D=R.deletions;D===null?(R.deletions=[M],R.flags|=16):D.push(M)}}function l(R,M){if(!i)return null;for(;M!==null;)a(R,M),M=M.sibling;return null}function f(R){for(var M=new Map;R!==null;)R.key!==null?M.set(R.key,R):M.set(R.index,R),R=R.sibling;return M}function p(R,M){return R=Jn(R,M),R.index=0,R.sibling=null,R}function g(R,M,D){return R.index=D,i?(D=R.alternate,D!==null?(D=D.index,D<M?(R.flags|=67108866,M):D):(R.flags|=67108866,M)):(R.flags|=1048576,M)}function S(R){return i&&R.alternate===null&&(R.flags|=67108866),R}function k(R,M,D,V){return M===null||M.tag!==6?(M=Td(D,R.mode,V),M.return=R,M):(M=p(M,D),M.return=R,M)}function A(R,M,D,V){var ae=D.type;return ae===T?U(R,M,D.props.children,V,D.key):M!==null&&(M.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===ee&&Vi(ae)===M.type)?(M=p(M,D.props),Xa(M,D),M.return=R,M):(M=Yl(D.type,D.key,D.props,null,R.mode,V),Xa(M,D),M.return=R,M)}function _(R,M,D,V){return M===null||M.tag!==4||M.stateNode.containerInfo!==D.containerInfo||M.stateNode.implementation!==D.implementation?(M=Cd(D,R.mode,V),M.return=R,M):(M=p(M,D.children||[]),M.return=R,M)}function U(R,M,D,V,ae){return M===null||M.tag!==7?(M=Bi(D,R.mode,V,ae),M.return=R,M):(M=p(M,D),M.return=R,M)}function $(R,M,D){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Td(""+M,R.mode,D),M.return=R,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case v:return D=Yl(M.type,M.key,M.props,null,R.mode,D),Xa(D,M),D.return=R,D;case x:return M=Cd(M,R.mode,D),M.return=R,M;case ee:return M=Vi(M),$(R,M,D)}if(xe(M)||Q(M))return M=Bi(M,R.mode,D,null),M.return=R,M;if(typeof M.then=="function")return $(R,tc(M),D);if(M.$$typeof===j)return $(R,Xl(R,M),D);nc(R,M)}return null}function L(R,M,D,V){var ae=M!==null?M.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return ae!==null?null:k(R,M,""+D,V);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case v:return D.key===ae?A(R,M,D,V):null;case x:return D.key===ae?_(R,M,D,V):null;case ee:return D=Vi(D),L(R,M,D,V)}if(xe(D)||Q(D))return ae!==null?null:U(R,M,D,V,null);if(typeof D.then=="function")return L(R,M,tc(D),V);if(D.$$typeof===j)return L(R,M,Xl(R,D),V);nc(R,D)}return null}function B(R,M,D,V,ae){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return R=R.get(D)||null,k(M,R,""+V,ae);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case v:return R=R.get(V.key===null?D:V.key)||null,A(M,R,V,ae);case x:return R=R.get(V.key===null?D:V.key)||null,_(M,R,V,ae);case ee:return V=Vi(V),B(R,M,D,V,ae)}if(xe(V)||Q(V))return R=R.get(D)||null,U(M,R,V,ae,null);if(typeof V.then=="function")return B(R,M,D,tc(V),ae);if(V.$$typeof===j)return B(R,M,D,Xl(M,V),ae);nc(M,V)}return null}function ne(R,M,D,V){for(var ae=null,Ne=null,se=M,ye=M=0,we=null;se!==null&&ye<D.length;ye++){se.index>ye?(we=se,se=null):we=se.sibling;var Me=L(R,se,D[ye],V);if(Me===null){se===null&&(se=we);break}i&&se&&Me.alternate===null&&a(R,se),M=g(Me,M,ye),Ne===null?ae=Me:Ne.sibling=Me,Ne=Me,se=we}if(ye===D.length)return l(R,se),Ae&&Xn(R,ye),ae;if(se===null){for(;ye<D.length;ye++)se=$(R,D[ye],V),se!==null&&(M=g(se,M,ye),Ne===null?ae=se:Ne.sibling=se,Ne=se);return Ae&&Xn(R,ye),ae}for(se=f(se);ye<D.length;ye++)we=B(se,R,ye,D[ye],V),we!==null&&(i&&we.alternate!==null&&se.delete(we.key===null?ye:we.key),M=g(we,M,ye),Ne===null?ae=we:Ne.sibling=we,Ne=we);return i&&se.forEach(function(Xr){return a(R,Xr)}),Ae&&Xn(R,ye),ae}function ue(R,M,D,V){if(D==null)throw Error(r(151));for(var ae=null,Ne=null,se=M,ye=M=0,we=null,Me=D.next();se!==null&&!Me.done;ye++,Me=D.next()){se.index>ye?(we=se,se=null):we=se.sibling;var Xr=L(R,se,Me.value,V);if(Xr===null){se===null&&(se=we);break}i&&se&&Xr.alternate===null&&a(R,se),M=g(Xr,M,ye),Ne===null?ae=Xr:Ne.sibling=Xr,Ne=Xr,se=we}if(Me.done)return l(R,se),Ae&&Xn(R,ye),ae;if(se===null){for(;!Me.done;ye++,Me=D.next())Me=$(R,Me.value,V),Me!==null&&(M=g(Me,M,ye),Ne===null?ae=Me:Ne.sibling=Me,Ne=Me);return Ae&&Xn(R,ye),ae}for(se=f(se);!Me.done;ye++,Me=D.next())Me=B(se,R,ye,Me.value,V),Me!==null&&(i&&Me.alternate!==null&&se.delete(Me.key===null?ye:Me.key),M=g(Me,M,ye),Ne===null?ae=Me:Ne.sibling=Me,Ne=Me);return i&&se.forEach(function(PA){return a(R,PA)}),Ae&&Xn(R,ye),ae}function Ue(R,M,D,V){if(typeof D=="object"&&D!==null&&D.type===T&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case v:e:{for(var ae=D.key;M!==null;){if(M.key===ae){if(ae=D.type,ae===T){if(M.tag===7){l(R,M.sibling),V=p(M,D.props.children),V.return=R,R=V;break e}}else if(M.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===ee&&Vi(ae)===M.type){l(R,M.sibling),V=p(M,D.props),Xa(V,D),V.return=R,R=V;break e}l(R,M);break}else a(R,M);M=M.sibling}D.type===T?(V=Bi(D.props.children,R.mode,V,D.key),V.return=R,R=V):(V=Yl(D.type,D.key,D.props,null,R.mode,V),Xa(V,D),V.return=R,R=V)}return S(R);case x:e:{for(ae=D.key;M!==null;){if(M.key===ae)if(M.tag===4&&M.stateNode.containerInfo===D.containerInfo&&M.stateNode.implementation===D.implementation){l(R,M.sibling),V=p(M,D.children||[]),V.return=R,R=V;break e}else{l(R,M);break}else a(R,M);M=M.sibling}V=Cd(D,R.mode,V),V.return=R,R=V}return S(R);case ee:return D=Vi(D),Ue(R,M,D,V)}if(xe(D))return ne(R,M,D,V);if(Q(D)){if(ae=Q(D),typeof ae!="function")throw Error(r(150));return D=ae.call(D),ue(R,M,D,V)}if(typeof D.then=="function")return Ue(R,M,tc(D),V);if(D.$$typeof===j)return Ue(R,M,Xl(R,D),V);nc(R,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,M!==null&&M.tag===6?(l(R,M.sibling),V=p(M,D),V.return=R,R=V):(l(R,M),V=Td(D,R.mode,V),V.return=R,R=V),S(R)):l(R,M)}return function(R,M,D,V){try{Ja=0;var ae=Ue(R,M,D,V);return js=null,ae}catch(se){if(se===Bs||se===Zl)throw se;var Ne=Jt(29,se,null,R.mode);return Ne.lanes=V,Ne.return=R,Ne}finally{}}}var qi=d0(!0),h0=d0(!1),Ir=!1;function Bd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jd(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Lr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function zr(i,a,l){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Re&2)!==0){var p=f.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),f.pending=a,a=Gl(i),Jy(i,null,l),a}return Kl(i,f,a,l),Gl(i)}function Qa(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var f=a.lanes;f&=i.pendingLanes,l|=f,a.lanes=l,iy(i,l)}}function Ud(i,a){var l=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?p=g=S:g=g.next=S,l=l.next}while(l!==null);g===null?p=g=a:g=g.next=a}else p=g=a;l={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:f.shared,callbacks:f.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var Pd=!1;function Za(){if(Pd){var i=zs;if(i!==null)throw i}}function eo(i,a,l,f){Pd=!1;var p=i.updateQueue;Ir=!1;var g=p.firstBaseUpdate,S=p.lastBaseUpdate,k=p.shared.pending;if(k!==null){p.shared.pending=null;var A=k,_=A.next;A.next=null,S===null?g=_:S.next=_,S=A;var U=i.alternate;U!==null&&(U=U.updateQueue,k=U.lastBaseUpdate,k!==S&&(k===null?U.firstBaseUpdate=_:k.next=_,U.lastBaseUpdate=A))}if(g!==null){var $=p.baseState;S=0,U=_=A=null,k=g;do{var L=k.lane&-536870913,B=L!==k.lane;if(B?(Ce&L)===L:(f&L)===L){L!==0&&L===Ls&&(Pd=!0),U!==null&&(U=U.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var ne=i,ue=k;L=a;var Ue=l;switch(ue.tag){case 1:if(ne=ue.payload,typeof ne=="function"){$=ne.call(Ue,$,L);break e}$=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=ue.payload,L=typeof ne=="function"?ne.call(Ue,$,L):ne,L==null)break e;$=y({},$,L);break e;case 2:Ir=!0}}L=k.callback,L!==null&&(i.flags|=64,B&&(i.flags|=8192),B=p.callbacks,B===null?p.callbacks=[L]:B.push(L))}else B={lane:L,tag:k.tag,payload:k.payload,callback:k.callback,next:null},U===null?(_=U=B,A=$):U=U.next=B,S|=L;if(k=k.next,k===null){if(k=p.shared.pending,k===null)break;B=k,k=B.next,B.next=null,p.lastBaseUpdate=B,p.shared.pending=null}}while(!0);U===null&&(A=$),p.baseState=A,p.firstBaseUpdate=_,p.lastBaseUpdate=U,g===null&&(p.shared.lanes=0),Hr|=S,i.lanes=S,i.memoizedState=$}}function p0(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function m0(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)p0(l[i],a)}var Us=N(null),rc=N(0);function g0(i,a){i=lr,X(rc,i),X(Us,a),lr=i|a.baseLanes}function Hd(){X(rc,lr),X(Us,Us.current)}function Vd(){lr=rc.current,H(Us),H(rc)}var Xt=N(null),pn=null;function Br(i){var a=i.alternate;X(nt,nt.current&1),X(Xt,i),pn===null&&(a===null||Us.current!==null||a.memoizedState!==null)&&(pn=i)}function $d(i){X(nt,nt.current),X(Xt,i),pn===null&&(pn=i)}function y0(i){i.tag===22?(X(nt,nt.current),X(Xt,i),pn===null&&(pn=i)):jr()}function jr(){X(nt,nt.current),X(Xt,Xt.current)}function Qt(i){H(Xt),pn===i&&(pn=null),H(nt)}var nt=N(0);function ic(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Wh(l)||Jh(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var er=0,ge=null,Be=null,at=null,sc=!1,Ps=!1,Fi=!1,ac=0,to=0,Hs=null,Ow=0;function Xe(){throw Error(r(321))}function qd(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!Wt(i[l],a[l]))return!1;return!0}function Fd(i,a,l,f,p,g){return er=g,ge=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,z.H=i===null||i.memoizedState===null?eb:ah,Fi=!1,g=l(f,p),Fi=!1,Ps&&(g=v0(a,l,f,p)),b0(i),g}function b0(i){z.H=io;var a=Be!==null&&Be.next!==null;if(er=0,at=Be=ge=null,sc=!1,to=0,Hs=null,a)throw Error(r(300));i===null||ot||(i=i.dependencies,i!==null&&Jl(i)&&(ot=!0))}function v0(i,a,l,f){ge=i;var p=0;do{if(Ps&&(Hs=null),to=0,Ps=!1,25<=p)throw Error(r(301));if(p+=1,at=Be=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}z.H=tb,g=a(l,f)}while(Ps);return g}function Rw(){var i=z.H,a=i.useState()[0];return a=typeof a.then=="function"?no(a):a,i=i.useState()[0],(Be!==null?Be.memoizedState:null)!==i&&(ge.flags|=1024),a}function Kd(){var i=ac!==0;return ac=0,i}function Gd(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function Yd(i){if(sc){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}sc=!1}er=0,at=Be=ge=null,Ps=!1,to=ac=0,Hs=null}function Dt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?ge.memoizedState=at=i:at=at.next=i,at}function rt(){if(Be===null){var i=ge.alternate;i=i!==null?i.memoizedState:null}else i=Be.next;var a=at===null?ge.memoizedState:at.next;if(a!==null)at=a,Be=i;else{if(i===null)throw ge.alternate===null?Error(r(467)):Error(r(310));Be=i,i={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},at===null?ge.memoizedState=at=i:at=at.next=i}return at}function oc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function no(i){var a=to;return to+=1,Hs===null&&(Hs=[]),i=c0(Hs,i,a),a=ge,(at===null?a.memoizedState:at.next)===null&&(a=a.alternate,z.H=a===null||a.memoizedState===null?eb:ah),i}function lc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return no(i);if(i.$$typeof===j)return xt(i)}throw Error(r(438,String(i)))}function Wd(i){var a=null,l=ge.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var f=ge.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=oc(),ge.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),f=0;f<i;f++)l[f]=de;return a.index++,l}function tr(i,a){return typeof a=="function"?a(i):a}function cc(i){var a=rt();return Jd(a,Be,i)}function Jd(i,a,l){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=l;var p=i.baseQueue,g=f.pending;if(g!==null){if(p!==null){var S=p.next;p.next=g.next,g.next=S}a.baseQueue=p=g,f.pending=null}if(g=i.baseState,p===null)i.memoizedState=g;else{a=p.next;var k=S=null,A=null,_=a,U=!1;do{var $=_.lane&-536870913;if($!==_.lane?(Ce&$)===$:(er&$)===$){var L=_.revertLane;if(L===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),$===Ls&&(U=!0);else if((er&L)===L){_=_.next,L===Ls&&(U=!0);continue}else $={lane:0,revertLane:_.revertLane,gesture:null,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null},A===null?(k=A=$,S=g):A=A.next=$,ge.lanes|=L,Hr|=L;$=_.action,Fi&&l(g,$),g=_.hasEagerState?_.eagerState:l(g,$)}else L={lane:$,revertLane:_.revertLane,gesture:_.gesture,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null},A===null?(k=A=L,S=g):A=A.next=L,ge.lanes|=$,Hr|=$;_=_.next}while(_!==null&&_!==a);if(A===null?S=g:A.next=k,!Wt(g,i.memoizedState)&&(ot=!0,U&&(l=zs,l!==null)))throw l;i.memoizedState=g,i.baseState=S,i.baseQueue=A,f.lastRenderedState=g}return p===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function Xd(i){var a=rt(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var f=l.dispatch,p=l.pending,g=a.memoizedState;if(p!==null){l.pending=null;var S=p=p.next;do g=i(g,S.action),S=S.next;while(S!==p);Wt(g,a.memoizedState)||(ot=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),l.lastRenderedState=g}return[g,f]}function S0(i,a,l){var f=ge,p=rt(),g=Ae;if(g){if(l===void 0)throw Error(r(407));l=l()}else l=a();var S=!Wt((Be||p).memoizedState,l);if(S&&(p.memoizedState=l,ot=!0),p=p.queue,eh(k0.bind(null,f,p,i),[i]),p.getSnapshot!==a||S||at!==null&&at.memoizedState.tag&1){if(f.flags|=2048,Vs(9,{destroy:void 0},E0.bind(null,f,p,l,a),null),He===null)throw Error(r(349));g||(er&127)!==0||x0(f,a,l)}return l}function x0(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=ge.updateQueue,a===null?(a=oc(),ge.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function E0(i,a,l,f){a.value=l,a.getSnapshot=f,T0(a)&&C0(i)}function k0(i,a,l){return l(function(){T0(a)&&C0(i)})}function T0(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!Wt(i,l)}catch{return!0}}function C0(i){var a=zi(i,2);a!==null&&$t(a,i,2)}function Qd(i){var a=Dt();if(typeof i=="function"){var l=i;if(i=l(),Fi){Ar(!0);try{l()}finally{Ar(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:i},a}function w0(i,a,l,f){return i.baseState=l,Jd(i,Be,typeof f=="function"?f:tr)}function Dw(i,a,l,f,p){if(dc(i))throw Error(r(485));if(i=a.action,i!==null){var g={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};z.T!==null?l(!0):g.isTransition=!1,f(g),l=a.pending,l===null?(g.next=a.pending=g,A0(a,g)):(g.next=l.next,a.pending=l.next=g)}}function A0(i,a){var l=a.action,f=a.payload,p=i.state;if(a.isTransition){var g=z.T,S={};z.T=S;try{var k=l(p,f),A=z.S;A!==null&&A(S,k),N0(i,a,k)}catch(_){Zd(i,a,_)}finally{g!==null&&S.types!==null&&(g.types=S.types),z.T=g}}else try{g=l(p,f),N0(i,a,g)}catch(_){Zd(i,a,_)}}function N0(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){M0(i,a,f)},function(f){return Zd(i,a,f)}):M0(i,a,l)}function M0(i,a,l){a.status="fulfilled",a.value=l,O0(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,A0(i,l)))}function Zd(i,a,l){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=l,O0(a),a=a.next;while(a!==f)}i.action=null}function O0(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function R0(i,a){return a}function D0(i,a){if(Ae){var l=He.formState;if(l!==null){e:{var f=ge;if(Ae){if(qe){t:{for(var p=qe,g=hn;p.nodeType!==8;){if(!g){p=null;break t}if(p=mn(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){qe=mn(p.nextSibling),f=p.data==="F!";break e}}Dr(f)}f=!1}f&&(a=l[0])}}return l=Dt(),l.memoizedState=l.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:R0,lastRenderedState:a},l.queue=f,l=X0.bind(null,ge,f),f.dispatch=l,f=Qd(!1),g=sh.bind(null,ge,!1,f.queue),f=Dt(),p={state:a,dispatch:null,action:i,pending:null},f.queue=p,l=Dw.bind(null,ge,p,g,l),p.dispatch=l,f.memoizedState=i,[a,l,!1]}function _0(i){var a=rt();return I0(a,Be,i)}function I0(i,a,l){if(a=Jd(i,a,R0)[0],i=cc(tr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=no(a)}catch(S){throw S===Bs?Zl:S}else f=a;a=rt();var p=a.queue,g=p.dispatch;return l!==a.memoizedState&&(ge.flags|=2048,Vs(9,{destroy:void 0},_w.bind(null,p,l),null)),[f,g,i]}function _w(i,a){i.action=a}function L0(i){var a=rt(),l=Be;if(l!==null)return I0(a,l,i);rt(),a=a.memoizedState,l=rt();var f=l.queue.dispatch;return l.memoizedState=i,[a,f,!1]}function Vs(i,a,l,f){return i={tag:i,create:l,deps:f,inst:a,next:null},a=ge.updateQueue,a===null&&(a=oc(),ge.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(f=l.next,l.next=i,i.next=f,a.lastEffect=i),i}function z0(){return rt().memoizedState}function uc(i,a,l,f){var p=Dt();ge.flags|=i,p.memoizedState=Vs(1|a,{destroy:void 0},l,f===void 0?null:f)}function fc(i,a,l,f){var p=rt();f=f===void 0?null:f;var g=p.memoizedState.inst;Be!==null&&f!==null&&qd(f,Be.memoizedState.deps)?p.memoizedState=Vs(a,g,l,f):(ge.flags|=i,p.memoizedState=Vs(1|a,g,l,f))}function B0(i,a){uc(8390656,8,i,a)}function eh(i,a){fc(2048,8,i,a)}function Iw(i){ge.flags|=4;var a=ge.updateQueue;if(a===null)a=oc(),ge.updateQueue=a,a.events=[i];else{var l=a.events;l===null?a.events=[i]:l.push(i)}}function j0(i){var a=rt().memoizedState;return Iw({ref:a,nextImpl:i}),function(){if((Re&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function U0(i,a){return fc(4,2,i,a)}function P0(i,a){return fc(4,4,i,a)}function H0(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function V0(i,a,l){l=l!=null?l.concat([i]):null,fc(4,4,H0.bind(null,a,i),l)}function th(){}function $0(i,a){var l=rt();a=a===void 0?null:a;var f=l.memoizedState;return a!==null&&qd(a,f[1])?f[0]:(l.memoizedState=[i,a],i)}function q0(i,a){var l=rt();a=a===void 0?null:a;var f=l.memoizedState;if(a!==null&&qd(a,f[1]))return f[0];if(f=i(),Fi){Ar(!0);try{i()}finally{Ar(!1)}}return l.memoizedState=[f,a],f}function nh(i,a,l){return l===void 0||(er&1073741824)!==0&&(Ce&261930)===0?i.memoizedState=a:(i.memoizedState=l,i=Fb(),ge.lanes|=i,Hr|=i,l)}function F0(i,a,l,f){return Wt(l,a)?l:Us.current!==null?(i=nh(i,l,f),Wt(i,a)||(ot=!0),i):(er&42)===0||(er&1073741824)!==0&&(Ce&261930)===0?(ot=!0,i.memoizedState=l):(i=Fb(),ge.lanes|=i,Hr|=i,a)}function K0(i,a,l,f,p){var g=J.p;J.p=g!==0&&8>g?g:8;var S=z.T,k={};z.T=k,sh(i,!1,a,l);try{var A=p(),_=z.S;if(_!==null&&_(k,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var U=Mw(A,f);ro(i,a,U,tn(i))}else ro(i,a,f,tn(i))}catch($){ro(i,a,{then:function(){},status:"rejected",reason:$},tn())}finally{J.p=g,S!==null&&k.types!==null&&(S.types=k.types),z.T=S}}function Lw(){}function rh(i,a,l,f){if(i.tag!==5)throw Error(r(476));var p=G0(i).queue;K0(i,p,a,ce,l===null?Lw:function(){return Y0(i),l(f)})}function G0(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:ce},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function Y0(i){var a=G0(i);a.next===null&&(a=i.alternate.memoizedState),ro(i,a.next.queue,{},tn())}function ih(){return xt(xo)}function W0(){return rt().memoizedState}function J0(){return rt().memoizedState}function zw(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=tn();i=Lr(l);var f=zr(a,i,l);f!==null&&($t(f,a,l),Qa(f,a,l)),a={cache:_d()},i.payload=a;return}a=a.return}}function Bw(i,a,l){var f=tn();l={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},dc(i)?Q0(a,l):(l=Ed(i,a,l,f),l!==null&&($t(l,i,f),Z0(l,a,f)))}function X0(i,a,l){var f=tn();ro(i,a,l,f)}function ro(i,a,l,f){var p={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(dc(i))Q0(a,p);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var S=a.lastRenderedState,k=g(S,l);if(p.hasEagerState=!0,p.eagerState=k,Wt(k,S))return Kl(i,a,p,0),He===null&&Fl(),!1}catch{}finally{}if(l=Ed(i,a,p,f),l!==null)return $t(l,i,f),Z0(l,a,f),!0}return!1}function sh(i,a,l,f){if(f={lane:2,revertLane:Bh(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},dc(i)){if(a)throw Error(r(479))}else a=Ed(i,l,f,2),a!==null&&$t(a,i,2)}function dc(i){var a=i.alternate;return i===ge||a!==null&&a===ge}function Q0(i,a){Ps=sc=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function Z0(i,a,l){if((l&4194048)!==0){var f=a.lanes;f&=i.pendingLanes,l|=f,a.lanes=l,iy(i,l)}}var io={readContext:xt,use:lc,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe};io.useEffectEvent=Xe;var eb={readContext:xt,use:lc,useCallback:function(i,a){return Dt().memoizedState=[i,a===void 0?null:a],i},useContext:xt,useEffect:B0,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,uc(4194308,4,H0.bind(null,a,i),l)},useLayoutEffect:function(i,a){return uc(4194308,4,i,a)},useInsertionEffect:function(i,a){uc(4,2,i,a)},useMemo:function(i,a){var l=Dt();a=a===void 0?null:a;var f=i();if(Fi){Ar(!0);try{i()}finally{Ar(!1)}}return l.memoizedState=[f,a],f},useReducer:function(i,a,l){var f=Dt();if(l!==void 0){var p=l(a);if(Fi){Ar(!0);try{l(a)}finally{Ar(!1)}}}else p=a;return f.memoizedState=f.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},f.queue=i,i=i.dispatch=Bw.bind(null,ge,i),[f.memoizedState,i]},useRef:function(i){var a=Dt();return i={current:i},a.memoizedState=i},useState:function(i){i=Qd(i);var a=i.queue,l=X0.bind(null,ge,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:th,useDeferredValue:function(i,a){var l=Dt();return nh(l,i,a)},useTransition:function(){var i=Qd(!1);return i=K0.bind(null,ge,i.queue,!0,!1),Dt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var f=ge,p=Dt();if(Ae){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),He===null)throw Error(r(349));(Ce&127)!==0||x0(f,a,l)}p.memoizedState=l;var g={value:l,getSnapshot:a};return p.queue=g,B0(k0.bind(null,f,g,i),[i]),f.flags|=2048,Vs(9,{destroy:void 0},E0.bind(null,f,g,l,a),null),l},useId:function(){var i=Dt(),a=He.identifierPrefix;if(Ae){var l=zn,f=Ln;l=(f&~(1<<32-Yt(f)-1)).toString(32)+l,a="_"+a+"R_"+l,l=ac++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=Ow++,a="_"+a+"r_"+l.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:ih,useFormState:D0,useActionState:D0,useOptimistic:function(i){var a=Dt();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=sh.bind(null,ge,!0,l),l.dispatch=a,[i,a]},useMemoCache:Wd,useCacheRefresh:function(){return Dt().memoizedState=zw.bind(null,ge)},useEffectEvent:function(i){var a=Dt(),l={impl:i};return a.memoizedState=l,function(){if((Re&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},ah={readContext:xt,use:lc,useCallback:$0,useContext:xt,useEffect:eh,useImperativeHandle:V0,useInsertionEffect:U0,useLayoutEffect:P0,useMemo:q0,useReducer:cc,useRef:z0,useState:function(){return cc(tr)},useDebugValue:th,useDeferredValue:function(i,a){var l=rt();return F0(l,Be.memoizedState,i,a)},useTransition:function(){var i=cc(tr)[0],a=rt().memoizedState;return[typeof i=="boolean"?i:no(i),a]},useSyncExternalStore:S0,useId:W0,useHostTransitionStatus:ih,useFormState:_0,useActionState:_0,useOptimistic:function(i,a){var l=rt();return w0(l,Be,i,a)},useMemoCache:Wd,useCacheRefresh:J0};ah.useEffectEvent=j0;var tb={readContext:xt,use:lc,useCallback:$0,useContext:xt,useEffect:eh,useImperativeHandle:V0,useInsertionEffect:U0,useLayoutEffect:P0,useMemo:q0,useReducer:Xd,useRef:z0,useState:function(){return Xd(tr)},useDebugValue:th,useDeferredValue:function(i,a){var l=rt();return Be===null?nh(l,i,a):F0(l,Be.memoizedState,i,a)},useTransition:function(){var i=Xd(tr)[0],a=rt().memoizedState;return[typeof i=="boolean"?i:no(i),a]},useSyncExternalStore:S0,useId:W0,useHostTransitionStatus:ih,useFormState:L0,useActionState:L0,useOptimistic:function(i,a){var l=rt();return Be!==null?w0(l,Be,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Wd,useCacheRefresh:J0};tb.useEffectEvent=j0;function oh(i,a,l,f){a=i.memoizedState,l=l(f,a),l=l==null?a:y({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var lh={enqueueSetState:function(i,a,l){i=i._reactInternals;var f=tn(),p=Lr(f);p.payload=a,l!=null&&(p.callback=l),a=zr(i,p,f),a!==null&&($t(a,i,f),Qa(a,i,f))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var f=tn(),p=Lr(f);p.tag=1,p.payload=a,l!=null&&(p.callback=l),a=zr(i,p,f),a!==null&&($t(a,i,f),Qa(a,i,f))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=tn(),f=Lr(l);f.tag=2,a!=null&&(f.callback=a),a=zr(i,f,l),a!==null&&($t(a,i,l),Qa(a,i,l))}};function nb(i,a,l,f,p,g,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,g,S):a.prototype&&a.prototype.isPureReactComponent?!qa(l,f)||!qa(p,g):!0}function rb(i,a,l,f){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,f),a.state!==i&&lh.enqueueReplaceState(a,a.state,null)}function Ki(i,a){var l=a;if("ref"in a){l={};for(var f in a)f!=="ref"&&(l[f]=a[f])}if(i=i.defaultProps){l===a&&(l=y({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}function ib(i){ql(i)}function sb(i){console.error(i)}function ab(i){ql(i)}function hc(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function ob(i,a,l){try{var f=i.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function ch(i,a,l){return l=Lr(l),l.tag=3,l.payload={element:null},l.callback=function(){hc(i,a)},l}function lb(i){return i=Lr(i),i.tag=3,i}function cb(i,a,l,f){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var g=f.value;i.payload=function(){return p(g)},i.callback=function(){ob(a,l,f)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){ob(a,l,f),typeof p!="function"&&(Vr===null?Vr=new Set([this]):Vr.add(this));var k=f.stack;this.componentDidCatch(f.value,{componentStack:k!==null?k:""})})}function jw(i,a,l,f,p){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=l.alternate,a!==null&&Is(a,l,p,!0),l=Xt.current,l!==null){switch(l.tag){case 31:case 13:return pn===null?Cc():l.alternate===null&&Qe===0&&(Qe=3),l.flags&=-257,l.flags|=65536,l.lanes=p,f===ec?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([f]):a.add(f),Ih(i,f,p)),!1;case 22:return l.flags|=65536,f===ec?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([f]):l.add(f)),Ih(i,f,p)),!1}throw Error(r(435,l.tag))}return Ih(i,f,p),Cc(),!1}if(Ae)return a=Xt.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,f!==Nd&&(i=Error(r(422),{cause:f}),Ga(un(i,l)))):(f!==Nd&&(a=Error(r(423),{cause:f}),Ga(un(a,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,f=un(f,l),p=ch(i.stateNode,f,p),Ud(i,p),Qe!==4&&(Qe=2)),!1;var g=Error(r(520),{cause:f});if(g=un(g,l),ho===null?ho=[g]:ho.push(g),Qe!==4&&(Qe=2),a===null)return!0;f=un(f,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=ch(l.stateNode,f,i),Ud(l,i),!1;case 1:if(a=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Vr===null||!Vr.has(g))))return l.flags|=65536,p&=-p,l.lanes|=p,p=lb(p),cb(p,i,l,f),Ud(l,p),!1}l=l.return}while(l!==null);return!1}var uh=Error(r(461)),ot=!1;function Et(i,a,l,f){a.child=i===null?h0(a,null,l,f):qi(a,i.child,l,f)}function ub(i,a,l,f,p){l=l.render;var g=a.ref;if("ref"in f){var S={};for(var k in f)k!=="ref"&&(S[k]=f[k])}else S=f;return Pi(a),f=Fd(i,a,l,S,g,p),k=Kd(),i!==null&&!ot?(Gd(i,a,p),nr(i,a,p)):(Ae&&k&&wd(a),a.flags|=1,Et(i,a,f,p),a.child)}function fb(i,a,l,f,p){if(i===null){var g=l.type;return typeof g=="function"&&!kd(g)&&g.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=g,db(i,a,g,f,p)):(i=Yl(l.type,null,f,a,a.mode,p),i.ref=a.ref,i.return=a,a.child=i)}if(g=i.child,!bh(i,p)){var S=g.memoizedProps;if(l=l.compare,l=l!==null?l:qa,l(S,f)&&i.ref===a.ref)return nr(i,a,p)}return a.flags|=1,i=Jn(g,f),i.ref=a.ref,i.return=a,a.child=i}function db(i,a,l,f,p){if(i!==null){var g=i.memoizedProps;if(qa(g,f)&&i.ref===a.ref)if(ot=!1,a.pendingProps=f=g,bh(i,p))(i.flags&131072)!==0&&(ot=!0);else return a.lanes=i.lanes,nr(i,a,p)}return fh(i,a,l,f,p)}function hb(i,a,l,f){var p=f.children,g=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((a.flags&128)!==0){if(g=g!==null?g.baseLanes|l:l,i!==null){for(f=a.child=i.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;f=p&~g}else f=0,a.child=null;return pb(i,a,g,l,f)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ql(a,g!==null?g.cachePool:null),g!==null?g0(a,g):Hd(),y0(a);else return f=a.lanes=536870912,pb(i,a,g!==null?g.baseLanes|l:l,l,f)}else g!==null?(Ql(a,g.cachePool),g0(a,g),jr(),a.memoizedState=null):(i!==null&&Ql(a,null),Hd(),jr());return Et(i,a,p,l),a.child}function so(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function pb(i,a,l,f,p){var g=Ld();return g=g===null?null:{parent:st._currentValue,pool:g},a.memoizedState={baseLanes:l,cachePool:g},i!==null&&Ql(a,null),Hd(),y0(a),i!==null&&Is(i,a,f,!0),a.childLanes=p,null}function pc(i,a){return a=gc({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function mb(i,a,l){return qi(a,i.child,null,l),i=pc(a,a.pendingProps),i.flags|=2,Qt(a),a.memoizedState=null,i}function Uw(i,a,l){var f=a.pendingProps,p=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(Ae){if(f.mode==="hidden")return i=pc(a,f),a.lanes=536870912,so(null,i);if($d(a),(i=qe)?(i=Av(i,hn),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Or!==null?{id:Ln,overflow:zn}:null,retryLane:536870912,hydrationErrors:null},l=Qy(i),l.return=a,a.child=l,St=a,qe=null)):i=null,i===null)throw Dr(a);return a.lanes=536870912,null}return pc(a,f)}var g=i.memoizedState;if(g!==null){var S=g.dehydrated;if($d(a),p)if(a.flags&256)a.flags&=-257,a=mb(i,a,l);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(r(558));else if(ot||Is(i,a,l,!1),p=(l&i.childLanes)!==0,ot||p){if(f=He,f!==null&&(S=sy(f,l),S!==0&&S!==g.retryLane))throw g.retryLane=S,zi(i,S),$t(f,i,S),uh;Cc(),a=mb(i,a,l)}else i=g.treeContext,qe=mn(S.nextSibling),St=a,Ae=!0,Rr=null,hn=!1,i!==null&&t0(a,i),a=pc(a,f),a.flags|=4096;return a}return i=Jn(i.child,{mode:f.mode,children:f.children}),i.ref=a.ref,a.child=i,i.return=a,i}function mc(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function fh(i,a,l,f,p){return Pi(a),l=Fd(i,a,l,f,void 0,p),f=Kd(),i!==null&&!ot?(Gd(i,a,p),nr(i,a,p)):(Ae&&f&&wd(a),a.flags|=1,Et(i,a,l,p),a.child)}function gb(i,a,l,f,p,g){return Pi(a),a.updateQueue=null,l=v0(a,f,l,p),b0(i),f=Kd(),i!==null&&!ot?(Gd(i,a,g),nr(i,a,g)):(Ae&&f&&wd(a),a.flags|=1,Et(i,a,l,g),a.child)}function yb(i,a,l,f,p){if(Pi(a),a.stateNode===null){var g=Os,S=l.contextType;typeof S=="object"&&S!==null&&(g=xt(S)),g=new l(f,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=lh,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=f,g.state=a.memoizedState,g.refs={},Bd(a),S=l.contextType,g.context=typeof S=="object"&&S!==null?xt(S):Os,g.state=a.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(oh(a,l,S,f),g.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&lh.enqueueReplaceState(g,g.state,null),eo(a,f,g,p),Za(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(i===null){g=a.stateNode;var k=a.memoizedProps,A=Ki(l,k);g.props=A;var _=g.context,U=l.contextType;S=Os,typeof U=="object"&&U!==null&&(S=xt(U));var $=l.getDerivedStateFromProps;U=typeof $=="function"||typeof g.getSnapshotBeforeUpdate=="function",k=a.pendingProps!==k,U||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(k||_!==S)&&rb(a,g,f,S),Ir=!1;var L=a.memoizedState;g.state=L,eo(a,f,g,p),Za(),_=a.memoizedState,k||L!==_||Ir?(typeof $=="function"&&(oh(a,l,$,f),_=a.memoizedState),(A=Ir||nb(a,l,A,f,L,_,S))?(U||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=_),g.props=f,g.state=_,g.context=S,f=A):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{g=a.stateNode,jd(i,a),S=a.memoizedProps,U=Ki(l,S),g.props=U,$=a.pendingProps,L=g.context,_=l.contextType,A=Os,typeof _=="object"&&_!==null&&(A=xt(_)),k=l.getDerivedStateFromProps,(_=typeof k=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==$||L!==A)&&rb(a,g,f,A),Ir=!1,L=a.memoizedState,g.state=L,eo(a,f,g,p),Za();var B=a.memoizedState;S!==$||L!==B||Ir||i!==null&&i.dependencies!==null&&Jl(i.dependencies)?(typeof k=="function"&&(oh(a,l,k,f),B=a.memoizedState),(U=Ir||nb(a,l,U,f,L,B,A)||i!==null&&i.dependencies!==null&&Jl(i.dependencies))?(_||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(f,B,A),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(f,B,A)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===i.memoizedProps&&L===i.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&L===i.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=B),g.props=f,g.state=B,g.context=A,f=U):(typeof g.componentDidUpdate!="function"||S===i.memoizedProps&&L===i.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&L===i.memoizedState||(a.flags|=1024),f=!1)}return g=f,mc(i,a),f=(a.flags&128)!==0,g||f?(g=a.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,i!==null&&f?(a.child=qi(a,i.child,null,p),a.child=qi(a,null,l,p)):Et(i,a,l,p),a.memoizedState=g.state,i=a.child):i=nr(i,a,p),i}function bb(i,a,l,f){return ji(),a.flags|=256,Et(i,a,l,f),a.child}var dh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hh(i){return{baseLanes:i,cachePool:o0()}}function ph(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=en),i}function vb(i,a,l){var f=a.pendingProps,p=!1,g=(a.flags&128)!==0,S;if((S=g)||(S=i!==null&&i.memoizedState===null?!1:(nt.current&2)!==0),S&&(p=!0,a.flags&=-129),S=(a.flags&32)!==0,a.flags&=-33,i===null){if(Ae){if(p?Br(a):jr(),(i=qe)?(i=Av(i,hn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Or!==null?{id:Ln,overflow:zn}:null,retryLane:536870912,hydrationErrors:null},l=Qy(i),l.return=a,a.child=l,St=a,qe=null)):i=null,i===null)throw Dr(a);return Jh(i)?a.lanes=32:a.lanes=536870912,null}var k=f.children;return f=f.fallback,p?(jr(),p=a.mode,k=gc({mode:"hidden",children:k},p),f=Bi(f,p,l,null),k.return=a,f.return=a,k.sibling=f,a.child=k,f=a.child,f.memoizedState=hh(l),f.childLanes=ph(i,S,l),a.memoizedState=dh,so(null,f)):(Br(a),mh(a,k))}var A=i.memoizedState;if(A!==null&&(k=A.dehydrated,k!==null)){if(g)a.flags&256?(Br(a),a.flags&=-257,a=gh(i,a,l)):a.memoizedState!==null?(jr(),a.child=i.child,a.flags|=128,a=null):(jr(),k=f.fallback,p=a.mode,f=gc({mode:"visible",children:f.children},p),k=Bi(k,p,l,null),k.flags|=2,f.return=a,k.return=a,f.sibling=k,a.child=f,qi(a,i.child,null,l),f=a.child,f.memoizedState=hh(l),f.childLanes=ph(i,S,l),a.memoizedState=dh,a=so(null,f));else if(Br(a),Jh(k)){if(S=k.nextSibling&&k.nextSibling.dataset,S)var _=S.dgst;S=_,f=Error(r(419)),f.stack="",f.digest=S,Ga({value:f,source:null,stack:null}),a=gh(i,a,l)}else if(ot||Is(i,a,l,!1),S=(l&i.childLanes)!==0,ot||S){if(S=He,S!==null&&(f=sy(S,l),f!==0&&f!==A.retryLane))throw A.retryLane=f,zi(i,f),$t(S,i,f),uh;Wh(k)||Cc(),a=gh(i,a,l)}else Wh(k)?(a.flags|=192,a.child=i.child,a=null):(i=A.treeContext,qe=mn(k.nextSibling),St=a,Ae=!0,Rr=null,hn=!1,i!==null&&t0(a,i),a=mh(a,f.children),a.flags|=4096);return a}return p?(jr(),k=f.fallback,p=a.mode,A=i.child,_=A.sibling,f=Jn(A,{mode:"hidden",children:f.children}),f.subtreeFlags=A.subtreeFlags&65011712,_!==null?k=Jn(_,k):(k=Bi(k,p,l,null),k.flags|=2),k.return=a,f.return=a,f.sibling=k,a.child=f,so(null,f),f=a.child,k=i.child.memoizedState,k===null?k=hh(l):(p=k.cachePool,p!==null?(A=st._currentValue,p=p.parent!==A?{parent:A,pool:A}:p):p=o0(),k={baseLanes:k.baseLanes|l,cachePool:p}),f.memoizedState=k,f.childLanes=ph(i,S,l),a.memoizedState=dh,so(i.child,f)):(Br(a),l=i.child,i=l.sibling,l=Jn(l,{mode:"visible",children:f.children}),l.return=a,l.sibling=null,i!==null&&(S=a.deletions,S===null?(a.deletions=[i],a.flags|=16):S.push(i)),a.child=l,a.memoizedState=null,l)}function mh(i,a){return a=gc({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function gc(i,a){return i=Jt(22,i,null,a),i.lanes=0,i}function gh(i,a,l){return qi(a,i.child,null,l),i=mh(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function Sb(i,a,l){i.lanes|=a;var f=i.alternate;f!==null&&(f.lanes|=a),Rd(i.return,a,l)}function yh(i,a,l,f,p,g){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:p,treeForkCount:g}:(S.isBackwards=a,S.rendering=null,S.renderingStartTime=0,S.last=f,S.tail=l,S.tailMode=p,S.treeForkCount=g)}function xb(i,a,l){var f=a.pendingProps,p=f.revealOrder,g=f.tail;f=f.children;var S=nt.current,k=(S&2)!==0;if(k?(S=S&1|2,a.flags|=128):S&=1,X(nt,S),Et(i,a,f,l),f=Ae?Ka:0,!k&&i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Sb(i,l,a);else if(i.tag===19)Sb(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(l=a.child,p=null;l!==null;)i=l.alternate,i!==null&&ic(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),yh(a,!1,p,l,g,f);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(i=p.alternate,i!==null&&ic(i)===null){a.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}yh(a,!0,l,null,g,f);break;case"together":yh(a,!1,null,null,void 0,f);break;default:a.memoizedState=null}return a.child}function nr(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),Hr|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(Is(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=Jn(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=Jn(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function bh(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Jl(i)))}function Pw(i,a,l){switch(a.tag){case 3:Rt(a,a.stateNode.containerInfo),_r(a,st,i.memoizedState.cache),ji();break;case 27:case 5:Ra(a);break;case 4:Rt(a,a.stateNode.containerInfo);break;case 10:_r(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,$d(a),null;break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(Br(a),a.flags|=128,null):(l&a.child.childLanes)!==0?vb(i,a,l):(Br(a),i=nr(i,a,l),i!==null?i.sibling:null);Br(a);break;case 19:var p=(i.flags&128)!==0;if(f=(l&a.childLanes)!==0,f||(Is(i,a,l,!1),f=(l&a.childLanes)!==0),p){if(f)return xb(i,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),X(nt,nt.current),f)break;return null;case 22:return a.lanes=0,hb(i,a,l,a.pendingProps);case 24:_r(a,st,i.memoizedState.cache)}return nr(i,a,l)}function Eb(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)ot=!0;else{if(!bh(i,l)&&(a.flags&128)===0)return ot=!1,Pw(i,a,l);ot=(i.flags&131072)!==0}else ot=!1,Ae&&(a.flags&1048576)!==0&&e0(a,Ka,a.index);switch(a.lanes=0,a.tag){case 16:e:{var f=a.pendingProps;if(i=Vi(a.elementType),a.type=i,typeof i=="function")kd(i)?(f=Ki(i,f),a.tag=1,a=yb(null,a,i,f,l)):(a.tag=0,a=fh(null,a,i,f,l));else{if(i!=null){var p=i.$$typeof;if(p===F){a.tag=11,a=ub(null,a,i,f,l);break e}else if(p===P){a.tag=14,a=fb(null,a,i,f,l);break e}}throw a=_e(i)||i,Error(r(306,a,""))}}return a;case 0:return fh(i,a,a.type,a.pendingProps,l);case 1:return f=a.type,p=Ki(f,a.pendingProps),yb(i,a,f,p,l);case 3:e:{if(Rt(a,a.stateNode.containerInfo),i===null)throw Error(r(387));f=a.pendingProps;var g=a.memoizedState;p=g.element,jd(i,a),eo(a,f,null,l);var S=a.memoizedState;if(f=S.cache,_r(a,st,f),f!==g.cache&&Dd(a,[st],l,!0),Za(),f=S.element,g.isDehydrated)if(g={element:f,isDehydrated:!1,cache:S.cache},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){a=bb(i,a,f,l);break e}else if(f!==p){p=un(Error(r(424)),a),Ga(p),a=bb(i,a,f,l);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(qe=mn(i.firstChild),St=a,Ae=!0,Rr=null,hn=!0,l=h0(a,null,f,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ji(),f===p){a=nr(i,a,l);break e}Et(i,a,f,l)}a=a.child}return a;case 26:return mc(i,a),i===null?(l=_v(a.type,null,a.pendingProps,null))?a.memoizedState=l:Ae||(l=a.type,i=a.pendingProps,f=Dc(Ee.current).createElement(l),f[vt]=a,f[Bt]=i,kt(f,l,i),ht(f),a.stateNode=f):a.memoizedState=_v(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Ra(a),i===null&&Ae&&(f=a.stateNode=Ov(a.type,a.pendingProps,Ee.current),St=a,hn=!0,p=qe,Kr(a.type)?(Xh=p,qe=mn(f.firstChild)):qe=p),Et(i,a,a.pendingProps.children,l),mc(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Ae&&((p=f=qe)&&(f=gA(f,a.type,a.pendingProps,hn),f!==null?(a.stateNode=f,St=a,qe=mn(f.firstChild),hn=!1,p=!0):p=!1),p||Dr(a)),Ra(a),p=a.type,g=a.pendingProps,S=i!==null?i.memoizedProps:null,f=g.children,Kh(p,g)?f=null:S!==null&&Kh(p,S)&&(a.flags|=32),a.memoizedState!==null&&(p=Fd(i,a,Rw,null,null,l),xo._currentValue=p),mc(i,a),Et(i,a,f,l),a.child;case 6:return i===null&&Ae&&((i=l=qe)&&(l=yA(l,a.pendingProps,hn),l!==null?(a.stateNode=l,St=a,qe=null,i=!0):i=!1),i||Dr(a)),null;case 13:return vb(i,a,l);case 4:return Rt(a,a.stateNode.containerInfo),f=a.pendingProps,i===null?a.child=qi(a,null,f,l):Et(i,a,f,l),a.child;case 11:return ub(i,a,a.type,a.pendingProps,l);case 7:return Et(i,a,a.pendingProps,l),a.child;case 8:return Et(i,a,a.pendingProps.children,l),a.child;case 12:return Et(i,a,a.pendingProps.children,l),a.child;case 10:return f=a.pendingProps,_r(a,a.type,f.value),Et(i,a,f.children,l),a.child;case 9:return p=a.type._context,f=a.pendingProps.children,Pi(a),p=xt(p),f=f(p),a.flags|=1,Et(i,a,f,l),a.child;case 14:return fb(i,a,a.type,a.pendingProps,l);case 15:return db(i,a,a.type,a.pendingProps,l);case 19:return xb(i,a,l);case 31:return Uw(i,a,l);case 22:return hb(i,a,l,a.pendingProps);case 24:return Pi(a),f=xt(st),i===null?(p=Ld(),p===null&&(p=He,g=_d(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=l),p=g),a.memoizedState={parent:f,cache:p},Bd(a),_r(a,st,p)):((i.lanes&l)!==0&&(jd(i,a),eo(a,null,null,l),Za()),p=i.memoizedState,g=a.memoizedState,p.parent!==f?(p={parent:f,cache:f},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),_r(a,st,f)):(f=g.cache,_r(a,st,f),f!==p.cache&&Dd(a,[st],l,!0))),Et(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function rr(i){i.flags|=4}function vh(i,a,l,f,p){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(Wb())i.flags|=8192;else throw $i=ec,zd}else i.flags&=-16777217}function kb(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!jv(a))if(Wb())i.flags|=8192;else throw $i=ec,zd}function yc(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?ny():536870912,i.lanes|=a,Ks|=a)}function ao(i,a){if(!Ae)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Fe(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,f=0;if(a)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,f|=p.subtreeFlags&65011712,f|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=f,i.childLanes=l,a}function Hw(i,a,l){var f=a.pendingProps;switch(Ad(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(a),null;case 1:return Fe(a),null;case 3:return l=a.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),Zn(st),tt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(_s(a)?rr(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Md())),Fe(a),null;case 26:var p=a.type,g=a.memoizedState;return i===null?(rr(a),g!==null?(Fe(a),kb(a,g)):(Fe(a),vh(a,p,null,f,l))):g?g!==i.memoizedState?(rr(a),Fe(a),kb(a,g)):(Fe(a),a.flags&=-16777217):(i=i.memoizedProps,i!==f&&rr(a),Fe(a),vh(a,p,i,f,l)),null;case 27:if(Nl(a),l=Ee.current,p=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==f&&rr(a);else{if(!f){if(a.stateNode===null)throw Error(r(166));return Fe(a),null}i=ie.current,_s(a)?n0(a):(i=Ov(p,f,l),a.stateNode=i,rr(a))}return Fe(a),null;case 5:if(Nl(a),p=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==f&&rr(a);else{if(!f){if(a.stateNode===null)throw Error(r(166));return Fe(a),null}if(g=ie.current,_s(a))n0(a);else{var S=Dc(Ee.current);switch(g){case 1:g=S.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=S.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=S.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof f.is=="string"?S.createElement("select",{is:f.is}):S.createElement("select"),f.multiple?g.multiple=!0:f.size&&(g.size=f.size);break;default:g=typeof f.is=="string"?S.createElement(p,{is:f.is}):S.createElement(p)}}g[vt]=a,g[Bt]=f;e:for(S=a.child;S!==null;){if(S.tag===5||S.tag===6)g.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===a)break e;for(;S.sibling===null;){if(S.return===null||S.return===a)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}a.stateNode=g;e:switch(kt(g,p,f),p){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&rr(a)}}return Fe(a),vh(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,l),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==f&&rr(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(r(166));if(i=Ee.current,_s(a)){if(i=a.stateNode,l=a.memoizedProps,f=null,p=St,p!==null)switch(p.tag){case 27:case 5:f=p.memoizedProps}i[vt]=a,i=!!(i.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||vv(i.nodeValue,l)),i||Dr(a,!0)}else i=Dc(i).createTextNode(f),i[vt]=a,a.stateNode=i}return Fe(a),null;case 31:if(l=a.memoizedState,i===null||i.memoizedState!==null){if(f=_s(a),l!==null){if(i===null){if(!f)throw Error(r(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[vt]=a}else ji(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Fe(a),i=!1}else l=Md(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return a.flags&256?(Qt(a),a):(Qt(a),null);if((a.flags&128)!==0)throw Error(r(558))}return Fe(a),null;case 13:if(f=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=_s(a),f!==null&&f.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[vt]=a}else ji(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Fe(a),p=!1}else p=Md(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(Qt(a),a):(Qt(a),null)}return Qt(a),(a.flags&128)!==0?(a.lanes=l,a):(l=f!==null,i=i!==null&&i.memoizedState!==null,l&&(f=a.child,p=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(p=f.alternate.memoizedState.cachePool.pool),g=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(g=f.memoizedState.cachePool.pool),g!==p&&(f.flags|=2048)),l!==i&&l&&(a.child.flags|=8192),yc(a,a.updateQueue),Fe(a),null);case 4:return tt(),i===null&&Hh(a.stateNode.containerInfo),Fe(a),null;case 10:return Zn(a.type),Fe(a),null;case 19:if(H(nt),f=a.memoizedState,f===null)return Fe(a),null;if(p=(a.flags&128)!==0,g=f.rendering,g===null)if(p)ao(f,!1);else{if(Qe!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(g=ic(i),g!==null){for(a.flags|=128,ao(f,!1),i=g.updateQueue,a.updateQueue=i,yc(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)Xy(l,i),l=l.sibling;return X(nt,nt.current&1|2),Ae&&Xn(a,f.treeForkCount),a.child}i=i.sibling}f.tail!==null&&Kt()>Ec&&(a.flags|=128,p=!0,ao(f,!1),a.lanes=4194304)}else{if(!p)if(i=ic(g),i!==null){if(a.flags|=128,p=!0,i=i.updateQueue,a.updateQueue=i,yc(a,i),ao(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Ae)return Fe(a),null}else 2*Kt()-f.renderingStartTime>Ec&&l!==536870912&&(a.flags|=128,p=!0,ao(f,!1),a.lanes=4194304);f.isBackwards?(g.sibling=a.child,a.child=g):(i=f.last,i!==null?i.sibling=g:a.child=g,f.last=g)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Kt(),i.sibling=null,l=nt.current,X(nt,p?l&1|2:l&1),Ae&&Xn(a,f.treeForkCount),i):(Fe(a),null);case 22:case 23:return Qt(a),Vd(),f=a.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(l&536870912)!==0&&(a.flags&128)===0&&(Fe(a),a.subtreeFlags&6&&(a.flags|=8192)):Fe(a),l=a.updateQueue,l!==null&&yc(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==l&&(a.flags|=2048),i!==null&&H(Hi),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Zn(st),Fe(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function Vw(i,a){switch(Ad(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Zn(st),tt(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Nl(a),null;case 31:if(a.memoizedState!==null){if(Qt(a),a.alternate===null)throw Error(r(340));ji()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(Qt(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));ji()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return H(nt),null;case 4:return tt(),null;case 10:return Zn(a.type),null;case 22:case 23:return Qt(a),Vd(),i!==null&&H(Hi),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Zn(st),null;case 25:return null;default:return null}}function Tb(i,a){switch(Ad(a),a.tag){case 3:Zn(st),tt();break;case 26:case 27:case 5:Nl(a);break;case 4:tt();break;case 31:a.memoizedState!==null&&Qt(a);break;case 13:Qt(a);break;case 19:H(nt);break;case 10:Zn(a.type);break;case 22:case 23:Qt(a),Vd(),i!==null&&H(Hi);break;case 24:Zn(st)}}function oo(i,a){try{var l=a.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&i)===i){f=void 0;var g=l.create,S=l.inst;f=g(),S.destroy=f}l=l.next}while(l!==p)}}catch(k){Le(a,a.return,k)}}function Ur(i,a,l){try{var f=a.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var g=p.next;f=g;do{if((f.tag&i)===i){var S=f.inst,k=S.destroy;if(k!==void 0){S.destroy=void 0,p=a;var A=l,_=k;try{_()}catch(U){Le(p,A,U)}}}f=f.next}while(f!==g)}}catch(U){Le(a,a.return,U)}}function Cb(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{m0(a,l)}catch(f){Le(i,i.return,f)}}}function wb(i,a,l){l.props=Ki(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(f){Le(i,a,f)}}function lo(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof l=="function"?i.refCleanup=l(f):l.current=f}}catch(p){Le(i,a,p)}}function Bn(i,a){var l=i.ref,f=i.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(p){Le(i,a,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Le(i,a,p)}else l.current=null}function Ab(i){var a=i.type,l=i.memoizedProps,f=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(p){Le(i,i.return,p)}}function Sh(i,a,l){try{var f=i.stateNode;uA(f,i.type,l,a),f[Bt]=a}catch(p){Le(i,i.return,p)}}function Nb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Kr(i.type)||i.tag===4}function xh(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Nb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Kr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Eh(i,a,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Yn));else if(f!==4&&(f===27&&Kr(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(Eh(i,a,l),i=i.sibling;i!==null;)Eh(i,a,l),i=i.sibling}function bc(i,a,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(f!==4&&(f===27&&Kr(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(bc(i,a,l),i=i.sibling;i!==null;)bc(i,a,l),i=i.sibling}function Mb(i){var a=i.stateNode,l=i.memoizedProps;try{for(var f=i.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);kt(a,f,l),a[vt]=i,a[Bt]=l}catch(g){Le(i,i.return,g)}}var ir=!1,lt=!1,kh=!1,Ob=typeof WeakSet=="function"?WeakSet:Set,pt=null;function $w(i,a){if(i=i.containerInfo,qh=Uc,i=Vy(i),gd(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var p=f.anchorOffset,g=f.focusNode;f=f.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var S=0,k=-1,A=-1,_=0,U=0,$=i,L=null;t:for(;;){for(var B;$!==l||p!==0&&$.nodeType!==3||(k=S+p),$!==g||f!==0&&$.nodeType!==3||(A=S+f),$.nodeType===3&&(S+=$.nodeValue.length),(B=$.firstChild)!==null;)L=$,$=B;for(;;){if($===i)break t;if(L===l&&++_===p&&(k=S),L===g&&++U===f&&(A=S),(B=$.nextSibling)!==null)break;$=L,L=$.parentNode}$=B}l=k===-1||A===-1?null:{start:k,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(Fh={focusedElem:i,selectionRange:l},Uc=!1,pt=a;pt!==null;)if(a=pt,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,pt=i;else for(;pt!==null;){switch(a=pt,g=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)p=i[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,l=a,p=g.memoizedProps,g=g.memoizedState,f=l.stateNode;try{var ne=Ki(l.type,p);i=f.getSnapshotBeforeUpdate(ne,g),f.__reactInternalSnapshotBeforeUpdate=i}catch(ue){Le(l,l.return,ue)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)Yh(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Yh(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,pt=i;break}pt=a.return}}function Rb(i,a,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:ar(i,l),f&4&&oo(5,l);break;case 1:if(ar(i,l),f&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(S){Le(l,l.return,S)}else{var p=Ki(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(p,a,i.__reactInternalSnapshotBeforeUpdate)}catch(S){Le(l,l.return,S)}}f&64&&Cb(l),f&512&&lo(l,l.return);break;case 3:if(ar(i,l),f&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{m0(i,a)}catch(S){Le(l,l.return,S)}}break;case 27:a===null&&f&4&&Mb(l);case 26:case 5:ar(i,l),a===null&&f&4&&Ab(l),f&512&&lo(l,l.return);break;case 12:ar(i,l);break;case 31:ar(i,l),f&4&&Ib(i,l);break;case 13:ar(i,l),f&4&&Lb(i,l),f&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=Qw.bind(null,l),bA(i,l))));break;case 22:if(f=l.memoizedState!==null||ir,!f){a=a!==null&&a.memoizedState!==null||lt,p=ir;var g=lt;ir=f,(lt=a)&&!g?or(i,l,(l.subtreeFlags&8772)!==0):ar(i,l),ir=p,lt=g}break;case 30:break;default:ar(i,l)}}function Db(i){var a=i.alternate;a!==null&&(i.alternate=null,Db(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Zf(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ge=null,Ut=!1;function sr(i,a,l){for(l=l.child;l!==null;)_b(i,a,l),l=l.sibling}function _b(i,a,l){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Da,l)}catch{}switch(l.tag){case 26:lt||Bn(l,a),sr(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:lt||Bn(l,a);var f=Ge,p=Ut;Kr(l.type)&&(Ge=l.stateNode,Ut=!1),sr(i,a,l),bo(l.stateNode),Ge=f,Ut=p;break;case 5:lt||Bn(l,a);case 6:if(f=Ge,p=Ut,Ge=null,sr(i,a,l),Ge=f,Ut=p,Ge!==null)if(Ut)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(l.stateNode)}catch(g){Le(l,a,g)}else try{Ge.removeChild(l.stateNode)}catch(g){Le(l,a,g)}break;case 18:Ge!==null&&(Ut?(i=Ge,Cv(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),ea(i)):Cv(Ge,l.stateNode));break;case 4:f=Ge,p=Ut,Ge=l.stateNode.containerInfo,Ut=!0,sr(i,a,l),Ge=f,Ut=p;break;case 0:case 11:case 14:case 15:Ur(2,l,a),lt||Ur(4,l,a),sr(i,a,l);break;case 1:lt||(Bn(l,a),f=l.stateNode,typeof f.componentWillUnmount=="function"&&wb(l,a,f)),sr(i,a,l);break;case 21:sr(i,a,l);break;case 22:lt=(f=lt)||l.memoizedState!==null,sr(i,a,l),lt=f;break;default:sr(i,a,l)}}function Ib(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{ea(i)}catch(l){Le(a,a.return,l)}}}function Lb(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ea(i)}catch(l){Le(a,a.return,l)}}function qw(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new Ob),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new Ob),a;default:throw Error(r(435,i.tag))}}function vc(i,a){var l=qw(i);a.forEach(function(f){if(!l.has(f)){l.add(f);var p=Zw.bind(null,i,f);f.then(p,p)}})}function Pt(i,a){var l=a.deletions;if(l!==null)for(var f=0;f<l.length;f++){var p=l[f],g=i,S=a,k=S;e:for(;k!==null;){switch(k.tag){case 27:if(Kr(k.type)){Ge=k.stateNode,Ut=!1;break e}break;case 5:Ge=k.stateNode,Ut=!1;break e;case 3:case 4:Ge=k.stateNode.containerInfo,Ut=!0;break e}k=k.return}if(Ge===null)throw Error(r(160));_b(g,S,p),Ge=null,Ut=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)zb(a,i),a=a.sibling}var Tn=null;function zb(i,a){var l=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Pt(a,i),Ht(i),f&4&&(Ur(3,i,i.return),oo(3,i),Ur(5,i,i.return));break;case 1:Pt(a,i),Ht(i),f&512&&(lt||l===null||Bn(l,l.return)),f&64&&ir&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var p=Tn;if(Pt(a,i),Ht(i),f&512&&(lt||l===null||Bn(l,l.return)),f&4){var g=l!==null?l.memoizedState:null;if(f=i.memoizedState,l===null)if(f===null)if(i.stateNode===null){e:{f=i.type,l=i.memoizedProps,p=p.ownerDocument||p;t:switch(f){case"title":g=p.getElementsByTagName("title")[0],(!g||g[La]||g[vt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(f),p.head.insertBefore(g,p.querySelector("head > title"))),kt(g,f,l),g[vt]=i,ht(g),f=g;break e;case"link":var S=zv("link","href",p).get(f+(l.href||""));if(S){for(var k=0;k<S.length;k++)if(g=S[k],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(k,1);break t}}g=p.createElement(f),kt(g,f,l),p.head.appendChild(g);break;case"meta":if(S=zv("meta","content",p).get(f+(l.content||""))){for(k=0;k<S.length;k++)if(g=S[k],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(k,1);break t}}g=p.createElement(f),kt(g,f,l),p.head.appendChild(g);break;default:throw Error(r(468,f))}g[vt]=i,ht(g),f=g}i.stateNode=f}else Bv(p,i.type,i.stateNode);else i.stateNode=Lv(p,f,i.memoizedProps);else g!==f?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,f===null?Bv(p,i.type,i.stateNode):Lv(p,f,i.memoizedProps)):f===null&&i.stateNode!==null&&Sh(i,i.memoizedProps,l.memoizedProps)}break;case 27:Pt(a,i),Ht(i),f&512&&(lt||l===null||Bn(l,l.return)),l!==null&&f&4&&Sh(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Pt(a,i),Ht(i),f&512&&(lt||l===null||Bn(l,l.return)),i.flags&32){p=i.stateNode;try{ks(p,"")}catch(ne){Le(i,i.return,ne)}}f&4&&i.stateNode!=null&&(p=i.memoizedProps,Sh(i,p,l!==null?l.memoizedProps:p)),f&1024&&(kh=!0);break;case 6:if(Pt(a,i),Ht(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,l=i.stateNode;try{l.nodeValue=f}catch(ne){Le(i,i.return,ne)}}break;case 3:if(Lc=null,p=Tn,Tn=_c(a.containerInfo),Pt(a,i),Tn=p,Ht(i),f&4&&l!==null&&l.memoizedState.isDehydrated)try{ea(a.containerInfo)}catch(ne){Le(i,i.return,ne)}kh&&(kh=!1,Bb(i));break;case 4:f=Tn,Tn=_c(i.stateNode.containerInfo),Pt(a,i),Ht(i),Tn=f;break;case 12:Pt(a,i),Ht(i);break;case 31:Pt(a,i),Ht(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,vc(i,f)));break;case 13:Pt(a,i),Ht(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(xc=Kt()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,vc(i,f)));break;case 22:p=i.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,_=ir,U=lt;if(ir=_||p,lt=U||A,Pt(a,i),lt=U,ir=_,Ht(i),f&8192)e:for(a=i.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(l===null||A||ir||lt||Gi(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){A=l=a;try{if(g=A.stateNode,p)S=g.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{k=A.stateNode;var $=A.memoizedProps.style,L=$!=null&&$.hasOwnProperty("display")?$.display:null;k.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(ne){Le(A,A.return,ne)}}}else if(a.tag===6){if(l===null){A=a;try{A.stateNode.nodeValue=p?"":A.memoizedProps}catch(ne){Le(A,A.return,ne)}}}else if(a.tag===18){if(l===null){A=a;try{var B=A.stateNode;p?wv(B,!0):wv(A.stateNode,!1)}catch(ne){Le(A,A.return,ne)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=i.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,vc(i,l))));break;case 19:Pt(a,i),Ht(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,vc(i,f)));break;case 30:break;case 21:break;default:Pt(a,i),Ht(i)}}function Ht(i){var a=i.flags;if(a&2){try{for(var l,f=i.return;f!==null;){if(Nb(f)){l=f;break}f=f.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var p=l.stateNode,g=xh(i);bc(i,g,p);break;case 5:var S=l.stateNode;l.flags&32&&(ks(S,""),l.flags&=-33);var k=xh(i);bc(i,k,S);break;case 3:case 4:var A=l.stateNode.containerInfo,_=xh(i);Eh(i,_,A);break;default:throw Error(r(161))}}catch(U){Le(i,i.return,U)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function Bb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;Bb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function ar(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Rb(i,a.alternate,a),a=a.sibling}function Gi(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Ur(4,a,a.return),Gi(a);break;case 1:Bn(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&wb(a,a.return,l),Gi(a);break;case 27:bo(a.stateNode);case 26:case 5:Bn(a,a.return),Gi(a);break;case 22:a.memoizedState===null&&Gi(a);break;case 30:Gi(a);break;default:Gi(a)}i=i.sibling}}function or(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,p=i,g=a,S=g.flags;switch(g.tag){case 0:case 11:case 15:or(p,g,l),oo(4,g);break;case 1:if(or(p,g,l),f=g,p=f.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(_){Le(f,f.return,_)}if(f=g,p=f.updateQueue,p!==null){var k=f.stateNode;try{var A=p.shared.hiddenCallbacks;if(A!==null)for(p.shared.hiddenCallbacks=null,p=0;p<A.length;p++)p0(A[p],k)}catch(_){Le(f,f.return,_)}}l&&S&64&&Cb(g),lo(g,g.return);break;case 27:Mb(g);case 26:case 5:or(p,g,l),l&&f===null&&S&4&&Ab(g),lo(g,g.return);break;case 12:or(p,g,l);break;case 31:or(p,g,l),l&&S&4&&Ib(p,g);break;case 13:or(p,g,l),l&&S&4&&Lb(p,g);break;case 22:g.memoizedState===null&&or(p,g,l),lo(g,g.return);break;case 30:break;default:or(p,g,l)}a=a.sibling}}function Th(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Ya(l))}function Ch(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Ya(i))}function Cn(i,a,l,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)jb(i,a,l,f),a=a.sibling}function jb(i,a,l,f){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Cn(i,a,l,f),p&2048&&oo(9,a);break;case 1:Cn(i,a,l,f);break;case 3:Cn(i,a,l,f),p&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Ya(i)));break;case 12:if(p&2048){Cn(i,a,l,f),i=a.stateNode;try{var g=a.memoizedProps,S=g.id,k=g.onPostCommit;typeof k=="function"&&k(S,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(A){Le(a,a.return,A)}}else Cn(i,a,l,f);break;case 31:Cn(i,a,l,f);break;case 13:Cn(i,a,l,f);break;case 23:break;case 22:g=a.stateNode,S=a.alternate,a.memoizedState!==null?g._visibility&2?Cn(i,a,l,f):co(i,a):g._visibility&2?Cn(i,a,l,f):(g._visibility|=2,$s(i,a,l,f,(a.subtreeFlags&10256)!==0||!1)),p&2048&&Th(S,a);break;case 24:Cn(i,a,l,f),p&2048&&Ch(a.alternate,a);break;default:Cn(i,a,l,f)}}function $s(i,a,l,f,p){for(p=p&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var g=i,S=a,k=l,A=f,_=S.flags;switch(S.tag){case 0:case 11:case 15:$s(g,S,k,A,p),oo(8,S);break;case 23:break;case 22:var U=S.stateNode;S.memoizedState!==null?U._visibility&2?$s(g,S,k,A,p):co(g,S):(U._visibility|=2,$s(g,S,k,A,p)),p&&_&2048&&Th(S.alternate,S);break;case 24:$s(g,S,k,A,p),p&&_&2048&&Ch(S.alternate,S);break;default:$s(g,S,k,A,p)}a=a.sibling}}function co(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,f=a,p=f.flags;switch(f.tag){case 22:co(l,f),p&2048&&Th(f.alternate,f);break;case 24:co(l,f),p&2048&&Ch(f.alternate,f);break;default:co(l,f)}a=a.sibling}}var uo=8192;function qs(i,a,l){if(i.subtreeFlags&uo)for(i=i.child;i!==null;)Ub(i,a,l),i=i.sibling}function Ub(i,a,l){switch(i.tag){case 26:qs(i,a,l),i.flags&uo&&i.memoizedState!==null&&OA(l,Tn,i.memoizedState,i.memoizedProps);break;case 5:qs(i,a,l);break;case 3:case 4:var f=Tn;Tn=_c(i.stateNode.containerInfo),qs(i,a,l),Tn=f;break;case 22:i.memoizedState===null&&(f=i.alternate,f!==null&&f.memoizedState!==null?(f=uo,uo=16777216,qs(i,a,l),uo=f):qs(i,a,l));break;default:qs(i,a,l)}}function Pb(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function fo(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var f=a[l];pt=f,Vb(f,i)}Pb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Hb(i),i=i.sibling}function Hb(i){switch(i.tag){case 0:case 11:case 15:fo(i),i.flags&2048&&Ur(9,i,i.return);break;case 3:fo(i);break;case 12:fo(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Sc(i)):fo(i);break;default:fo(i)}}function Sc(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var f=a[l];pt=f,Vb(f,i)}Pb(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Ur(8,a,a.return),Sc(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Sc(a));break;default:Sc(a)}i=i.sibling}}function Vb(i,a){for(;pt!==null;){var l=pt;switch(l.tag){case 0:case 11:case 15:Ur(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Ya(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,pt=f;else e:for(l=i;pt!==null;){f=pt;var p=f.sibling,g=f.return;if(Db(f),f===l){pt=null;break e}if(p!==null){p.return=g,pt=p;break e}pt=g}}}var Fw={getCacheForType:function(i){var a=xt(st),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l},cacheSignal:function(){return xt(st).controller.signal}},Kw=typeof WeakMap=="function"?WeakMap:Map,Re=0,He=null,ke=null,Ce=0,Ie=0,Zt=null,Pr=!1,Fs=!1,wh=!1,lr=0,Qe=0,Hr=0,Yi=0,Ah=0,en=0,Ks=0,ho=null,Vt=null,Nh=!1,xc=0,$b=0,Ec=1/0,kc=null,Vr=null,ft=0,$r=null,Gs=null,cr=0,Mh=0,Oh=null,qb=null,po=0,Rh=null;function tn(){return(Re&2)!==0&&Ce!==0?Ce&-Ce:z.T!==null?Bh():ay()}function Fb(){if(en===0)if((Ce&536870912)===0||Ae){var i=Rl;Rl<<=1,(Rl&3932160)===0&&(Rl=262144),en=i}else en=536870912;return i=Xt.current,i!==null&&(i.flags|=32),en}function $t(i,a,l){(i===He&&(Ie===2||Ie===9)||i.cancelPendingCommit!==null)&&(Ys(i,0),qr(i,Ce,en,!1)),Ia(i,l),((Re&2)===0||i!==He)&&(i===He&&((Re&2)===0&&(Yi|=l),Qe===4&&qr(i,Ce,en,!1)),jn(i))}function Kb(i,a,l){if((Re&6)!==0)throw Error(r(327));var f=!l&&(a&127)===0&&(a&i.expiredLanes)===0||_a(i,a),p=f?Ww(i,a):_h(i,a,!0),g=f;do{if(p===0){Fs&&!f&&qr(i,a,0,!1);break}else{if(l=i.current.alternate,g&&!Gw(l)){p=_h(i,a,!1),g=!1;continue}if(p===2){if(g=a,i.errorRecoveryDisabledLanes&g)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){a=S;e:{var k=i;p=ho;var A=k.current.memoizedState.isDehydrated;if(A&&(Ys(k,S).flags|=256),S=_h(k,S,!1),S!==2){if(wh&&!A){k.errorRecoveryDisabledLanes|=g,Yi|=g,p=4;break e}g=Vt,Vt=p,g!==null&&(Vt===null?Vt=g:Vt.push.apply(Vt,g))}p=S}if(g=!1,p!==2)continue}}if(p===1){Ys(i,0),qr(i,a,0,!0);break}e:{switch(f=i,g=p,g){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:qr(f,a,en,!Pr);break e;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(p=xc+300-Kt(),10<p)){if(qr(f,a,en,!Pr),_l(f,0,!0)!==0)break e;cr=a,f.timeoutHandle=kv(Gb.bind(null,f,l,Vt,kc,Nh,a,en,Yi,Ks,Pr,g,"Throttled",-0,0),p);break e}Gb(f,l,Vt,kc,Nh,a,en,Yi,Ks,Pr,g,null,-0,0)}}break}while(!0);jn(i)}function Gb(i,a,l,f,p,g,S,k,A,_,U,$,L,B){if(i.timeoutHandle=-1,$=a.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},Ub(a,g,$);var ne=(g&62914560)===g?xc-Kt():(g&4194048)===g?$b-Kt():0;if(ne=RA($,ne),ne!==null){cr=g,i.cancelPendingCommit=ne(tv.bind(null,i,a,g,l,f,p,S,k,A,U,$,null,L,B)),qr(i,g,S,!_);return}}tv(i,a,g,l,f,p,S,k,A)}function Gw(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var p=l[f],g=p.getSnapshot;p=p.value;try{if(!Wt(g(),p))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function qr(i,a,l,f){a&=~Ah,a&=~Yi,i.suspendedLanes|=a,i.pingedLanes&=~a,f&&(i.warmLanes|=a),f=i.expirationTimes;for(var p=a;0<p;){var g=31-Yt(p),S=1<<g;f[g]=-1,p&=~S}l!==0&&ry(i,l,a)}function Tc(){return(Re&6)===0?(mo(0),!1):!0}function Dh(){if(ke!==null){if(Ie===0)var i=ke.return;else i=ke,Qn=Ui=null,Yd(i),js=null,Ja=0,i=ke;for(;i!==null;)Tb(i.alternate,i),i=i.return;ke=null}}function Ys(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,hA(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),cr=0,Dh(),He=i,ke=l=Jn(i.current,null),Ce=a,Ie=0,Zt=null,Pr=!1,Fs=_a(i,a),wh=!1,Ks=en=Ah=Yi=Hr=Qe=0,Vt=ho=null,Nh=!1,(a&8)!==0&&(a|=a&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=a;0<f;){var p=31-Yt(f),g=1<<p;a|=i[p],f&=~g}return lr=a,Fl(),l}function Yb(i,a){ge=null,z.H=io,a===Bs||a===Zl?(a=u0(),Ie=3):a===zd?(a=u0(),Ie=4):Ie=a===uh?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Zt=a,ke===null&&(Qe=1,hc(i,un(a,i.current)))}function Wb(){var i=Xt.current;return i===null?!0:(Ce&4194048)===Ce?pn===null:(Ce&62914560)===Ce||(Ce&536870912)!==0?i===pn:!1}function Jb(){var i=z.H;return z.H=io,i===null?io:i}function Xb(){var i=z.A;return z.A=Fw,i}function Cc(){Qe=4,Pr||(Ce&4194048)!==Ce&&Xt.current!==null||(Fs=!0),(Hr&134217727)===0&&(Yi&134217727)===0||He===null||qr(He,Ce,en,!1)}function _h(i,a,l){var f=Re;Re|=2;var p=Jb(),g=Xb();(He!==i||Ce!==a)&&(kc=null,Ys(i,a)),a=!1;var S=Qe;e:do try{if(Ie!==0&&ke!==null){var k=ke,A=Zt;switch(Ie){case 8:Dh(),S=6;break e;case 3:case 2:case 9:case 6:Xt.current===null&&(a=!0);var _=Ie;if(Ie=0,Zt=null,Ws(i,k,A,_),l&&Fs){S=0;break e}break;default:_=Ie,Ie=0,Zt=null,Ws(i,k,A,_)}}Yw(),S=Qe;break}catch(U){Yb(i,U)}while(!0);return a&&i.shellSuspendCounter++,Qn=Ui=null,Re=f,z.H=p,z.A=g,ke===null&&(He=null,Ce=0,Fl()),S}function Yw(){for(;ke!==null;)Qb(ke)}function Ww(i,a){var l=Re;Re|=2;var f=Jb(),p=Xb();He!==i||Ce!==a?(kc=null,Ec=Kt()+500,Ys(i,a)):Fs=_a(i,a);e:do try{if(Ie!==0&&ke!==null){a=ke;var g=Zt;t:switch(Ie){case 1:Ie=0,Zt=null,Ws(i,a,g,1);break;case 2:case 9:if(l0(g)){Ie=0,Zt=null,Zb(a);break}a=function(){Ie!==2&&Ie!==9||He!==i||(Ie=7),jn(i)},g.then(a,a);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:l0(g)?(Ie=0,Zt=null,Zb(a)):(Ie=0,Zt=null,Ws(i,a,g,7));break;case 5:var S=null;switch(ke.tag){case 26:S=ke.memoizedState;case 5:case 27:var k=ke;if(S?jv(S):k.stateNode.complete){Ie=0,Zt=null;var A=k.sibling;if(A!==null)ke=A;else{var _=k.return;_!==null?(ke=_,wc(_)):ke=null}break t}}Ie=0,Zt=null,Ws(i,a,g,5);break;case 6:Ie=0,Zt=null,Ws(i,a,g,6);break;case 8:Dh(),Qe=6;break e;default:throw Error(r(462))}}Jw();break}catch(U){Yb(i,U)}while(!0);return Qn=Ui=null,z.H=f,z.A=p,Re=l,ke!==null?0:(He=null,Ce=0,Fl(),Qe)}function Jw(){for(;ke!==null&&!vC();)Qb(ke)}function Qb(i){var a=Eb(i.alternate,i,lr);i.memoizedProps=i.pendingProps,a===null?wc(i):ke=a}function Zb(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=gb(l,a,a.pendingProps,a.type,void 0,Ce);break;case 11:a=gb(l,a,a.pendingProps,a.type.render,a.ref,Ce);break;case 5:Yd(a);default:Tb(l,a),a=ke=Xy(a,lr),a=Eb(l,a,lr)}i.memoizedProps=i.pendingProps,a===null?wc(i):ke=a}function Ws(i,a,l,f){Qn=Ui=null,Yd(a),js=null,Ja=0;var p=a.return;try{if(jw(i,p,a,l,Ce)){Qe=1,hc(i,un(l,i.current)),ke=null;return}}catch(g){if(p!==null)throw ke=p,g;Qe=1,hc(i,un(l,i.current)),ke=null;return}a.flags&32768?(Ae||f===1?i=!0:Fs||(Ce&536870912)!==0?i=!1:(Pr=i=!0,(f===2||f===9||f===3||f===6)&&(f=Xt.current,f!==null&&f.tag===13&&(f.flags|=16384))),ev(a,i)):wc(a)}function wc(i){var a=i;do{if((a.flags&32768)!==0){ev(a,Pr);return}i=a.return;var l=Hw(a.alternate,a,lr);if(l!==null){ke=l;return}if(a=a.sibling,a!==null){ke=a;return}ke=a=i}while(a!==null);Qe===0&&(Qe=5)}function ev(i,a){do{var l=Vw(i.alternate,i);if(l!==null){l.flags&=32767,ke=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){ke=i;return}ke=i=l}while(i!==null);Qe=6,ke=null}function tv(i,a,l,f,p,g,S,k,A){i.cancelPendingCommit=null;do Ac();while(ft!==0);if((Re&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(g=a.lanes|a.childLanes,g|=xd,MC(i,l,g,S,k,A),i===He&&(ke=He=null,Ce=0),Gs=a,$r=i,cr=l,Mh=g,Oh=p,qb=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,eA(Ml,function(){return av(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=z.T,z.T=null,p=J.p,J.p=2,S=Re,Re|=4;try{$w(i,a,l)}finally{Re=S,J.p=p,z.T=f}}ft=1,nv(),rv(),iv()}}function nv(){if(ft===1){ft=0;var i=$r,a=Gs,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=z.T,z.T=null;var f=J.p;J.p=2;var p=Re;Re|=4;try{zb(a,i);var g=Fh,S=Vy(i.containerInfo),k=g.focusedElem,A=g.selectionRange;if(S!==k&&k&&k.ownerDocument&&Hy(k.ownerDocument.documentElement,k)){if(A!==null&&gd(k)){var _=A.start,U=A.end;if(U===void 0&&(U=_),"selectionStart"in k)k.selectionStart=_,k.selectionEnd=Math.min(U,k.value.length);else{var $=k.ownerDocument||document,L=$&&$.defaultView||window;if(L.getSelection){var B=L.getSelection(),ne=k.textContent.length,ue=Math.min(A.start,ne),Ue=A.end===void 0?ue:Math.min(A.end,ne);!B.extend&&ue>Ue&&(S=Ue,Ue=ue,ue=S);var R=Py(k,ue),M=Py(k,Ue);if(R&&M&&(B.rangeCount!==1||B.anchorNode!==R.node||B.anchorOffset!==R.offset||B.focusNode!==M.node||B.focusOffset!==M.offset)){var D=$.createRange();D.setStart(R.node,R.offset),B.removeAllRanges(),ue>Ue?(B.addRange(D),B.extend(M.node,M.offset)):(D.setEnd(M.node,M.offset),B.addRange(D))}}}}for($=[],B=k;B=B.parentNode;)B.nodeType===1&&$.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<$.length;k++){var V=$[k];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}Uc=!!qh,Fh=qh=null}finally{Re=p,J.p=f,z.T=l}}i.current=a,ft=2}}function rv(){if(ft===2){ft=0;var i=$r,a=Gs,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=z.T,z.T=null;var f=J.p;J.p=2;var p=Re;Re|=4;try{Rb(i,a.alternate,a)}finally{Re=p,J.p=f,z.T=l}}ft=3}}function iv(){if(ft===4||ft===3){ft=0,SC();var i=$r,a=Gs,l=cr,f=qb;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?ft=5:(ft=0,Gs=$r=null,sv(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Vr=null),Xf(l),a=a.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Da,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=z.T,p=J.p,J.p=2,z.T=null;try{for(var g=i.onRecoverableError,S=0;S<f.length;S++){var k=f[S];g(k.value,{componentStack:k.stack})}}finally{z.T=a,J.p=p}}(cr&3)!==0&&Ac(),jn(i),p=i.pendingLanes,(l&261930)!==0&&(p&42)!==0?i===Rh?po++:(po=0,Rh=i):po=0,mo(0)}}function sv(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Ya(a)))}function Ac(){return nv(),rv(),iv(),av()}function av(){if(ft!==5)return!1;var i=$r,a=Mh;Mh=0;var l=Xf(cr),f=z.T,p=J.p;try{J.p=32>l?32:l,z.T=null,l=Oh,Oh=null;var g=$r,S=cr;if(ft=0,Gs=$r=null,cr=0,(Re&6)!==0)throw Error(r(331));var k=Re;if(Re|=4,Hb(g.current),jb(g,g.current,S,l),Re=k,mo(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Da,g)}catch{}return!0}finally{J.p=p,z.T=f,sv(i,a)}}function ov(i,a,l){a=un(l,a),a=ch(i.stateNode,a,2),i=zr(i,a,2),i!==null&&(Ia(i,2),jn(i))}function Le(i,a,l){if(i.tag===3)ov(i,i,l);else for(;a!==null;){if(a.tag===3){ov(a,i,l);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Vr===null||!Vr.has(f))){i=un(l,i),l=lb(2),f=zr(a,l,2),f!==null&&(cb(l,f,a,i),Ia(f,2),jn(f));break}}a=a.return}}function Ih(i,a,l){var f=i.pingCache;if(f===null){f=i.pingCache=new Kw;var p=new Set;f.set(a,p)}else p=f.get(a),p===void 0&&(p=new Set,f.set(a,p));p.has(l)||(wh=!0,p.add(l),i=Xw.bind(null,i,a,l),a.then(i,i))}function Xw(i,a,l){var f=i.pingCache;f!==null&&f.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,He===i&&(Ce&l)===l&&(Qe===4||Qe===3&&(Ce&62914560)===Ce&&300>Kt()-xc?(Re&2)===0&&Ys(i,0):Ah|=l,Ks===Ce&&(Ks=0)),jn(i)}function lv(i,a){a===0&&(a=ny()),i=zi(i,a),i!==null&&(Ia(i,a),jn(i))}function Qw(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),lv(i,l)}function Zw(i,a){var l=0;switch(i.tag){case 31:case 13:var f=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(a),lv(i,l)}function eA(i,a){return Gf(i,a)}var Nc=null,Js=null,Lh=!1,Mc=!1,zh=!1,Fr=0;function jn(i){i!==Js&&i.next===null&&(Js===null?Nc=Js=i:Js=Js.next=i),Mc=!0,Lh||(Lh=!0,nA())}function mo(i,a){if(!zh&&Mc){zh=!0;do for(var l=!1,f=Nc;f!==null;){if(i!==0){var p=f.pendingLanes;if(p===0)var g=0;else{var S=f.suspendedLanes,k=f.pingedLanes;g=(1<<31-Yt(42|i)+1)-1,g&=p&~(S&~k),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,dv(f,g))}else g=Ce,g=_l(f,f===He?g:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(g&3)===0||_a(f,g)||(l=!0,dv(f,g));f=f.next}while(l);zh=!1}}function tA(){cv()}function cv(){Mc=Lh=!1;var i=0;Fr!==0&&dA()&&(i=Fr);for(var a=Kt(),l=null,f=Nc;f!==null;){var p=f.next,g=uv(f,a);g===0?(f.next=null,l===null?Nc=p:l.next=p,p===null&&(Js=l)):(l=f,(i!==0||(g&3)!==0)&&(Mc=!0)),f=p}ft!==0&&ft!==5||mo(i),Fr!==0&&(Fr=0)}function uv(i,a){for(var l=i.suspendedLanes,f=i.pingedLanes,p=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var S=31-Yt(g),k=1<<S,A=p[S];A===-1?((k&l)===0||(k&f)!==0)&&(p[S]=NC(k,a)):A<=a&&(i.expiredLanes|=k),g&=~k}if(a=He,l=Ce,l=_l(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,l===0||i===a&&(Ie===2||Ie===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&Yf(f),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||_a(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(f!==null&&Yf(f),Xf(l)){case 2:case 8:l=ey;break;case 32:l=Ml;break;case 268435456:l=ty;break;default:l=Ml}return f=fv.bind(null,i),l=Gf(l,f),i.callbackPriority=a,i.callbackNode=l,a}return f!==null&&f!==null&&Yf(f),i.callbackPriority=2,i.callbackNode=null,2}function fv(i,a){if(ft!==0&&ft!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Ac()&&i.callbackNode!==l)return null;var f=Ce;return f=_l(i,i===He?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(Kb(i,f,a),uv(i,Kt()),i.callbackNode!=null&&i.callbackNode===l?fv.bind(null,i):null)}function dv(i,a){if(Ac())return null;Kb(i,a,!0)}function nA(){pA(function(){(Re&6)!==0?Gf(Zg,tA):cv()})}function Bh(){if(Fr===0){var i=Ls;i===0&&(i=Ol,Ol<<=1,(Ol&261888)===0&&(Ol=256)),Fr=i}return Fr}function hv(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Bl(""+i)}function pv(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function rA(i,a,l,f,p){if(a==="submit"&&l&&l.stateNode===p){var g=hv((p[Bt]||null).action),S=f.submitter;S&&(a=(a=S[Bt]||null)?hv(a.formAction):S.getAttribute("formAction"),a!==null&&(g=a,S=null));var k=new Hl("action","action",null,f,p);i.push({event:k,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Fr!==0){var A=S?pv(p,S):new FormData(p);rh(l,{pending:!0,data:A,method:p.method,action:g},null,A)}}else typeof g=="function"&&(k.preventDefault(),A=S?pv(p,S):new FormData(p),rh(l,{pending:!0,data:A,method:p.method,action:g},g,A))},currentTarget:p}]})}}for(var jh=0;jh<Sd.length;jh++){var Uh=Sd[jh],iA=Uh.toLowerCase(),sA=Uh[0].toUpperCase()+Uh.slice(1);kn(iA,"on"+sA)}kn(Fy,"onAnimationEnd"),kn(Ky,"onAnimationIteration"),kn(Gy,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(xw,"onTransitionRun"),kn(Ew,"onTransitionStart"),kn(kw,"onTransitionCancel"),kn(Yy,"onTransitionEnd"),xs("onMouseEnter",["mouseout","mouseover"]),xs("onMouseLeave",["mouseout","mouseover"]),xs("onPointerEnter",["pointerout","pointerover"]),xs("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(go));function mv(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var f=i[l],p=f.event;f=f.listeners;e:{var g=void 0;if(a)for(var S=f.length-1;0<=S;S--){var k=f[S],A=k.instance,_=k.currentTarget;if(k=k.listener,A!==g&&p.isPropagationStopped())break e;g=k,p.currentTarget=_;try{g(p)}catch(U){ql(U)}p.currentTarget=null,g=A}else for(S=0;S<f.length;S++){if(k=f[S],A=k.instance,_=k.currentTarget,k=k.listener,A!==g&&p.isPropagationStopped())break e;g=k,p.currentTarget=_;try{g(p)}catch(U){ql(U)}p.currentTarget=null,g=A}}}}function Te(i,a){var l=a[Qf];l===void 0&&(l=a[Qf]=new Set);var f=i+"__bubble";l.has(f)||(gv(a,i,2,!1),l.add(f))}function Ph(i,a,l){var f=0;a&&(f|=4),gv(l,i,f,a)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function Hh(i){if(!i[Oc]){i[Oc]=!0,cy.forEach(function(l){l!=="selectionchange"&&(aA.has(l)||Ph(l,!1,i),Ph(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Oc]||(a[Oc]=!0,Ph("selectionchange",!1,a))}}function gv(i,a,l,f){switch(Fv(a)){case 2:var p=IA;break;case 8:p=LA;break;default:p=np}l=p.bind(null,a,l,i),p=void 0,!od||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),f?p!==void 0?i.addEventListener(a,l,{capture:!0,passive:p}):i.addEventListener(a,l,!0):p!==void 0?i.addEventListener(a,l,{passive:p}):i.addEventListener(a,l,!1)}function Vh(i,a,l,f,p){var g=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var k=f.stateNode.containerInfo;if(k===p)break;if(S===4)for(S=f.return;S!==null;){var A=S.tag;if((A===3||A===4)&&S.stateNode.containerInfo===p)return;S=S.return}for(;k!==null;){if(S=bs(k),S===null)return;if(A=S.tag,A===5||A===6||A===26||A===27){f=g=S;continue e}k=k.parentNode}}f=f.return}xy(function(){var _=g,U=sd(l),$=[];e:{var L=Wy.get(i);if(L!==void 0){var B=Hl,ne=i;switch(i){case"keypress":if(Ul(l)===0)break e;case"keydown":case"keyup":B=ZC;break;case"focusin":ne="focus",B=fd;break;case"focusout":ne="blur",B=fd;break;case"beforeblur":case"afterblur":B=fd;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Ty;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=HC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=nw;break;case Fy:case Ky:case Gy:B=qC;break;case Yy:B=iw;break;case"scroll":case"scrollend":B=UC;break;case"wheel":B=aw;break;case"copy":case"cut":case"paste":B=KC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=wy;break;case"toggle":case"beforetoggle":B=lw}var ue=(a&4)!==0,Ue=!ue&&(i==="scroll"||i==="scrollend"),R=ue?L!==null?L+"Capture":null:L;ue=[];for(var M=_,D;M!==null;){var V=M;if(D=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||D===null||R===null||(V=Ba(M,R),V!=null&&ue.push(yo(M,V,D))),Ue)break;M=M.return}0<ue.length&&(L=new B(L,ne,null,l,U),$.push({event:L,listeners:ue}))}}if((a&7)===0){e:{if(L=i==="mouseover"||i==="pointerover",B=i==="mouseout"||i==="pointerout",L&&l!==id&&(ne=l.relatedTarget||l.fromElement)&&(bs(ne)||ne[ys]))break e;if((B||L)&&(L=U.window===U?U:(L=U.ownerDocument)?L.defaultView||L.parentWindow:window,B?(ne=l.relatedTarget||l.toElement,B=_,ne=ne?bs(ne):null,ne!==null&&(Ue=o(ne),ue=ne.tag,ne!==Ue||ue!==5&&ue!==27&&ue!==6)&&(ne=null)):(B=null,ne=_),B!==ne)){if(ue=Ty,V="onMouseLeave",R="onMouseEnter",M="mouse",(i==="pointerout"||i==="pointerover")&&(ue=wy,V="onPointerLeave",R="onPointerEnter",M="pointer"),Ue=B==null?L:za(B),D=ne==null?L:za(ne),L=new ue(V,M+"leave",B,l,U),L.target=Ue,L.relatedTarget=D,V=null,bs(U)===_&&(ue=new ue(R,M+"enter",ne,l,U),ue.target=D,ue.relatedTarget=Ue,V=ue),Ue=V,B&&ne)t:{for(ue=oA,R=B,M=ne,D=0,V=R;V;V=ue(V))D++;V=0;for(var ae=M;ae;ae=ue(ae))V++;for(;0<D-V;)R=ue(R),D--;for(;0<V-D;)M=ue(M),V--;for(;D--;){if(R===M||M!==null&&R===M.alternate){ue=R;break t}R=ue(R),M=ue(M)}ue=null}else ue=null;B!==null&&yv($,L,B,ue,!1),ne!==null&&Ue!==null&&yv($,Ue,ne,ue,!0)}}e:{if(L=_?za(_):window,B=L.nodeName&&L.nodeName.toLowerCase(),B==="select"||B==="input"&&L.type==="file")var Ne=Iy;else if(Dy(L))if(Ly)Ne=bw;else{Ne=gw;var se=mw}else B=L.nodeName,!B||B.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?_&&rd(_.elementType)&&(Ne=Iy):Ne=yw;if(Ne&&(Ne=Ne(i,_))){_y($,Ne,l,U);break e}se&&se(i,L,_),i==="focusout"&&_&&L.type==="number"&&_.memoizedProps.value!=null&&nd(L,"number",L.value)}switch(se=_?za(_):window,i){case"focusin":(Dy(se)||se.contentEditable==="true")&&(As=se,yd=_,Fa=null);break;case"focusout":Fa=yd=As=null;break;case"mousedown":bd=!0;break;case"contextmenu":case"mouseup":case"dragend":bd=!1,$y($,l,U);break;case"selectionchange":if(Sw)break;case"keydown":case"keyup":$y($,l,U)}var ye;if(hd)e:{switch(i){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else ws?Oy(i,l)&&(we="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(we="onCompositionStart");we&&(Ay&&l.locale!=="ko"&&(ws||we!=="onCompositionStart"?we==="onCompositionEnd"&&ws&&(ye=Ey()):(Mr=U,ld="value"in Mr?Mr.value:Mr.textContent,ws=!0)),se=Rc(_,we),0<se.length&&(we=new Cy(we,i,null,l,U),$.push({event:we,listeners:se}),ye?we.data=ye:(ye=Ry(l),ye!==null&&(we.data=ye)))),(ye=uw?fw(i,l):dw(i,l))&&(we=Rc(_,"onBeforeInput"),0<we.length&&(se=new Cy("onBeforeInput","beforeinput",null,l,U),$.push({event:se,listeners:we}),se.data=ye)),rA($,i,_,l,U)}mv($,a)})}function yo(i,a,l){return{instance:i,listener:a,currentTarget:l}}function Rc(i,a){for(var l=a+"Capture",f=[];i!==null;){var p=i,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Ba(i,l),p!=null&&f.unshift(yo(i,p,g)),p=Ba(i,a),p!=null&&f.push(yo(i,p,g))),i.tag===3)return f;i=i.return}return[]}function oA(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function yv(i,a,l,f,p){for(var g=a._reactName,S=[];l!==null&&l!==f;){var k=l,A=k.alternate,_=k.stateNode;if(k=k.tag,A!==null&&A===f)break;k!==5&&k!==26&&k!==27||_===null||(A=_,p?(_=Ba(l,g),_!=null&&S.unshift(yo(l,_,A))):p||(_=Ba(l,g),_!=null&&S.push(yo(l,_,A)))),l=l.return}S.length!==0&&i.push({event:a,listeners:S})}var lA=/\r\n?/g,cA=/\u0000|\uFFFD/g;function bv(i){return(typeof i=="string"?i:""+i).replace(lA,`
`).replace(cA,"")}function vv(i,a){return a=bv(a),bv(i)===a}function je(i,a,l,f,p,g){switch(l){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||ks(i,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&ks(i,""+f);break;case"className":Ll(i,"class",f);break;case"tabIndex":Ll(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Ll(i,l,f);break;case"style":vy(i,f,g);break;case"data":if(a!=="object"){Ll(i,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(l);break}f=Bl(""+f),i.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(a!=="input"&&je(i,a,"name",p.name,p,null),je(i,a,"formEncType",p.formEncType,p,null),je(i,a,"formMethod",p.formMethod,p,null),je(i,a,"formTarget",p.formTarget,p,null)):(je(i,a,"encType",p.encType,p,null),je(i,a,"method",p.method,p,null),je(i,a,"target",p.target,p,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(l);break}f=Bl(""+f),i.setAttribute(l,f);break;case"onClick":f!=null&&(i.onclick=Yn);break;case"onScroll":f!=null&&Te("scroll",i);break;case"onScrollEnd":f!=null&&Te("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(l=f.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}l=Bl(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,""+f):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":f===!0?i.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,f):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(l,f):i.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(l):i.setAttribute(l,f);break;case"popover":Te("beforetoggle",i),Te("toggle",i),Il(i,"popover",f);break;case"xlinkActuate":Gn(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Gn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Gn(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Gn(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Gn(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Gn(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Gn(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Gn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Gn(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Il(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=BC.get(l)||l,Il(i,l,f))}}function $h(i,a,l,f,p,g){switch(l){case"style":vy(i,f,g);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(l=f.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof f=="string"?ks(i,f):(typeof f=="number"||typeof f=="bigint")&&ks(i,""+f);break;case"onScroll":f!=null&&Te("scroll",i);break;case"onScrollEnd":f!=null&&Te("scrollend",i);break;case"onClick":f!=null&&(i.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!uy.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),a=l.slice(2,p?l.length-7:void 0),g=i[Bt]||null,g=g!=null?g[l]:null,typeof g=="function"&&i.removeEventListener(a,g,p),typeof f=="function")){typeof g!="function"&&g!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,f,p);break e}l in i?i[l]=f:f===!0?i.setAttribute(l,""):Il(i,l,f)}}}function kt(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",i),Te("load",i);var f=!1,p=!1,g;for(g in l)if(l.hasOwnProperty(g)){var S=l[g];if(S!=null)switch(g){case"src":f=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:je(i,a,g,S,l,null)}}p&&je(i,a,"srcSet",l.srcSet,l,null),f&&je(i,a,"src",l.src,l,null);return;case"input":Te("invalid",i);var k=g=S=p=null,A=null,_=null;for(f in l)if(l.hasOwnProperty(f)){var U=l[f];if(U!=null)switch(f){case"name":p=U;break;case"type":S=U;break;case"checked":A=U;break;case"defaultChecked":_=U;break;case"value":g=U;break;case"defaultValue":k=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,a));break;default:je(i,a,f,U,l,null)}}my(i,g,k,A,_,S,p,!1);return;case"select":Te("invalid",i),f=S=g=null;for(p in l)if(l.hasOwnProperty(p)&&(k=l[p],k!=null))switch(p){case"value":g=k;break;case"defaultValue":S=k;break;case"multiple":f=k;default:je(i,a,p,k,l,null)}a=g,l=S,i.multiple=!!f,a!=null?Es(i,!!f,a,!1):l!=null&&Es(i,!!f,l,!0);return;case"textarea":Te("invalid",i),g=p=f=null;for(S in l)if(l.hasOwnProperty(S)&&(k=l[S],k!=null))switch(S){case"value":f=k;break;case"defaultValue":p=k;break;case"children":g=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:je(i,a,S,k,l,null)}yy(i,f,p,g);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(f=l[A],f!=null))switch(A){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:je(i,a,A,f,l,null)}return;case"dialog":Te("beforetoggle",i),Te("toggle",i),Te("cancel",i),Te("close",i);break;case"iframe":case"object":Te("load",i);break;case"video":case"audio":for(f=0;f<go.length;f++)Te(go[f],i);break;case"image":Te("error",i),Te("load",i);break;case"details":Te("toggle",i);break;case"embed":case"source":case"link":Te("error",i),Te("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_ in l)if(l.hasOwnProperty(_)&&(f=l[_],f!=null))switch(_){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:je(i,a,_,f,l,null)}return;default:if(rd(a)){for(U in l)l.hasOwnProperty(U)&&(f=l[U],f!==void 0&&$h(i,a,U,f,l,void 0));return}}for(k in l)l.hasOwnProperty(k)&&(f=l[k],f!=null&&je(i,a,k,f,l,null))}function uA(i,a,l,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,S=null,k=null,A=null,_=null,U=null;for(B in l){var $=l[B];if(l.hasOwnProperty(B)&&$!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":A=$;default:f.hasOwnProperty(B)||je(i,a,B,null,f,$)}}for(var L in f){var B=f[L];if($=l[L],f.hasOwnProperty(L)&&(B!=null||$!=null))switch(L){case"type":g=B;break;case"name":p=B;break;case"checked":_=B;break;case"defaultChecked":U=B;break;case"value":S=B;break;case"defaultValue":k=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,a));break;default:B!==$&&je(i,a,L,B,f,$)}}td(i,S,k,A,_,U,g,p);return;case"select":B=S=k=L=null;for(g in l)if(A=l[g],l.hasOwnProperty(g)&&A!=null)switch(g){case"value":break;case"multiple":B=A;default:f.hasOwnProperty(g)||je(i,a,g,null,f,A)}for(p in f)if(g=f[p],A=l[p],f.hasOwnProperty(p)&&(g!=null||A!=null))switch(p){case"value":L=g;break;case"defaultValue":k=g;break;case"multiple":S=g;default:g!==A&&je(i,a,p,g,f,A)}a=k,l=S,f=B,L!=null?Es(i,!!l,L,!1):!!f!=!!l&&(a!=null?Es(i,!!l,a,!0):Es(i,!!l,l?[]:"",!1));return;case"textarea":B=L=null;for(k in l)if(p=l[k],l.hasOwnProperty(k)&&p!=null&&!f.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:je(i,a,k,null,f,p)}for(S in f)if(p=f[S],g=l[S],f.hasOwnProperty(S)&&(p!=null||g!=null))switch(S){case"value":L=p;break;case"defaultValue":B=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==g&&je(i,a,S,p,f,g)}gy(i,L,B);return;case"option":for(var ne in l)if(L=l[ne],l.hasOwnProperty(ne)&&L!=null&&!f.hasOwnProperty(ne))switch(ne){case"selected":i.selected=!1;break;default:je(i,a,ne,null,f,L)}for(A in f)if(L=f[A],B=l[A],f.hasOwnProperty(A)&&L!==B&&(L!=null||B!=null))switch(A){case"selected":i.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:je(i,a,A,L,f,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ue in l)L=l[ue],l.hasOwnProperty(ue)&&L!=null&&!f.hasOwnProperty(ue)&&je(i,a,ue,null,f,L);for(_ in f)if(L=f[_],B=l[_],f.hasOwnProperty(_)&&L!==B&&(L!=null||B!=null))switch(_){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(137,a));break;default:je(i,a,_,L,f,B)}return;default:if(rd(a)){for(var Ue in l)L=l[Ue],l.hasOwnProperty(Ue)&&L!==void 0&&!f.hasOwnProperty(Ue)&&$h(i,a,Ue,void 0,f,L);for(U in f)L=f[U],B=l[U],!f.hasOwnProperty(U)||L===B||L===void 0&&B===void 0||$h(i,a,U,L,f,B);return}}for(var R in l)L=l[R],l.hasOwnProperty(R)&&L!=null&&!f.hasOwnProperty(R)&&je(i,a,R,null,f,L);for($ in f)L=f[$],B=l[$],!f.hasOwnProperty($)||L===B||L==null&&B==null||je(i,a,$,L,f,B)}function Sv(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fA(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,l=performance.getEntriesByType("resource"),f=0;f<l.length;f++){var p=l[f],g=p.transferSize,S=p.initiatorType,k=p.duration;if(g&&k&&Sv(S)){for(S=0,k=p.responseEnd,f+=1;f<l.length;f++){var A=l[f],_=A.startTime;if(_>k)break;var U=A.transferSize,$=A.initiatorType;U&&Sv($)&&(A=A.responseEnd,S+=U*(A<k?1:(k-_)/(A-_)))}if(--f,a+=8*(g+S)/(p.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var qh=null,Fh=null;function Dc(i){return i.nodeType===9?i:i.ownerDocument}function xv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ev(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Kh(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Gh=null;function dA(){var i=window.event;return i&&i.type==="popstate"?i===Gh?!1:(Gh=i,!0):(Gh=null,!1)}var kv=typeof setTimeout=="function"?setTimeout:void 0,hA=typeof clearTimeout=="function"?clearTimeout:void 0,Tv=typeof Promise=="function"?Promise:void 0,pA=typeof queueMicrotask=="function"?queueMicrotask:typeof Tv<"u"?function(i){return Tv.resolve(null).then(i).catch(mA)}:kv;function mA(i){setTimeout(function(){throw i})}function Kr(i){return i==="head"}function Cv(i,a){var l=a,f=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(f===0){i.removeChild(p),ea(a);return}f--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")f++;else if(l==="html")bo(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,bo(l);for(var g=l.firstChild;g;){var S=g.nextSibling,k=g.nodeName;g[La]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&g.rel.toLowerCase()==="stylesheet"||l.removeChild(g),g=S}}else l==="body"&&bo(i.ownerDocument.body);l=p}while(l);ea(a)}function wv(i,a){var l=i;i=0;do{var f=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=f}while(l)}function Yh(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Yh(l),Zf(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function gA(i,a,l,f){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[La])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=mn(i.nextSibling),i===null)break}return null}function yA(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=mn(i.nextSibling),i===null))return null;return i}function Av(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=mn(i.nextSibling),i===null))return null;return i}function Wh(i){return i.data==="$?"||i.data==="$~"}function Jh(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function bA(i,a){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||l.readyState!=="loading")a();else{var f=function(){a(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function mn(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var Xh=null;function Nv(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(a===0)return mn(i.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}i=i.nextSibling}return null}function Mv(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return i;a--}else l!=="/$"&&l!=="/&"||a++}i=i.previousSibling}return null}function Ov(i,a,l){switch(a=Dc(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function bo(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Zf(i)}var gn=new Map,Rv=new Set;function _c(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ur=J.d;J.d={f:vA,r:SA,D:xA,C:EA,L:kA,m:TA,X:wA,S:CA,M:AA};function vA(){var i=ur.f(),a=Tc();return i||a}function SA(i){var a=vs(i);a!==null&&a.tag===5&&a.type==="form"?Y0(a):ur.r(i)}var Xs=typeof document>"u"?null:document;function Dv(i,a,l){var f=Xs;if(f&&typeof a=="string"&&a){var p=ln(a);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),Rv.has(p)||(Rv.add(p),i={rel:i,crossOrigin:l,href:a},f.querySelector(p)===null&&(a=f.createElement("link"),kt(a,"link",i),ht(a),f.head.appendChild(a)))}}function xA(i){ur.D(i),Dv("dns-prefetch",i,null)}function EA(i,a){ur.C(i,a),Dv("preconnect",i,a)}function kA(i,a,l){ur.L(i,a,l);var f=Xs;if(f&&i&&a){var p='link[rel="preload"][as="'+ln(a)+'"]';a==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+ln(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+ln(l.imageSizes)+'"]')):p+='[href="'+ln(i)+'"]';var g=p;switch(a){case"style":g=Qs(i);break;case"script":g=Zs(i)}gn.has(g)||(i=y({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),gn.set(g,i),f.querySelector(p)!==null||a==="style"&&f.querySelector(vo(g))||a==="script"&&f.querySelector(So(g))||(a=f.createElement("link"),kt(a,"link",i),ht(a),f.head.appendChild(a)))}}function TA(i,a){ur.m(i,a);var l=Xs;if(l&&i){var f=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+ln(f)+'"][href="'+ln(i)+'"]',g=p;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Zs(i)}if(!gn.has(g)&&(i=y({rel:"modulepreload",href:i},a),gn.set(g,i),l.querySelector(p)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(So(g)))return}f=l.createElement("link"),kt(f,"link",i),ht(f),l.head.appendChild(f)}}}function CA(i,a,l){ur.S(i,a,l);var f=Xs;if(f&&i){var p=Ss(f).hoistableStyles,g=Qs(i);a=a||"default";var S=p.get(g);if(!S){var k={loading:0,preload:null};if(S=f.querySelector(vo(g)))k.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":a},l),(l=gn.get(g))&&Qh(i,l);var A=S=f.createElement("link");ht(A),kt(A,"link",i),A._p=new Promise(function(_,U){A.onload=_,A.onerror=U}),A.addEventListener("load",function(){k.loading|=1}),A.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Ic(S,a,f)}S={type:"stylesheet",instance:S,count:1,state:k},p.set(g,S)}}}function wA(i,a){ur.X(i,a);var l=Xs;if(l&&i){var f=Ss(l).hoistableScripts,p=Zs(i),g=f.get(p);g||(g=l.querySelector(So(p)),g||(i=y({src:i,async:!0},a),(a=gn.get(p))&&Zh(i,a),g=l.createElement("script"),ht(g),kt(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},f.set(p,g))}}function AA(i,a){ur.M(i,a);var l=Xs;if(l&&i){var f=Ss(l).hoistableScripts,p=Zs(i),g=f.get(p);g||(g=l.querySelector(So(p)),g||(i=y({src:i,async:!0,type:"module"},a),(a=gn.get(p))&&Zh(i,a),g=l.createElement("script"),ht(g),kt(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},f.set(p,g))}}function _v(i,a,l,f){var p=(p=Ee.current)?_c(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Qs(l.href),l=Ss(p).hoistableStyles,f=l.get(a),f||(f={type:"style",instance:null,count:0,state:null},l.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Qs(l.href);var g=Ss(p).hoistableStyles,S=g.get(i);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,S),(g=p.querySelector(vo(i)))&&!g._p&&(S.instance=g,S.state.loading=5),gn.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},gn.set(i,l),g||NA(p,i,l,S.state))),a&&f===null)throw Error(r(528,""));return S}if(a&&f!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Zs(l),l=Ss(p).hoistableScripts,f=l.get(a),f||(f={type:"script",instance:null,count:0,state:null},l.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Qs(i){return'href="'+ln(i)+'"'}function vo(i){return'link[rel="stylesheet"]['+i+"]"}function Iv(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function NA(i,a,l,f){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=i.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),kt(a,"link",l),ht(a),i.head.appendChild(a))}function Zs(i){return'[src="'+ln(i)+'"]'}function So(i){return"script[async]"+i}function Lv(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var f=i.querySelector('style[data-href~="'+ln(l.href)+'"]');if(f)return a.instance=f,ht(f),f;var p=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),ht(f),kt(f,"style",p),Ic(f,l.precedence,i),a.instance=f;case"stylesheet":p=Qs(l.href);var g=i.querySelector(vo(p));if(g)return a.state.loading|=4,a.instance=g,ht(g),g;f=Iv(l),(p=gn.get(p))&&Qh(f,p),g=(i.ownerDocument||i).createElement("link"),ht(g);var S=g;return S._p=new Promise(function(k,A){S.onload=k,S.onerror=A}),kt(g,"link",f),a.state.loading|=4,Ic(g,l.precedence,i),a.instance=g;case"script":return g=Zs(l.src),(p=i.querySelector(So(g)))?(a.instance=p,ht(p),p):(f=l,(p=gn.get(g))&&(f=y({},l),Zh(f,p)),i=i.ownerDocument||i,p=i.createElement("script"),ht(p),kt(p,"link",f),i.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,Ic(f,l.precedence,i));return a.instance}function Ic(i,a,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=f.length?f[f.length-1]:null,g=p,S=0;S<f.length;S++){var k=f[S];if(k.dataset.precedence===a)g=k;else if(g!==p)break}g?g.parentNode.insertBefore(i,g.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function Qh(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Zh(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Lc=null;function zv(i,a,l){if(Lc===null){var f=new Map,p=Lc=new Map;p.set(l,f)}else p=Lc,f=p.get(l),f||(f=new Map,p.set(l,f));if(f.has(i))return f;for(f.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var g=l[p];if(!(g[La]||g[vt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(a)||"";S=i+S;var k=f.get(S);k?k.push(g):f.set(S,[g])}}return f}function Bv(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function MA(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function jv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function OA(i,a,l,f){if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=Qs(f.href),g=a.querySelector(vo(p));if(g){a=g._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=zc.bind(i),a.then(i,i)),l.state.loading|=4,l.instance=g,ht(g);return}g=a.ownerDocument||a,f=Iv(f),(p=gn.get(p))&&Qh(f,p),g=g.createElement("link"),ht(g);var S=g;S._p=new Promise(function(k,A){S.onload=k,S.onerror=A}),kt(g,"link",f),l.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=zc.bind(i),a.addEventListener("load",l),a.addEventListener("error",l))}}var ep=0;function RA(i,a){return i.stylesheets&&i.count===0&&jc(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var f=setTimeout(function(){if(i.stylesheets&&jc(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+a);0<i.imgBytes&&ep===0&&(ep=62500*fA());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&jc(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>ep?50:800)+a);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(f),clearTimeout(p)}}:null}function zc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jc(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Bc=null;function jc(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Bc=new Map,a.forEach(DA,i),Bc=null,zc.call(i))}function DA(i,a){if(!(a.state.loading&4)){var l=Bc.get(i);if(l)var f=l.get(null);else{l=new Map,Bc.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var S=p[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),f=S)}f&&l.set(null,f)}p=a.instance,S=p.getAttribute("data-precedence"),g=l.get(S)||f,g===f&&l.set(null,p),l.set(S,p),this.count++,f=zc.bind(this),p.addEventListener("load",f),p.addEventListener("error",f),g?g.parentNode.insertBefore(p,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),a.state.loading|=4}}var xo={$$typeof:j,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function _A(i,a,l,f,p,g,S,k,A){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wf(0),this.hiddenUpdates=Wf(null),this.identifierPrefix=f,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Uv(i,a,l,f,p,g,S,k,A,_,U,$){return i=new _A(i,a,l,S,A,_,U,$,k),a=1,g===!0&&(a|=24),g=Jt(3,null,null,a),i.current=g,g.stateNode=i,a=_d(),a.refCount++,i.pooledCache=a,a.refCount++,g.memoizedState={element:f,isDehydrated:l,cache:a},Bd(g),i}function Pv(i){return i?(i=Os,i):Os}function Hv(i,a,l,f,p,g){p=Pv(p),f.context===null?f.context=p:f.pendingContext=p,f=Lr(a),f.payload={element:l},g=g===void 0?null:g,g!==null&&(f.callback=g),l=zr(i,f,a),l!==null&&($t(l,i,a),Qa(l,i,a))}function Vv(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function tp(i,a){Vv(i,a),(i=i.alternate)&&Vv(i,a)}function $v(i){if(i.tag===13||i.tag===31){var a=zi(i,67108864);a!==null&&$t(a,i,67108864),tp(i,67108864)}}function qv(i){if(i.tag===13||i.tag===31){var a=tn();a=Jf(a);var l=zi(i,a);l!==null&&$t(l,i,a),tp(i,a)}}var Uc=!0;function IA(i,a,l,f){var p=z.T;z.T=null;var g=J.p;try{J.p=2,np(i,a,l,f)}finally{J.p=g,z.T=p}}function LA(i,a,l,f){var p=z.T;z.T=null;var g=J.p;try{J.p=8,np(i,a,l,f)}finally{J.p=g,z.T=p}}function np(i,a,l,f){if(Uc){var p=rp(f);if(p===null)Vh(i,a,f,Pc,l),Kv(i,f);else if(BA(p,i,a,l,f))f.stopPropagation();else if(Kv(i,f),a&4&&-1<zA.indexOf(i)){for(;p!==null;){var g=vs(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=Ri(g.pendingLanes);if(S!==0){var k=g;for(k.pendingLanes|=2,k.entangledLanes|=2;S;){var A=1<<31-Yt(S);k.entanglements[1]|=A,S&=~A}jn(g),(Re&6)===0&&(Ec=Kt()+500,mo(0))}}break;case 31:case 13:k=zi(g,2),k!==null&&$t(k,g,2),Tc(),tp(g,2)}if(g=rp(f),g===null&&Vh(i,a,f,Pc,l),g===p)break;p=g}p!==null&&f.stopPropagation()}else Vh(i,a,f,null,l)}}function rp(i){return i=sd(i),ip(i)}var Pc=null;function ip(i){if(Pc=null,i=bs(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=c(a),i!==null)return i;i=null}else if(l===31){if(i=u(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Pc=i,null}function Fv(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xC()){case Zg:return 2;case ey:return 8;case Ml:case EC:return 32;case ty:return 268435456;default:return 32}default:return 32}}var sp=!1,Gr=null,Yr=null,Wr=null,Eo=new Map,ko=new Map,Jr=[],zA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kv(i,a){switch(i){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":Eo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ko.delete(a.pointerId)}}function To(i,a,l,f,p,g){return i===null||i.nativeEvent!==g?(i={blockedOn:a,domEventName:l,eventSystemFlags:f,nativeEvent:g,targetContainers:[p]},a!==null&&(a=vs(a),a!==null&&$v(a)),i):(i.eventSystemFlags|=f,a=i.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),i)}function BA(i,a,l,f,p){switch(a){case"focusin":return Gr=To(Gr,i,a,l,f,p),!0;case"dragenter":return Yr=To(Yr,i,a,l,f,p),!0;case"mouseover":return Wr=To(Wr,i,a,l,f,p),!0;case"pointerover":var g=p.pointerId;return Eo.set(g,To(Eo.get(g)||null,i,a,l,f,p)),!0;case"gotpointercapture":return g=p.pointerId,ko.set(g,To(ko.get(g)||null,i,a,l,f,p)),!0}return!1}function Gv(i){var a=bs(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){i.blockedOn=a,oy(i.priority,function(){qv(l)});return}}else if(a===31){if(a=u(l),a!==null){i.blockedOn=a,oy(i.priority,function(){qv(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Hc(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=rp(i.nativeEvent);if(l===null){l=i.nativeEvent;var f=new l.constructor(l.type,l);id=f,l.target.dispatchEvent(f),id=null}else return a=vs(l),a!==null&&$v(a),i.blockedOn=l,!1;a.shift()}return!0}function Yv(i,a,l){Hc(i)&&l.delete(a)}function jA(){sp=!1,Gr!==null&&Hc(Gr)&&(Gr=null),Yr!==null&&Hc(Yr)&&(Yr=null),Wr!==null&&Hc(Wr)&&(Wr=null),Eo.forEach(Yv),ko.forEach(Yv)}function Vc(i,a){i.blockedOn===a&&(i.blockedOn=null,sp||(sp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,jA)))}var $c=null;function Wv(i){$c!==i&&($c=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){$c===i&&($c=null);for(var a=0;a<i.length;a+=3){var l=i[a],f=i[a+1],p=i[a+2];if(typeof f!="function"){if(ip(f||l)===null)continue;break}var g=vs(l);g!==null&&(i.splice(a,3),a-=3,rh(g,{pending:!0,data:p,method:l.method,action:f},f,p))}}))}function ea(i){function a(A){return Vc(A,i)}Gr!==null&&Vc(Gr,i),Yr!==null&&Vc(Yr,i),Wr!==null&&Vc(Wr,i),Eo.forEach(a),ko.forEach(a);for(var l=0;l<Jr.length;l++){var f=Jr[l];f.blockedOn===i&&(f.blockedOn=null)}for(;0<Jr.length&&(l=Jr[0],l.blockedOn===null);)Gv(l),l.blockedOn===null&&Jr.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var p=l[f],g=l[f+1],S=p[Bt]||null;if(typeof g=="function")S||Wv(l);else if(S){var k=null;if(g&&g.hasAttribute("formAction")){if(p=g,S=g[Bt]||null)k=S.formAction;else if(ip(p)!==null)continue}else k=S.action;typeof k=="function"?l[f+1]=k:(l.splice(f,3),f-=3),Wv(l)}}}function Jv(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(S){return p=S})},focusReset:"manual",scroll:"manual"})}function a(){p!==null&&(p(),p=null),f||setTimeout(l,20)}function l(){if(!f&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){f=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),p!==null&&(p(),p=null)}}}function ap(i){this._internalRoot=i}qc.prototype.render=ap.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,f=tn();Hv(l,f,i,a,null,null)},qc.prototype.unmount=ap.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Hv(i.current,2,null,i,null,null),Tc(),a[ys]=null}};function qc(i){this._internalRoot=i}qc.prototype.unstable_scheduleHydration=function(i){if(i){var a=ay();i={blockedOn:null,target:i,priority:a};for(var l=0;l<Jr.length&&a!==0&&a<Jr[l].priority;l++);Jr.splice(l,0,i),l===0&&Gv(i)}};var Xv=e.version;if(Xv!=="19.2.0")throw Error(r(527,Xv,"19.2.0"));J.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(a),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var UA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fc.isDisabled&&Fc.supportsFiber)try{Da=Fc.inject(UA),Gt=Fc}catch{}}return wo.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,f="",p=ib,g=sb,S=ab;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError)),a=Uv(i,1,!1,null,null,l,f,null,p,g,S,Jv),i[ys]=a.current,Hh(i),new ap(a)},wo.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var f=!1,p="",g=ib,S=sb,k=ab,A=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError),l.formState!==void 0&&(A=l.formState)),a=Uv(i,1,!0,a,l??null,f,p,A,g,S,k,Jv),a.context=Pv(null),l=a.current,f=tn(),f=Jf(f),p=Lr(f),p.callback=null,zr(l,p,f),l=f,a.current.lanes=l,Ia(a,l),jn(a),i[ys]=a.current,Hh(i),new qc(a)},wo.version="19.2.0",wo}var o1;function YA(){if(o1)return cp.exports;o1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),cp.exports=GA(),cp.exports}var WA=YA();const JA=gf(WA);var l1="popstate";function XA(n={}){function e(r,s){let{pathname:o,search:c,hash:u}=r.location;return tm("",{pathname:o,search:c,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Jo(s)}return ZA(e,t,null,n)}function Ye(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function sn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QA(){return Math.random().toString(36).substring(2,10)}function c1(n,e){return{usr:n.state,key:n.key,idx:e}}function tm(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ca(e):e,state:t,key:e&&e.key||r||QA()}}function Jo({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ca(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function ZA(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,c=s.history,u="POP",d=null,h=m();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function m(){return(c.state||{idx:null}).idx}function y(){u="POP";let C=m(),w=C==null?null:C-h;h=C,d&&d({action:u,location:T.location,delta:w})}function b(C,w){u="PUSH";let I=tm(T.location,C,w);h=m()+1;let j=c1(I,h),F=T.createHref(I);try{c.pushState(j,"",F)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;s.location.assign(F)}o&&d&&d({action:u,location:T.location,delta:1})}function v(C,w){u="REPLACE";let I=tm(T.location,C,w);h=m();let j=c1(I,h),F=T.createHref(I);c.replaceState(j,"",F),o&&d&&d({action:u,location:T.location,delta:0})}function x(C){return eN(C)}let T={get action(){return u},get location(){return n(s,c)},listen(C){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(l1,y),d=C,()=>{s.removeEventListener(l1,y),d=null}},createHref(C){return e(s,C)},createURL:x,encodeLocation(C){let w=x(C);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:b,replace:v,go(C){return c.go(C)}};return T}function eN(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ye(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Jo(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function kx(n,e,t="/"){return tN(n,e,t,!1)}function tN(n,e,t,r){let s=typeof e=="string"?Ca(e):e,o=Er(s.pathname||"/",t);if(o==null)return null;let c=Tx(n);nN(c);let u=null;for(let d=0;u==null&&d<c.length;++d){let h=hN(o);u=fN(c[d],h,r)}return u}function Tx(n,e=[],t=[],r="",s=!1){let o=(c,u,d=s,h)=>{let m={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&d)return;Ye(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let y=vr([r,m.relativePath]),b=t.concat(m);c.children&&c.children.length>0&&(Ye(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Tx(c.children,e,b,y,d)),!(c.path==null&&!c.index)&&e.push({path:y,score:cN(y,c.index),routesMeta:b})};return n.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))o(c,u);else for(let d of Cx(c.path))o(c,u,!0,d)}),e}function Cx(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let c=Cx(r.join("/")),u=[];return u.push(...c.map(d=>d===""?o:[o,d].join("/"))),s&&u.push(...c),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function nN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:uN(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var rN=/^:[\w-]+$/,iN=3,sN=2,aN=1,oN=10,lN=-2,u1=n=>n==="*";function cN(n,e){let t=n.split("/"),r=t.length;return t.some(u1)&&(r+=lN),e&&(r+=sN),t.filter(s=>!u1(s)).reduce((s,o)=>s+(rN.test(o)?iN:o===""?aN:oN),r)}function uN(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function fN(n,e,t=!1){let{routesMeta:r}=n,s={},o="/",c=[];for(let u=0;u<r.length;++u){let d=r[u],h=u===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",y=bu({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),b=d.route;if(!y&&h&&t&&!r[r.length-1].route.index&&(y=bu({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!y)return null;Object.assign(s,y.params),c.push({params:s,pathname:vr([o,y.pathname]),pathnameBase:bN(vr([o,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(o=vr([o,y.pathnameBase]))}return c}function bu(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=dN(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:y},b)=>{if(m==="*"){let x=u[b]||"";c=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const v=u[b];return y&&!v?h[m]=void 0:h[m]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:c,pattern:n}}function dN(n,e=!1,t=!0){sn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function hN(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Er(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var pN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mN=n=>pN.test(n);function gN(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Ca(n):n,o;if(t)if(mN(t))o=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),sn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?o=f1(t.substring(1),"/"):o=f1(t,e)}else o=e;return{pathname:o,search:vN(r),hash:SN(s)}}function f1(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function hp(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yN(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function qm(n){let e=yN(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Fm(n,e,t,r=!1){let s;typeof n=="string"?s=Ca(n):(s={...n},Ye(!s.pathname||!s.pathname.includes("?"),hp("?","pathname","search",s)),Ye(!s.pathname||!s.pathname.includes("#"),hp("#","pathname","hash",s)),Ye(!s.search||!s.search.includes("#"),hp("#","search","hash",s)));let o=n===""||s.pathname==="",c=o?"/":s.pathname,u;if(c==null)u=t;else{let y=e.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),y-=1;s.pathname=b.join("/")}u=y>=0?e[y]:"/"}let d=gN(s,u),h=c&&c!=="/"&&c.endsWith("/"),m=(o||c===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var vr=n=>n.join("/").replace(/\/\/+/g,"/"),bN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),vN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,SN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function xN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var wx=["POST","PUT","PATCH","DELETE"];new Set(wx);var EN=["GET",...wx];new Set(EN);var wa=O.createContext(null);wa.displayName="DataRouter";var yf=O.createContext(null);yf.displayName="DataRouterState";O.createContext(!1);var Ax=O.createContext({isTransitioning:!1});Ax.displayName="ViewTransition";var kN=O.createContext(new Map);kN.displayName="Fetchers";var TN=O.createContext(null);TN.displayName="Await";var Dn=O.createContext(null);Dn.displayName="Navigation";var hl=O.createContext(null);hl.displayName="Location";var _n=O.createContext({outlet:null,matches:[],isDataRoute:!1});_n.displayName="Route";var Km=O.createContext(null);Km.displayName="RouteError";function CN(n,{relative:e}={}){Ye(Aa(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=O.useContext(Dn),{hash:s,pathname:o,search:c}=pl(n,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:vr([t,o])),r.createHref({pathname:u,search:c,hash:s})}function Aa(){return O.useContext(hl)!=null}function In(){return Ye(Aa(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(hl).location}var Nx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Mx(n){O.useContext(Dn).static||O.useLayoutEffect(n)}function Ti(){let{isDataRoute:n}=O.useContext(_n);return n?UN():wN()}function wN(){Ye(Aa(),"useNavigate() may be used only in the context of a <Router> component.");let n=O.useContext(wa),{basename:e,navigator:t}=O.useContext(Dn),{matches:r}=O.useContext(_n),{pathname:s}=In(),o=JSON.stringify(qm(r)),c=O.useRef(!1);return Mx(()=>{c.current=!0}),O.useCallback((d,h={})=>{if(sn(c.current,Nx),!c.current)return;if(typeof d=="number"){t.go(d);return}let m=Fm(d,JSON.parse(o),s,h.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:vr([e,m.pathname])),(h.replace?t.replace:t.push)(m,h.state,h)},[e,t,o,s,n])}O.createContext(null);function AN(){let{matches:n}=O.useContext(_n),e=n[n.length-1];return e?e.params:{}}function pl(n,{relative:e}={}){let{matches:t}=O.useContext(_n),{pathname:r}=In(),s=JSON.stringify(qm(t));return O.useMemo(()=>Fm(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function NN(n,e){return Ox(n,e)}function Ox(n,e,t,r,s){Ye(Aa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=O.useContext(Dn),{matches:c}=O.useContext(_n),u=c[c.length-1],d=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",y=u&&u.route;{let I=y&&y.path||"";Rx(h,!y||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let b=In(),v;if(e){let I=typeof e=="string"?Ca(e):e;Ye(m==="/"||I.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${I.pathname}" was given in the \`location\` prop.`),v=I}else v=b;let x=v.pathname||"/",T=x;if(m!=="/"){let I=m.replace(/^\//,"").split("/");T="/"+x.replace(/^\//,"").split("/").slice(I.length).join("/")}let C=kx(n,{pathname:T});sn(y||C!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),sn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=_N(C&&C.map(I=>Object.assign({},I,{params:Object.assign({},d,I.params),pathname:vr([m,o.encodeLocation?o.encodeLocation(I.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?m:vr([m,o.encodeLocation?o.encodeLocation(I.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathnameBase])})),c,t,r,s);return e&&w?O.createElement(hl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},w):w}function MN(){let n=jN(),e=xN(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:o},"ErrorBoundary")," or"," ",O.createElement("code",{style:o},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:s},t):null,c)}var ON=O.createElement(MN,null),RN=class extends O.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?O.createElement(_n.Provider,{value:this.props.routeContext},O.createElement(Km.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function DN({routeContext:n,match:e,children:t}){let r=O.useContext(wa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(_n.Provider,{value:n},t)}function _N(n,e=[],t=null,r=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,c=t?.errors;if(c!=null){let m=o.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);Ye(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let u=!1,d=-1;if(t)for(let m=0;m<o.length;m++){let y=o[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=m),y.route.id){let{loaderData:b,errors:v}=t,x=y.route.loader&&!b.hasOwnProperty(y.route.id)&&(!v||v[y.route.id]===void 0);if(y.route.lazy||x){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let h=t&&r?(m,y)=>{r(m,{location:t.location,params:t.matches?.[0]?.params??{},errorInfo:y})}:void 0;return o.reduceRight((m,y,b)=>{let v,x=!1,T=null,C=null;t&&(v=c&&y.route.id?c[y.route.id]:void 0,T=y.route.errorElement||ON,u&&(d<0&&b===0?(Rx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,C=null):d===b&&(x=!0,C=y.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,b+1)),I=()=>{let j;return v?j=T:x?j=C:y.route.Component?j=O.createElement(y.route.Component,null):y.route.element?j=y.route.element:j=m,O.createElement(DN,{match:y,routeContext:{outlet:m,matches:w,isDataRoute:t!=null},children:j})};return t&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?O.createElement(RN,{location:t.location,revalidation:t.revalidation,component:T,error:v,children:I(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:h}):I()},null)}function Gm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IN(n){let e=O.useContext(wa);return Ye(e,Gm(n)),e}function LN(n){let e=O.useContext(yf);return Ye(e,Gm(n)),e}function zN(n){let e=O.useContext(_n);return Ye(e,Gm(n)),e}function Ym(n){let e=zN(n),t=e.matches[e.matches.length-1];return Ye(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function BN(){return Ym("useRouteId")}function jN(){let n=O.useContext(Km),e=LN("useRouteError"),t=Ym("useRouteError");return n!==void 0?n:e.errors?.[t]}function UN(){let{router:n}=IN("useNavigate"),e=Ym("useNavigate"),t=O.useRef(!1);return Mx(()=>{t.current=!0}),O.useCallback(async(s,o={})=>{sn(t.current,Nx),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var d1={};function Rx(n,e,t){!e&&!d1[n]&&(d1[n]=!0,sn(!1,t))}O.memo(PN);function PN({routes:n,future:e,state:t,unstable_onError:r}){return Ox(n,void 0,t,r,e)}function HN({to:n,replace:e,state:t,relative:r}){Ye(Aa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=O.useContext(Dn);sn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=O.useContext(_n),{pathname:c}=In(),u=Ti(),d=Fm(n,qm(o),c,r==="path"),h=JSON.stringify(d);return O.useEffect(()=>{u(JSON.parse(h),{replace:e,state:t,relative:r})},[u,h,r,e,t]),null}function ei(n){Ye(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function VN({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:o=!1}){Ye(!Aa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:c,navigator:s,static:o,future:{}}),[c,s,o]);typeof t=="string"&&(t=Ca(t));let{pathname:d="/",search:h="",hash:m="",state:y=null,key:b="default"}=t,v=O.useMemo(()=>{let x=Er(d,c);return x==null?null:{location:{pathname:x,search:h,hash:m,state:y,key:b},navigationType:r}},[c,d,h,m,y,b,r]);return sn(v!=null,`<Router basename="${c}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:O.createElement(Dn.Provider,{value:u},O.createElement(hl.Provider,{children:e,value:v}))}function $N({children:n,location:e}){return NN(nm(n),e)}function nm(n,e=[]){let t=[];return O.Children.forEach(n,(r,s)=>{if(!O.isValidElement(r))return;let o=[...e,s];if(r.type===O.Fragment){t.push.apply(t,nm(r.props.children,o));return}Ye(r.type===ei,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ye(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=nm(r.props.children,o)),t.push(c)}),t}var su="get",au="application/x-www-form-urlencoded";function bf(n){return n!=null&&typeof n.tagName=="string"}function qN(n){return bf(n)&&n.tagName.toLowerCase()==="button"}function FN(n){return bf(n)&&n.tagName.toLowerCase()==="form"}function KN(n){return bf(n)&&n.tagName.toLowerCase()==="input"}function GN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function YN(n,e){return n.button===0&&(!e||e==="_self")&&!GN(n)}function rm(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(s=>[t,s]):[[t,r]])},[]))}function WN(n,e){let t=rm(n);return e&&e.forEach((r,s)=>{t.has(s)||e.getAll(s).forEach(o=>{t.append(s,o)})}),t}var Kc=null;function JN(){if(Kc===null)try{new FormData(document.createElement("form"),0),Kc=!1}catch{Kc=!0}return Kc}var XN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pp(n){return n!=null&&!XN.has(n)?(sn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${au}"`),null):n}function QN(n,e){let t,r,s,o,c;if(FN(n)){let u=n.getAttribute("action");r=u?Er(u,e):null,t=n.getAttribute("method")||su,s=pp(n.getAttribute("enctype"))||au,o=new FormData(n)}else if(qN(n)||KN(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(r=d?Er(d,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||su,s=pp(n.getAttribute("formenctype"))||pp(u.getAttribute("enctype"))||au,o=new FormData(u,n),!JN()){let{name:h,type:m,value:y}=n;if(m==="image"){let b=h?`${h}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else h&&o.append(h,y)}}else{if(bf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=su,r=null,s=au,c=n}return o&&s==="text/plain"&&(c=o,o=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ZN(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Er(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function eM(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tM(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function nM(n,e,t){let r=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let c=await eM(o,t);return c.links?c.links():[]}return[]}));return aM(r.flat(1).filter(tM).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function h1(n,e,t,r,s,o){let c=(d,h)=>t[h]?d.route.id!==t[h].route.id:!0,u=(d,h)=>t[h].pathname!==d.pathname||t[h].route.path?.endsWith("*")&&t[h].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,h)=>c(d,h)||u(d,h)):o==="data"?e.filter((d,h)=>{let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(c(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function rM(n,e,{includeHydrateFallback:t}={}){return iM(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function iM(n){return[...new Set(n)]}function sM(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function aM(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let o=JSON.stringify(sM(s));return t.has(o)||(t.add(o),r.push({key:o,link:s})),r},[])}function Dx(){let n=O.useContext(wa);return Wm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function oM(){let n=O.useContext(yf);return Wm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Jm=O.createContext(void 0);Jm.displayName="FrameworkContext";function _x(){let n=O.useContext(Jm);return Wm(n,"You must render this element inside a <HydratedRouter> element"),n}function lM(n,e){let t=O.useContext(Jm),[r,s]=O.useState(!1),[o,c]=O.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:y}=e,b=O.useRef(null);O.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let T=w=>{w.forEach(I=>{c(I.isIntersecting)})},C=new IntersectionObserver(T,{threshold:.5});return b.current&&C.observe(b.current),()=>{C.disconnect()}}},[n]),O.useEffect(()=>{if(r){let T=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(T)}}},[r]);let v=()=>{s(!0)},x=()=>{s(!1),c(!1)};return t?n!=="intent"?[o,b,{}]:[o,b,{onFocus:Ao(u,v),onBlur:Ao(d,x),onMouseEnter:Ao(h,v),onMouseLeave:Ao(m,x),onTouchStart:Ao(y,v)}]:[!1,b,{}]}function Ao(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function cM({page:n,...e}){let{router:t}=Dx(),r=O.useMemo(()=>kx(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?O.createElement(fM,{page:n,matches:r,...e}):null}function uM(n){let{manifest:e,routeModules:t}=_x(),[r,s]=O.useState([]);return O.useEffect(()=>{let o=!1;return nM(n,e,t).then(c=>{o||s(c)}),()=>{o=!0}},[n,e,t]),r}function fM({page:n,matches:e,...t}){let r=In(),{manifest:s,routeModules:o}=_x(),{basename:c}=Dx(),{loaderData:u,matches:d}=oM(),h=O.useMemo(()=>h1(n,e,d,s,r,"data"),[n,e,d,s,r]),m=O.useMemo(()=>h1(n,e,d,s,r,"assets"),[n,e,d,s,r]),y=O.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let x=new Set,T=!1;if(e.forEach(w=>{let I=s.routes[w.route.id];!I||!I.hasLoader||(!h.some(j=>j.route.id===w.route.id)&&w.route.id in u&&o[w.route.id]?.shouldRevalidate||I.hasClientLoader?T=!0:x.add(w.route.id))}),x.size===0)return[];let C=ZN(n,c,"data");return T&&x.size>0&&C.searchParams.set("_routes",e.filter(w=>x.has(w.route.id)).map(w=>w.route.id).join(",")),[C.pathname+C.search]},[c,u,r,s,h,e,n,o]),b=O.useMemo(()=>rM(m,s),[m,s]),v=uM(m);return O.createElement(O.Fragment,null,y.map(x=>O.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),b.map(x=>O.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),v.map(({key:x,link:T})=>O.createElement("link",{key:x,nonce:t.nonce,...T})))}function dM(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Ix=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ix&&(window.__reactRouterVersion="7.9.6")}catch{}function hM({basename:n,children:e,window:t}){let r=O.useRef();r.current==null&&(r.current=XA({window:t,v5Compat:!0}));let s=r.current,[o,c]=O.useState({action:s.action,location:s.location}),u=O.useCallback(d=>{O.startTransition(()=>c(d))},[c]);return O.useLayoutEffect(()=>s.listen(u),[s,u]),O.createElement(VN,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var Lx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,On=O.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:o,replace:c,state:u,target:d,to:h,preventScrollReset:m,viewTransition:y,...b},v){let{basename:x}=O.useContext(Dn),T=typeof h=="string"&&Lx.test(h),C,w=!1;if(typeof h=="string"&&T&&(C=h,Ix))try{let te=new URL(window.location.href),de=h.startsWith("//")?new URL(te.protocol+h):new URL(h),Oe=Er(de.pathname,x);de.origin===te.origin&&Oe!=null?h=Oe+de.search+de.hash:w=!0}catch{sn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=CN(h,{relative:s}),[j,F,q]=lM(r,b),W=gM(h,{replace:c,state:u,target:d,preventScrollReset:m,relative:s,viewTransition:y});function P(te){e&&e(te),te.defaultPrevented||W(te)}let ee=O.createElement("a",{...b,...q,href:C||I,onClick:w||o?e:P,ref:dM(v,F),target:d,"data-discover":!T&&t==="render"?"true":void 0});return j&&!T?O.createElement(O.Fragment,null,ee,O.createElement(cM,{page:I})):ee});On.displayName="Link";var Ro=O.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:o,to:c,viewTransition:u,children:d,...h},m){let y=pl(c,{relative:h.relative}),b=In(),v=O.useContext(yf),{navigator:x,basename:T}=O.useContext(Dn),C=v!=null&&xM(y)&&u===!0,w=x.encodeLocation?x.encodeLocation(y).pathname:y.pathname,I=b.pathname,j=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(I=I.toLowerCase(),j=j?j.toLowerCase():null,w=w.toLowerCase()),j&&T&&(j=Er(j,T)||j);const F=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let q=I===w||!s&&I.startsWith(w)&&I.charAt(F)==="/",W=j!=null&&(j===w||!s&&j.startsWith(w)&&j.charAt(w.length)==="/"),P={isActive:q,isPending:W,isTransitioning:C},ee=q?e:void 0,te;typeof r=="function"?te=r(P):te=[r,q?"active":null,W?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let de=typeof o=="function"?o(P):o;return O.createElement(On,{...h,"aria-current":ee,className:te,ref:m,style:de,to:c,viewTransition:u},typeof d=="function"?d(P):d)});Ro.displayName="NavLink";var pM=O.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:o,method:c=su,action:u,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:y,...b},v)=>{let x=vM(),T=SM(u,{relative:h}),C=c.toLowerCase()==="get"?"get":"post",w=typeof u=="string"&&Lx.test(u),I=j=>{if(d&&d(j),j.defaultPrevented)return;j.preventDefault();let F=j.nativeEvent.submitter,q=F?.getAttribute("formmethod")||c;x(F||j.currentTarget,{fetcherKey:e,method:q,navigate:t,replace:s,state:o,relative:h,preventScrollReset:m,viewTransition:y})};return O.createElement("form",{ref:v,method:C,action:T,onSubmit:r?d:I,...b,"data-discover":!w&&n==="render"?"true":void 0})});pM.displayName="Form";function mM(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zx(n){let e=O.useContext(wa);return Ye(e,mM(n)),e}function gM(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:c}={}){let u=Ti(),d=In(),h=pl(n,{relative:o});return O.useCallback(m=>{if(YN(m,e)){m.preventDefault();let y=t!==void 0?t:Jo(d)===Jo(h);u(n,{replace:y,state:r,preventScrollReset:s,relative:o,viewTransition:c})}},[d,u,h,t,r,e,n,s,o,c])}function Bx(n){sn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=O.useRef(rm(n)),t=O.useRef(!1),r=In(),s=O.useMemo(()=>WN(r.search,t.current?null:e.current),[r.search]),o=Ti(),c=O.useCallback((u,d)=>{const h=rm(typeof u=="function"?u(new URLSearchParams(s)):u);t.current=!0,o("?"+h,d)},[o,s]);return[s,c]}var yM=0,bM=()=>`__${String(++yM)}__`;function vM(){let{router:n}=zx("useSubmit"),{basename:e}=O.useContext(Dn),t=BN();return O.useCallback(async(r,s={})=>{let{action:o,method:c,encType:u,formData:d,body:h}=QN(r,e);if(s.navigate===!1){let m=s.fetcherKey||bM();await n.fetch(m,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||c,formEncType:s.encType||u,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||c,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function SM(n,{relative:e}={}){let{basename:t}=O.useContext(Dn),r=O.useContext(_n);Ye(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...pl(n||".",{relative:e})},c=In();if(n==null){o.search=c.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(y=>y).forEach(y=>u.append("index",y));let m=u.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:vr([t,o.pathname])),Jo(o)}function xM(n,{relative:e}={}){let t=O.useContext(Ax);Ye(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=zx("useViewTransitionState"),s=pl(n,{relative:e});if(!t.isTransitioning)return!1;let o=Er(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=Er(t.nextLocation.pathname,r)||t.nextLocation.pathname;return bu(s.pathname,c)!=null||bu(s.pathname,o)!=null}var EM=Ex();const kM=gf(EM),TM=()=>{};var p1={};const jx=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},CM=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],c=n[t++],u=n[t++],d=((s&7)<<18|(o&63)<<12|(c&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],c=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},Ux={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],c=s+1<n.length,u=c?n[s+1]:0,d=s+2<n.length,h=d?n[s+2]:0,m=o>>2,y=(o&3)<<4|u>>4;let b=(u&15)<<2|h>>6,v=h&63;d||(v=64,c||(b=64)),r.push(t[m],t[y],t[b],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(jx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):CM(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],u=s<n.length?t[n.charAt(s)]:0;++s;const h=s<n.length?t[n.charAt(s)]:64;++s;const y=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||u==null||h==null||y==null)throw new wM;const b=o<<2|u>>4;if(r.push(b),h!==64){const v=u<<4&240|h>>2;if(r.push(v),y!==64){const x=h<<6&192|y;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class wM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AM=function(n){const e=jx(n);return Ux.encodeByteArray(e,!0)},Px=function(n){return AM(n).replace(/\./g,"")},Hx=function(n){try{return Ux.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function NM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const MM=()=>NM().__FIREBASE_DEFAULTS__,OM=()=>{if(typeof process>"u"||typeof p1>"u")return;const n=p1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},RM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Hx(n[1]);return e&&JSON.parse(e)},Xm=()=>{try{return TM()||MM()||OM()||RM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},DM=n=>Xm()?.emulatorHosts?.[n],Vx=()=>Xm()?.config,$x=n=>Xm()?.[`_${n}`];class _M{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function vf(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function IM(n){return(await fetch(n,{credentials:"include"})).ok}const jo={};function LM(){const n={prod:[],emulator:[]};for(const e of Object.keys(jo))jo[e]?n.emulator.push(e):n.prod.push(e);return n}function zM(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let m1=!1;function BM(n,e){if(typeof window>"u"||typeof document>"u"||!vf(window.location.host)||jo[n]===e||jo[n]||m1)return;jo[n]=e;function t(b){return`__firebase__banner__${b}`}const r="__firebase__banner",o=LM().prod.length>0;function c(){const b=document.getElementById(r);b&&b.remove()}function u(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,v){b.setAttribute("width","24"),b.setAttribute("id",v),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function h(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{m1=!0,c()},b}function m(b,v){b.setAttribute("id",v),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function y(){const b=zM(r),v=t("text"),x=document.getElementById(v)||document.createElement("span"),T=t("learnmore"),C=document.getElementById(T)||document.createElement("a"),w=t("preprendIcon"),I=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const j=b.element;u(j),m(C,T);const F=h();d(I,w),j.append(I,x,C,F),document.body.appendChild(j)}o?(x.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function UM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PM(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function HM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VM(){const n=It();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function $M(){try{return typeof indexedDB=="object"}catch{return!1}}function qM(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}const FM="FirebaseError";class Ci extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=FM,Object.setPrototypeOf(this,Ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ml.prototype.create)}}class ml{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?KM(o,r):"Error",u=`${this.serviceName}: ${c} (${s}).`;return new Ci(s,u,r)}}function KM(n,e){return n.replace(GM,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const GM=/\{\$([^}]+)}/g;function YM(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ma(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],c=e[s];if(g1(o)&&g1(c)){if(!ma(o,c))return!1}else if(o!==c)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function g1(n){return n!==null&&typeof n=="object"}function gl(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Do(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function _o(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function WM(n,e){const t=new JM(n,e);return t.subscribe.bind(t)}class JM{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");XM(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=mp),s.error===void 0&&(s.error=mp),s.complete===void 0&&(s.complete=mp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XM(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function mp(){}function Cr(n){return n&&n._delegate?n._delegate:n}class ga{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ji="[DEFAULT]";class QM{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new _M;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eO(e))try{this.getOrInitializeService({instanceIdentifier:Ji})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Ji){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ji){return this.instances.has(e)}getOptions(e=Ji){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&c.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZM(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ji){return this.component?this.component.multipleInstances?e:Ji:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZM(n){return n===Ji?void 0:n}function eO(n){return n.instantiationMode==="EAGER"}class tO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new QM(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const nO={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},rO=Ve.INFO,iO={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},sO=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=iO[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qx{constructor(e){this.name=e,this._logLevel=rO,this._logHandler=sO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const aO=(n,e)=>e.some(t=>n instanceof t);let y1,b1;function oO(){return y1||(y1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lO(){return b1||(b1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fx=new WeakMap,im=new WeakMap,Kx=new WeakMap,gp=new WeakMap,Qm=new WeakMap;function cO(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(pi(n.result)),s()},c=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Fx.set(t,n)}).catch(()=>{}),Qm.set(e,n),e}function uO(n){if(im.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),s()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});im.set(n,e)}let sm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return im.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Kx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return pi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function fO(n){sm=n(sm)}function dO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(yp(this),e,...t);return Kx.set(r,e.sort?e.sort():[e]),pi(r)}:lO().includes(n)?function(...e){return n.apply(yp(this),e),pi(Fx.get(this))}:function(...e){return pi(n.apply(yp(this),e))}}function hO(n){return typeof n=="function"?dO(n):(n instanceof IDBTransaction&&uO(n),aO(n,oO())?new Proxy(n,sm):n)}function pi(n){if(n instanceof IDBRequest)return cO(n);if(gp.has(n))return gp.get(n);const e=hO(n);return e!==n&&(gp.set(n,e),Qm.set(e,n)),e}const yp=n=>Qm.get(n);function pO(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const c=indexedDB.open(n,e),u=pi(c);return r&&c.addEventListener("upgradeneeded",d=>{r(pi(c.result),d.oldVersion,d.newVersion,pi(c.transaction),d)}),t&&c.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const mO=["get","getKey","getAll","getAllKeys","count"],gO=["put","add","delete","clear"],bp=new Map;function v1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(bp.get(e))return bp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=gO.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||mO.includes(t)))return;const o=async function(c,...u){const d=this.transaction(c,s?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[t](...u),s&&d.done]))[0]};return bp.set(e,o),o}fO(n=>({...n,get:(e,t,r)=>v1(e,t)||n.get(e,t,r),has:(e,t)=>!!v1(e,t)||n.has(e,t)}));class yO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(bO(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function bO(n){return n.getComponent()?.type==="VERSION"}const am="@firebase/app",S1="0.14.6";const kr=new qx("@firebase/app"),vO="@firebase/app-compat",SO="@firebase/analytics-compat",xO="@firebase/analytics",EO="@firebase/app-check-compat",kO="@firebase/app-check",TO="@firebase/auth",CO="@firebase/auth-compat",wO="@firebase/database",AO="@firebase/data-connect",NO="@firebase/database-compat",MO="@firebase/functions",OO="@firebase/functions-compat",RO="@firebase/installations",DO="@firebase/installations-compat",_O="@firebase/messaging",IO="@firebase/messaging-compat",LO="@firebase/performance",zO="@firebase/performance-compat",BO="@firebase/remote-config",jO="@firebase/remote-config-compat",UO="@firebase/storage",PO="@firebase/storage-compat",HO="@firebase/firestore",VO="@firebase/ai",$O="@firebase/firestore-compat",qO="firebase",FO="12.6.0";const om="[DEFAULT]",KO={[am]:"fire-core",[vO]:"fire-core-compat",[xO]:"fire-analytics",[SO]:"fire-analytics-compat",[kO]:"fire-app-check",[EO]:"fire-app-check-compat",[TO]:"fire-auth",[CO]:"fire-auth-compat",[wO]:"fire-rtdb",[AO]:"fire-data-connect",[NO]:"fire-rtdb-compat",[MO]:"fire-fn",[OO]:"fire-fn-compat",[RO]:"fire-iid",[DO]:"fire-iid-compat",[_O]:"fire-fcm",[IO]:"fire-fcm-compat",[LO]:"fire-perf",[zO]:"fire-perf-compat",[BO]:"fire-rc",[jO]:"fire-rc-compat",[UO]:"fire-gcs",[PO]:"fire-gcs-compat",[HO]:"fire-fst",[$O]:"fire-fst-compat",[VO]:"fire-vertex","fire-js":"fire-js",[qO]:"fire-js-all"};const vu=new Map,GO=new Map,lm=new Map;function x1(n,e){try{n.container.addComponent(e)}catch(t){kr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Xo(n){const e=n.name;if(lm.has(e))return kr.debug(`There were multiple attempts to register component ${e}.`),!1;lm.set(e,n);for(const t of vu.values())x1(t,n);for(const t of GO.values())x1(t,n);return!0}function Gx(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Vn(n){return n==null?!1:n.settings!==void 0}const YO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mi=new ml("app","Firebase",YO);class WO{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mi.create("app-deleted",{appName:this._name})}}const yl=FO;function Yx(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:om,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw mi.create("bad-app-name",{appName:String(s)});if(t||(t=Vx()),!t)throw mi.create("no-options");const o=vu.get(s);if(o){if(ma(t,o.options)&&ma(r,o.config))return o;throw mi.create("duplicate-app",{appName:s})}const c=new tO(s);for(const d of lm.values())c.addComponent(d);const u=new WO(t,r,c);return vu.set(s,u),u}function JO(n=om){const e=vu.get(n);if(!e&&n===om&&Vx())return Yx();if(!e)throw mi.create("no-app",{appName:n});return e}function ca(n,e,t){let r=KO[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${r}" with version "${e}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),kr.warn(c.join(" "));return}Xo(new ga(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const XO="firebase-heartbeat-database",QO=1,Qo="firebase-heartbeat-store";let vp=null;function Wx(){return vp||(vp=pO(XO,QO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Qo)}catch(t){console.warn(t)}}}}).catch(n=>{throw mi.create("idb-open",{originalErrorMessage:n.message})})),vp}async function ZO(n){try{const t=(await Wx()).transaction(Qo),r=await t.objectStore(Qo).get(Jx(n));return await t.done,r}catch(e){if(e instanceof Ci)kr.warn(e.message);else{const t=mi.create("idb-get",{originalErrorMessage:e?.message});kr.warn(t.message)}}}async function E1(n,e){try{const r=(await Wx()).transaction(Qo,"readwrite");await r.objectStore(Qo).put(e,Jx(n)),await r.done}catch(t){if(t instanceof Ci)kr.warn(t.message);else{const r=mi.create("idb-set",{originalErrorMessage:t?.message});kr.warn(r.message)}}}function Jx(n){return`${n.name}!${n.options.appId}`}const eR=1024,tR=30;class nR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new iR(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=k1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>tR){const s=sR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){kr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=k1(),{heartbeatsToSend:t,unsentEntries:r}=rR(this._heartbeatsCache.heartbeats),s=Px(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return kr.warn(e),""}}}function k1(){return new Date().toISOString().substring(0,10)}function rR(n,e=eR){const t=[];let r=n.slice();for(const s of n){const o=t.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),T1(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),T1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class iR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $M()?qM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await ZO(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return E1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return E1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function T1(n){return Px(JSON.stringify({version:2,heartbeats:n})).length}function sR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function aR(n){Xo(new ga("platform-logger",e=>new yO(e),"PRIVATE")),Xo(new ga("heartbeat",e=>new nR(e),"PRIVATE")),ca(am,S1,n),ca(am,S1,"esm2020"),ca("fire-js","")}aR("");function Xx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oR=Xx,Qx=new ml("auth","Firebase",Xx());const Su=new qx("@firebase/auth");function lR(n,...e){Su.logLevel<=Ve.WARN&&Su.warn(`Auth (${yl}): ${n}`,...e)}function ou(n,...e){Su.logLevel<=Ve.ERROR&&Su.error(`Auth (${yl}): ${n}`,...e)}function Rn(n,...e){throw Zm(n,...e)}function $n(n,...e){return Zm(n,...e)}function Zx(n,e,t){const r={...oR(),[e]:t};return new ml("auth","Firebase",r).create(e,{appName:n.name})}function gi(n){return Zx(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Qx.create(n,...e)}function fe(n,e,...t){if(!n)throw Zm(e,...t)}function gr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ou(e),new Error(e)}function Tr(n,e){n||gr(e)}function cm(){return typeof self<"u"&&self.location?.href||""}function cR(){return C1()==="http:"||C1()==="https:"}function C1(){return typeof self<"u"&&self.location?.protocol||null}function uR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cR()||PM()||"connection"in navigator)?navigator.onLine:!0}function fR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class bl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Tr(t>e,"Short delay should be less than long delay!"),this.isMobile=jM()||HM()}get(){return uR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function eg(n,e){Tr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class eE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const hR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pR=new bl(3e4,6e4);function ps(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function wi(n,e,t,r,s={}){return tE(n,s,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const u=gl({key:n.config.apiKey,...c}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const h={method:e,headers:d,...o};return UM()||(h.referrerPolicy="no-referrer"),n.emulatorConfig&&vf(n.emulatorConfig.host)&&(h.credentials="include"),eE.fetch()(await nE(n,n.config.apiHost,t,u),h)})}async function tE(n,e,t){n._canInitEmulator=!1;const r={...dR,...e};try{const s=new gR(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Gc(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const u=o.ok?c.errorMessage:c.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gc(n,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw Gc(n,"email-already-in-use",c);if(d==="USER_DISABLED")throw Gc(n,"user-disabled",c);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Zx(n,m,h);Rn(n,m)}}catch(s){if(s instanceof Ci)throw s;Rn(n,"network-request-failed",{message:String(s)})}}async function Sf(n,e,t,r,s={}){const o=await wi(n,e,t,r,s);return"mfaPendingCredential"in o&&Rn(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function nE(n,e,t,r){const s=`${e}${t}?${r}`,o=n,c=o.config.emulator?eg(n.config,s):`${n.config.apiScheme}://${s}`;return hR.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function mR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r($n(this.auth,"network-request-failed")),pR.get())})}}function Gc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=$n(n,e,r);return s.customData._tokenResponse=t,s}function w1(n){return n!==void 0&&n.enterprise!==void 0}class yR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return mR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function bR(n,e){return wi(n,"GET","/v2/recaptchaConfig",ps(n,e))}async function vR(n,e){return wi(n,"POST","/v1/accounts:delete",e)}async function xu(n,e){return wi(n,"POST","/v1/accounts:lookup",e)}function Uo(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SR(n,e=!1){const t=Cr(n),r=await t.getIdToken(e),s=tg(r);fe(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,c=o?.sign_in_provider;return{claims:s,token:r,authTime:Uo(Sp(s.auth_time)),issuedAtTime:Uo(Sp(s.iat)),expirationTime:Uo(Sp(s.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Sp(n){return Number(n)*1e3}function tg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return ou("JWT malformed, contained fewer than 3 sections"),null;try{const s=Hx(t);return s?JSON.parse(s):(ou("Failed to decode base64 JWT payload"),null)}catch(s){return ou("Caught error parsing JWT payload as JSON",s?.toString()),null}}function A1(n){const e=tg(n);return fe(e,"internal-error"),fe(typeof e.exp<"u","internal-error"),fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Zo(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ci&&xR(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function xR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class ER{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class um{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uo(this.lastLoginAt),this.creationTime=Uo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Eu(n){const e=n.auth,t=await n.getIdToken(),r=await Zo(n,xu(e,{idToken:t}));fe(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=s.providerUserInfo?.length?rE(s.providerUserInfo):[],c=TR(n.providerData,o),u=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!c?.length,h=u?d:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new um(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(n,m)}async function kR(n){const e=Cr(n);await Eu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TR(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function rE(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function CR(n,e){const t=await tE(n,{},async()=>{const r=gl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,c=await nE(n,s,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return n.emulatorConfig&&vf(n.emulatorConfig.host)&&(d.credentials="include"),eE.fetch()(c,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function wR(n,e){return wi(n,"POST","/v2/accounts:revokeToken",ps(n,e))}class ua{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fe(e.idToken,"internal-error"),fe(typeof e.idToken<"u","internal-error"),fe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):A1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){fe(e.length!==0,"internal-error");const t=A1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await CR(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,c=new ua;return r&&(fe(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),s&&(fe(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),o&&(fe(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ua,this.toJSON())}_performRefresh(){return gr("not implemented")}}function Qr(n,e){fe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class An{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new ER(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new um(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Zo(this,this.stsTokenManager.getToken(this.auth,e));return fe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return SR(this,e)}reload(){return kR(this)}_assign(e){this!==e&&(fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new An({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Eu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(gi(this.auth));const e=await this.getIdToken();return await Zo(this,vR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,o=t.phoneNumber??void 0,c=t.photoURL??void 0,u=t.tenantId??void 0,d=t._redirectEventId??void 0,h=t.createdAt??void 0,m=t.lastLoginAt??void 0,{uid:y,emailVerified:b,isAnonymous:v,providerData:x,stsTokenManager:T}=t;fe(y&&T,e,"internal-error");const C=ua.fromJSON(this.name,T);fe(typeof y=="string",e,"internal-error"),Qr(r,e.name),Qr(s,e.name),fe(typeof b=="boolean",e,"internal-error"),fe(typeof v=="boolean",e,"internal-error"),Qr(o,e.name),Qr(c,e.name),Qr(u,e.name),Qr(d,e.name),Qr(h,e.name),Qr(m,e.name);const w=new An({uid:y,auth:e,email:s,emailVerified:b,displayName:r,isAnonymous:v,photoURL:c,phoneNumber:o,tenantId:u,stsTokenManager:C,createdAt:h,lastLoginAt:m});return x&&Array.isArray(x)&&(w.providerData=x.map(I=>({...I}))),d&&(w._redirectEventId=d),w}static async _fromIdTokenResponse(e,t,r=!1){const s=new ua;s.updateFromServerResponse(t);const o=new An({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Eu(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];fe(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?rE(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!o?.length,u=new ua;u.updateFromIdToken(r);const d=new An({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:c}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new um(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(d,h),d}}const N1=new Map;function yr(n){Tr(n instanceof Function,"Expected a class definition");let e=N1.get(n);return e?(Tr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,N1.set(n,e),e)}class iE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}iE.type="NONE";const M1=iE;function lu(n,e,t){return`firebase:${n}:${e}:${t}`}class fa{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=lu(this.userKey,s.apiKey,o),this.fullPersistenceKey=lu("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await xu(this.auth,{idToken:e}).catch(()=>{});return t?An._fromGetAccountInfoResponse(this.auth,t,e):null}return An._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new fa(yr(M1),e,r);const s=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=s[0]||yr(M1);const c=lu(r,e.config.apiKey,e.name);let u=null;for(const h of t)try{const m=await h._get(c);if(m){let y;if(typeof m=="string"){const b=await xu(e,{idToken:m}).catch(()=>{});if(!b)break;y=await An._fromGetAccountInfoResponse(e,b,m)}else y=An._fromJSON(e,m);h!==o&&(u=y),o=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new fa(o,e,r):(o=d[0],u&&await o._set(c,u.toJSON()),await Promise.all(t.map(async h=>{if(h!==o)try{await h._remove(c)}catch{}})),new fa(o,e,r))}}function O1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uE(e))return"Blackberry";if(fE(e))return"Webos";if(aE(e))return"Safari";if((e.includes("chrome/")||oE(e))&&!e.includes("edge/"))return"Chrome";if(cE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function sE(n=It()){return/firefox\//i.test(n)}function aE(n=It()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oE(n=It()){return/crios\//i.test(n)}function lE(n=It()){return/iemobile/i.test(n)}function cE(n=It()){return/android/i.test(n)}function uE(n=It()){return/blackberry/i.test(n)}function fE(n=It()){return/webos/i.test(n)}function ng(n=It()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function AR(n=It()){return ng(n)&&!!window.navigator?.standalone}function NR(){return VM()&&document.documentMode===10}function dE(n=It()){return ng(n)||cE(n)||fE(n)||uE(n)||/windows phone/i.test(n)||lE(n)}function hE(n,e=[]){let t;switch(n){case"Browser":t=O1(It());break;case"Worker":t=`${O1(It())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${yl}/${r}`}class MR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((c,u)=>{try{const d=e(o);c(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function OR(n,e={}){return wi(n,"GET","/v2/passwordPolicy",ps(n,e))}const RR=6;class DR{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??RR,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class _R{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new R1(this),this.idTokenSubscription=new R1(this),this.beforeStateQueue=new MR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=yr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await xu(this,{idToken:e}),r=await An._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Vn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Eu(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(gi(this));const t=e?Cr(e):null;return t&&fe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await OR(this),t=new DR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ml("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await wR(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&yr(e)||this._popupRedirectResolver;fe(t,this,"argument-error"),this.redirectPersistenceManager=await fa.create(this,[yr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(u,this,"internal-error"),u.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,s);return()=>{c=!0,d()}}else{const d=e.addObserver(t);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&lR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Na(n){return Cr(n)}class R1{constructor(e){this.auth=e,this.observer=null,this.addObserver=WM(t=>this.observer=t)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let xf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IR(n){xf=n}function pE(n){return xf.loadJS(n)}function LR(){return xf.recaptchaEnterpriseScript}function zR(){return xf.gapiScript}function BR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class jR{constructor(){this.enterprise=new UR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class UR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const PR="recaptcha-enterprise",mE="NO_RECAPTCHA";class HR{constructor(e){this.type=PR,this.auth=Na(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,u)=>{bR(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new yR(d);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,c(h.siteKey)}}).catch(d=>{u(d)})})}function s(o,c,u){const d=window.grecaptcha;w1(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(h=>{c(h)}).catch(()=>{c(mE)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jR().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(u=>{if(!t&&w1(window.grecaptcha))s(u,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=LR();d.length!==0&&(d+=u),pE(d).then(()=>{s(u,o,c)}).catch(h=>{c(h)})}}).catch(u=>{c(u)})})}}async function D1(n,e,t,r=!1,s=!1){const o=new HR(n);let c;if(s)c=mE;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:c}):Object.assign(u,{captchaResponse:c}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function _1(n,e,t,r,s){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await D1(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await D1(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(o)})}function VR(n,e){const t=Gx(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(ma(o,e??{}))return s;Rn(s,"already-initialized")}return t.initialize({options:e})}function $R(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(yr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function qR(n,e,t){const r=Na(n);fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=gE(e),{host:c,port:u}=FR(e),d=u===null?"":`:${u}`,h={url:`${o}//${c}${d}/`},m=Object.freeze({host:c,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){fe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),fe(ma(h,r.config.emulator)&&ma(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,vf(c)?(IM(`${o}//${c}${d}`),BM("Auth",!0)):KR()}function gE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function FR(n){const e=gE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:I1(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:I1(c)}}}function I1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function KR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class rg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return gr("not implemented")}_getIdTokenResponse(e){return gr("not implemented")}_linkToIdToken(e,t){return gr("not implemented")}_getReauthenticationResolver(e){return gr("not implemented")}}async function GR(n,e){return wi(n,"POST","/v1/accounts:signUp",e)}async function YR(n,e){return Sf(n,"POST","/v1/accounts:signInWithPassword",ps(n,e))}async function WR(n,e){return Sf(n,"POST","/v1/accounts:signInWithEmailLink",ps(n,e))}async function JR(n,e){return Sf(n,"POST","/v1/accounts:signInWithEmailLink",ps(n,e))}class el extends rg{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new el(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new el(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _1(e,t,"signInWithPassword",YR);case"emailLink":return WR(e,{email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _1(e,r,"signUpPassword",GR);case"emailLink":return JR(e,{idToken:t,email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function da(n,e){return Sf(n,"POST","/v1/accounts:signInWithIdp",ps(n,e))}const XR="http://localhost";class ls extends rg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ls(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Rn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=t;if(!r||!s)return null;const c=new ls(r,s);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return da(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,da(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,da(e,t)}buildRequest(){const e={requestUri:XR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=gl(t)}return e}}function QR(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZR(n){const e=Do(_o(n)).link,t=e?Do(_o(e)).deep_link_id:null,r=Do(_o(n)).deep_link_id;return(r?Do(_o(r)).link:null)||r||t||e||n}class ig{constructor(e){const t=Do(_o(e)),r=t.apiKey??null,s=t.oobCode??null,o=QR(t.mode??null);fe(r&&s&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=ZR(e);try{return new ig(t)}catch{return null}}}class Ma{constructor(){this.providerId=Ma.PROVIDER_ID}static credential(e,t){return el._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ig.parseLink(t);return fe(r,"argument-error"),el._fromEmailAndCode(e,r.code,r.tenantId)}}Ma.PROVIDER_ID="password";Ma.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ma.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class yE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class vl extends yE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class si extends vl{constructor(){super("facebook.com")}static credential(e){return ls._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return si.credential(e.oauthAccessToken)}catch{return null}}}si.FACEBOOK_SIGN_IN_METHOD="facebook.com";si.PROVIDER_ID="facebook.com";class ai extends vl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ls._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ai.credential(t,r)}catch{return null}}}ai.GOOGLE_SIGN_IN_METHOD="google.com";ai.PROVIDER_ID="google.com";class oi extends vl{constructor(){super("github.com")}static credential(e){return ls._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.GITHUB_SIGN_IN_METHOD="github.com";oi.PROVIDER_ID="github.com";class li extends vl{constructor(){super("twitter.com")}static credential(e,t){return ls._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return li.credential(t,r)}catch{return null}}}li.TWITTER_SIGN_IN_METHOD="twitter.com";li.PROVIDER_ID="twitter.com";class ya{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await An._fromIdTokenResponse(e,r,s),c=L1(r);return new ya({user:o,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=L1(r);return new ya({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function L1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class ku extends Ci{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ku.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new ku(e,t,r,s)}}function bE(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ku._fromErrorAndOperation(n,o,e,r):o})}async function eD(n,e,t=!1){const r=await Zo(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ya._forOperation(n,"link",r)}async function tD(n,e,t=!1){const{auth:r}=n;if(Vn(r.app))return Promise.reject(gi(r));const s="reauthenticate";try{const o=await Zo(n,bE(r,s,e,n),t);fe(o.idToken,r,"internal-error");const c=tg(o.idToken);fe(c,r,"internal-error");const{sub:u}=c;return fe(n.uid===u,r,"user-mismatch"),ya._forOperation(n,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&Rn(r,"user-mismatch"),o}}async function vE(n,e,t=!1){if(Vn(n.app))return Promise.reject(gi(n));const r="signIn",s=await bE(n,r,e),o=await ya._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}async function nD(n,e){return vE(Na(n),e)}async function rD(n){const e=Na(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function iD(n,e,t){return Vn(n.app)?Promise.reject(gi(n)):nD(Cr(n),Ma.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&rD(n),r})}function sD(n,e,t,r){return Cr(n).onIdTokenChanged(e,t,r)}function aD(n,e,t){return Cr(n).beforeAuthStateChanged(e,t)}function oD(n,e,t,r){return Cr(n).onAuthStateChanged(e,t,r)}function lD(n){return Cr(n).signOut()}const Tu="__sak";class SE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Tu,"1"),this.storage.removeItem(Tu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const cD=1e3,uD=10;class xE extends SE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,u,d)=>{this.notifyListeners(c,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);NR()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,uD):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},cD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}xE.type="LOCAL";const fD=xE;class EE extends SE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}EE.type="SESSION";const kE=EE;function dD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Ef{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Ef(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,c=this.handlersMap[s];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(c).map(async h=>h(t.origin,o)),d=await dD(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ef.receivers=[];function sg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class hD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,c;return new Promise((u,d)=>{const h=sg("",20);s.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);c={messageChannel:s,onMessage(y){const b=y;if(b.data.eventId===h)switch(b.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(b.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function qn(){return window}function pD(n){qn().location.href=n}function TE(){return typeof qn().WorkerGlobalScope<"u"&&typeof qn().importScripts=="function"}async function mD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gD(){return navigator?.serviceWorker?.controller||null}function yD(){return TE()?self:null}const CE="firebaseLocalStorageDb",bD=1,Cu="firebaseLocalStorage",wE="fbase_key";class Sl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function kf(n,e){return n.transaction([Cu],e?"readwrite":"readonly").objectStore(Cu)}function vD(){const n=indexedDB.deleteDatabase(CE);return new Sl(n).toPromise()}function fm(){const n=indexedDB.open(CE,bD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Cu,{keyPath:wE})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Cu)?e(r):(r.close(),await vD(),e(await fm()))})})}async function z1(n,e,t){const r=kf(n,!0).put({[wE]:e,value:t});return new Sl(r).toPromise()}async function SD(n,e){const t=kf(n,!1).get(e),r=await new Sl(t).toPromise();return r===void 0?null:r.value}function B1(n,e){const t=kf(n,!0).delete(e);return new Sl(t).toPromise()}const xD=800,ED=3;class AE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>ED)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ef._getInstance(yD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await mD(),!this.activeServiceWorker)return;this.sender=new hD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fm();return await z1(e,Tu,"1"),await B1(e,Tu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>z1(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>SD(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>B1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=kf(s,!1).getAll();return new Sl(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AE.type="LOCAL";const kD=AE;new bl(3e4,6e4);function TD(n,e){return e?yr(e):(fe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class ag extends rg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return da(e,this._buildIdpRequest())}_linkToIdToken(e,t){return da(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return da(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function CD(n){return vE(n.auth,new ag(n),n.bypassAuthState)}function wD(n){const{auth:e,user:t}=n;return fe(t,e,"internal-error"),tD(t,new ag(n),n.bypassAuthState)}async function AD(n){const{auth:e,user:t}=n;return fe(t,e,"internal-error"),eD(t,new ag(n),n.bypassAuthState)}class NE{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:c,type:u}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CD;case"linkViaPopup":case"linkViaRedirect":return AD;case"reauthViaPopup":case"reauthViaRedirect":return wD;default:Rn(this.auth,"internal-error")}}resolve(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ND=new bl(2e3,1e4);class oa extends NE{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,oa.currentPopupAction&&oa.currentPopupAction.cancel(),oa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return fe(e,this.auth,"internal-error"),e}async onExecution(){Tr(this.filter.length===1,"Popup operations only handle one event");const e=sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject($n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject($n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ND.get())};e()}}oa.currentPopupAction=null;const MD="pendingRedirect",cu=new Map;class OD extends NE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=cu.get(this.auth._key());if(!e){try{const r=await RD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}cu.set(this.auth._key(),e)}return this.bypassAuthState||cu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RD(n,e){const t=ID(e),r=_D(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function DD(n,e){cu.set(n._key(),e)}function _D(n){return yr(n._redirectPersistence)}function ID(n){return lu(MD,n.config.apiKey,n.name)}async function LD(n,e,t=!1){if(Vn(n.app))return Promise.reject(gi(n));const r=Na(n),s=TD(r,e),c=await new OD(r,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const zD=600*1e3;class BD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!ME(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError($n(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zD&&this.cachedEventUids.clear(),this.cachedEventUids.has(j1(e))}saveEventToCache(e){this.cachedEventUids.add(j1(e)),this.lastProcessedEventTime=Date.now()}}function j1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ME({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function jD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ME(n);default:return!1}}async function UD(n,e={}){return wi(n,"GET","/v1/projects",e)}const PD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HD=/^https?/;async function VD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await UD(n);for(const t of e)try{if($D(t))return}catch{}Rn(n,"unauthorized-domain")}function $D(n){const e=cm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!HD.test(t))return!1;if(PD.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const qD=new bl(3e4,6e4);function U1(){const n=qn().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function FD(n){return new Promise((e,t)=>{function r(){U1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{U1(),t($n(n,"network-request-failed"))},timeout:qD.get()})}if(qn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qn().gapi?.load)r();else{const s=BR("iframefcb");return qn()[s]=()=>{gapi.load?r():t($n(n,"network-request-failed"))},pE(`${zR()}?onload=${s}`).catch(o=>t(o))}}).catch(e=>{throw uu=null,e})}let uu=null;function KD(n){return uu=uu||FD(n),uu}const GD=new bl(5e3,15e3),YD="__/auth/iframe",WD="emulator/auth/iframe",JD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QD(n){const e=n.config;fe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?eg(e,WD):`https://${n.config.authDomain}/${YD}`,r={apiKey:e.apiKey,appName:n.name,v:yl},s=XD.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${gl(r).slice(1)}`}async function ZD(n){const e=await KD(n),t=qn().gapi;return fe(t,n,"internal-error"),e.open({where:document.body,url:QD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JD,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const c=$n(n,"network-request-failed"),u=qn().setTimeout(()=>{o(c)},GD.get());function d(){qn().clearTimeout(u),s(r)}r.ping(d).then(d,()=>{o(c)})}))}const e2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},t2=500,n2=600,r2="_blank",i2="http://localhost";class P1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function s2(n,e,t,r=t2,s=n2){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d={...e2,width:r.toString(),height:s.toString(),top:o,left:c},h=It().toLowerCase();t&&(u=oE(h)?r2:t),sE(h)&&(e=e||i2,d.scrollbars="yes");const m=Object.entries(d).reduce((b,[v,x])=>`${b}${v}=${x},`,"");if(AR(h)&&u!=="_self")return a2(e||"",u),new P1(null);const y=window.open(e||"",u,m);fe(y,n,"popup-blocked");try{y.focus()}catch{}return new P1(y)}function a2(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const o2="__/auth/handler",l2="emulator/auth/handler",c2=encodeURIComponent("fac");async function H1(n,e,t,r,s,o){fe(n.config.authDomain,n,"auth-domain-config-required"),fe(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:yl,eventId:s};if(e instanceof yE){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",YM(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))c[m]=y}if(e instanceof vl){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(c.scopes=m.join(","))}n.tenantId&&(c.tid=n.tenantId);const u=c;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await n._getAppCheckToken(),h=d?`#${c2}=${encodeURIComponent(d)}`:"";return`${u2(n)}?${gl(u).slice(1)}${h}`}function u2({config:n}){return n.emulator?eg(n,l2):`https://${n.authDomain}/${o2}`}const xp="webStorageSupport";class f2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kE,this._completeRedirectFn=LD,this._overrideRedirectResult=DD}async _openPopup(e,t,r,s){Tr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await H1(e,t,r,cm(),s);return s2(e,o,sg())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await H1(e,t,r,cm(),s);return pD(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(Tr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await ZD(e),r=new BD(e);return t.register("authEvent",s=>(fe(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xp,{type:xp},s=>{const o=s?.[0]?.[xp];o!==void 0&&t(!!o),Rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=VD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return dE()||aE()||ng()}}const d2=f2;var V1="@firebase/auth",$1="1.11.1";class h2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function p2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function m2(n){Xo(new ga("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:u}=r.options;fe(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:c,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hE(n)},h=new _R(r,s,o,d);return $R(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Xo(new ga("auth-internal",e=>{const t=Na(e.getProvider("auth").getImmediate());return(r=>new h2(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ca(V1,$1,p2(n)),ca(V1,$1,"esm2020")}const g2=300,y2=$x("authIdTokenMaxAge")||g2;let q1=null;const b2=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>y2)return;const s=t?.token;q1!==s&&(q1=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function v2(n=JO()){const e=Gx(n,"auth");if(e.isInitialized())return e.getImmediate();const t=VR(n,{popupRedirectResolver:d2,persistence:[kD,fD,kE]}),r=$x("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=b2(o.toString());aD(t,c,()=>c(t.currentUser)),sD(t,u=>c(u))}}const s=DM("auth");return s&&qR(t,`http://${s}`),t}function S2(){return document.getElementsByTagName("head")?.[0]??document}IR({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=$n("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",S2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});m2("Browser");var x2="firebase",E2="12.6.0";ca(x2,E2,"app");const k2={apiKey:"AIzaSyBcNo1_iMGI4AGz-22Fng6abo00ZBAx35w",authDomain:"ld-calendar-e55df.firebaseapp.com",projectId:"ld-calendar-e55df"},T2=Yx(k2),Tf=v2(T2),OE=O.createContext(void 0);function C2({children:n}){const[e,t]=O.useState(null),[r,s]=O.useState(!0),[o,c]=O.useState(!1);return O.useEffect(()=>oD(Tf,async d=>{if(t(d),d)try{const m=(await d.getIdTokenResult()).claims;c(m.admin===!0)}catch(h){console.error("Failed to get token claims",h),c(!1)}else c(!1);s(!1)}),[]),E.jsx(OE.Provider,{value:{user:e,loading:r,isAdmin:o},children:n})}function Cf(){const n=O.useContext(OE);if(!n)throw new Error("useAuth must be used within AuthProvider");return n}function w2({children:n}){const{isAdmin:e,user:t}=Cf(),r=async()=>{await lD(Tf)};return E.jsxs("div",{className:"min-h-screen bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-50 transition-colors duration-200",children:[E.jsx("header",{className:"fixed top-0 z-50 w-full border-b border-slate-200 bg-white/80 backdrop-blur-md dark:border-slate-800 dark:bg-slate-900/80",children:E.jsxs("div",{className:"mx-auto flex h-16 max-w-5xl items-center justify-between px-4 sm:px-6 lg:px-8",children:[E.jsxs(On,{to:"/",className:"text-lg font-bold tracking-tight text-slate-900 dark:text-white",children:["LUCKY DRAW ",E.jsx("span",{className:"text-teal-500",children:"CALENDAR"})]}),E.jsxs("nav",{className:"flex items-center gap-6 text-sm font-medium text-slate-500 dark:text-slate-400",children:[E.jsx(Ro,{to:"/",className:({isActive:s})=>s?"text-teal-600 dark:text-teal-400":"hover:text-slate-900 dark:hover:text-slate-200 transition-colors",children:""}),E.jsx(Ro,{to:"/notices",className:({isActive:s})=>s?"text-teal-600 dark:text-teal-400":"hover:text-slate-900 dark:hover:text-slate-200 transition-colors",children:""}),E.jsx(Ro,{to:"https://ld-calendar.github.io/luckydrawsample/",target:"_blank",className:({isActive:s})=>s?"text-teal-600 dark:text-teal-400":"hover:text-slate-900 dark:hover:text-slate-200 transition-colors",children:" "}),e&&E.jsxs(E.Fragment,{children:[E.jsx(Ro,{to:"/admin",className:({isActive:s})=>s?"text-teal-600 dark:text-teal-400":"hover:text-slate-900 dark:hover:text-slate-200 transition-colors",children:""}),E.jsxs("div",{className:"hidden flex-col text-xs text-slate-400 sm:flex",children:[E.jsx("span",{className:"truncate max-w-[160px]",children:t?.email}),E.jsx("span",{className:"font-semibold text-teal-500",children:" "})]}),E.jsx("button",{onClick:r,className:"rounded-full border border-slate-300 px-3 py-1 text-xs text-slate-500 hover:border-teal-500 hover:text-teal-600 dark:border-slate-700 dark:hover:border-teal-400",children:""})]})]})]})}),E.jsx("main",{className:"mx-auto max-w-5xl px-4 py-24 sm:px-6 lg:px-8",children:n})]})}const A2="https://script.google.com/macros/s/AKfycbwpaO_AGrRy8WOKR-XhhAUsaI4X5qPwGHPRZLIDjJn8HGDt6P7E0xyu-fCo9AJYdI_7/exec";function ms(n){const e=new URL(A2);return e.searchParams.set("sheet",n),e.toString()}function N2(n,e){if(!n||!e)return NaN;const t=new Date(n),s=new Date(e).getTime()-t.getTime();return Math.round(s/(1e3*60*60*24))}function M2(n){return Number.isFinite(n)?n<=3?"RUSH":n<=10?"FAST":"NORMAL":"NORMAL"}function O2(n,e=5e4){switch(n){case"RUSH":return{finalPrice:e+5e4,extraPrice:5e4};case"FAST":return{finalPrice:e+2e4,extraPrice:2e4};case"NORMAL":case"PENDING":default:return{finalPrice:e,extraPrice:0}}}function RE(n,e,t=5e4){const r=N2(n,e),s=M2(r),{finalPrice:o,extraPrice:c}=O2(s,t);return{diffDays:r,priceTier:s,finalPrice:o,extraPrice:c}}const F1=5;function tl(n){const e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),r=String(n.getDate()).padStart(2,"0");return`${e}-${t}-${r}`}function R2(n){const[e,t,r]=n.split("-").map(Number);return new Date(e,t-1,r)}function wu(n){const e=new Date(n);e.setHours(0,0,0,0);const t=e.getDay();return e.setDate(e.getDate()-t),e}function og(n){const e=R2(n);return tl(wu(e))}function D2(n){const e=n.getFullYear(),t=n.getMonth(),r=new Date(e,t,1),s=wu(r),o=new Date(e,t+1,0),c=wu(o),u=new Date(c);u.setDate(u.getDate()+6);const d=[],h=new Date(s);for(;h<=u;){const m=tl(h),y=og(m);d.push({date:m,inCurrentMonth:h.getMonth()===t,weekStart:y}),h.setDate(h.getDate()+1)}return d}function DE(n){const e={};for(const t of n){if(!t.reviewDate)continue;const r=og(t.reviewDate);e[r]||(e[r]={weekStart:r,capacity:F1,booked:0,remaining:F1,isClosed:!1}),e[r].booked+=1}return Object.values(e).forEach(t=>{t.remaining=Math.max(0,t.capacity-t.booked),t.isClosed=t.remaining===0}),e}function _2(n,e){return n.filter(t=>t.reviewDate===e).length}function I2(){const n=new Date;n.setHours(0,0,0,0);const e=wu(n),t=new Date(e);return t.setDate(e.getDate()+7),{thisWeekStart:tl(e),nextWeekStart:tl(t)}}async function xl(){const n=Tf.currentUser;if(!n)throw new Error(" .");return await n.getIdToken()}async function _E(n){try{const e=await fetch(n);return e.ok?{ok:!0,data:await e.json()}:{ok:!1,error:`HTTP ${e.status}`}}catch(e){return{ok:!1,error:e?.message??"Unknown error"}}}function No(n,e=0){if(typeof n=="number")return n;if(typeof n=="string"&&n.trim()!==""){const t=Number(n);if(!Number.isNaN(t))return t}return e}function K1(n,e=!1){if(typeof n=="boolean")return n;if(typeof n=="string"){const t=n.toLowerCase().trim();if(t==="true")return!0;if(t==="false")return!1}return e}function G1(n){if(!n)return"";if(typeof n=="string")return n.slice(0,10);const e=new Date(n);return Number.isNaN(e.getTime())?"":e.toISOString().slice(0,10)}const L2=180*1e3;let fu=null,dm=0,du=null,hm=0;function IE(n){return n?Date.now()-n<L2:!1}function LE(){fu=null,dm=0}function lg(){du=null,hm=0}function z2(n,e){const t=G1(n.materialReceivedDate),r=G1(n.reviewDate);if(!n.clientName||!r)return null;const s=n.id||`row-${e}`,o=No(n.basePrice,5e4),c=t&&r?RE(t,r,o):null,u=n.diffDays!==void 0?No(n.diffDays,c?.diffDays??0):c?.diffDays??"",d=n.priceTier??(c?c.priceTier:"PENDING"),h=n.finalPrice!==void 0?No(n.finalPrice,c?.finalPrice??o):c?.finalPrice??o,m=n.extraPrice!==void 0?No(n.extraPrice,c?.extraPrice??0):c?.extraPrice??0,y=og(r),b=No(n.slotIndex,0),v=n.status??"PAID";return{id:s,clientName:n.clientName,depositorName:n.depositorName??"",status:v,materialReceivedDate:t,reviewDate:r,weekStart:y,slotIndex:b,basePrice:o,priceTier:d,finalPrice:h,diffDays:u,extraPrice:m,memo:n.memo,createdAt:n.createdAt}}function B2(n,e){return!n.title||!n.body?null:{id:n.id||`notice-${e}`,title:n.title,body:n.body,isPinned:K1(n.isPinned,!1),isActive:K1(n.isActive,!0),createdAt:n.createdAt||"",updatedAt:n.updatedAt}}async function cg(){if(fu&&IE(dm))return{ok:!0,data:fu};const n=ms("commission"),e=await _E(n);if(!e.ok)return e;const t=e.data.map(z2).filter(r=>r!==null);return fu=t,dm=Date.now(),{ok:!0,data:t}}async function wf(){if(du&&IE(hm))return{ok:!0,data:du};const n=ms("notices"),e=await _E(n);if(!e.ok)return e;const t=e.data.map(B2).filter(r=>r!==null).sort((r,s)=>r.createdAt>s.createdAt?-1:1);return du=t,hm=Date.now(),{ok:!0,data:t}}function El(n){const e=new URLSearchParams;for(const[t,r]of Object.entries(n))r!=null&&e.append(t,String(r));return e}function kl(n){return n.error&&n.message?`${n.error}: ${n.message}`:n.error||n.message||"Unknown error"}async function j2(n){const e=ms("commission");try{const t=await xl(),r=El({mode:"create",idToken:t,...n}),s=await fetch(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:r});if(!s.ok)return{ok:!1,error:`HTTP ${s.status}`};const o=await s.json();return o.ok&&o.id?(LE(),{ok:!0,data:{id:o.id}}):{ok:!1,error:kl(o)}}catch(t){return{ok:!1,error:t?.message??"Network error"}}}async function U2(n){const e=ms("notices");try{const t=await xl(),r=El({mode:"create",idToken:t,...n}),s=await fetch(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:r});if(!s.ok)return{ok:!1,error:`HTTP ${s.status}`};const o=await s.json();return o.ok&&o.id?(lg(),{ok:!0,data:{id:o.id}}):{ok:!1,error:kl(o)}}catch(t){return{ok:!1,error:t?.message??"Network error"}}}async function P2(n,e){const t=ms("commission");try{const r=await xl(),s=El({mode:"update",id:n,idToken:r,...e}),o=await fetch(t,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:s});if(!o.ok)return{ok:!1,error:`HTTP ${o.status}`};const c=await o.json();return c.ok&&c.id?(LE(),{ok:!0,data:{id:c.id}}):{ok:!1,error:kl(c)}}catch(r){return{ok:!1,error:r?.message??"Network error"}}}async function H2(n,e){const t=ms("notices");try{const r=await xl(),s=El({mode:"update",id:n,idToken:r,...e}),o=await fetch(t,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:s});if(!o.ok)return{ok:!1,error:`HTTP ${o.status}`};const c=await o.json();return c.ok&&c.id?(lg(),{ok:!0,data:{id:c.id}}):{ok:!1,error:kl(c)}}catch(r){return{ok:!1,error:r?.message??"Network error"}}}async function V2(n){const e=ms("notices");try{const t=await xl(),r=El({mode:"delete",id:n,idToken:t}),s=await fetch(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:r});if(!s.ok)return{ok:!1,error:`HTTP ${s.status}`};const o=await s.json();return o.ok&&o.id?(lg(),{ok:!0,data:{id:o.id}}):{ok:!1,error:kl(o)}}catch(t){return{ok:!1,error:t?.message??"Network error"}}}function Y1(n){if(typeof n=="boolean")return n;if(typeof n=="string"){const e=n.trim().toLowerCase();if(e==="true"||e==="1"||e==="y"||e==="yes")return!0;if(e==="false"||e==="0"||e==="n"||e==="no")return!1}return typeof n=="number"?n!==0:!1}function $2(n){return{...n,isPinned:Y1(n.isPinned),isActive:Y1(n.isActive)}}function Af(n){return n.map($2)}function q2(){const[n,e]=O.useState(!0),[t,r]=O.useState(null),[s,o]=O.useState([]),[c,u]=O.useState([]),[d,h]=O.useState(()=>new Date),m=new Date,y=m.getFullYear(),b=m.getMonth();O.useEffect(()=>{async function Y(){e(!0),r(null);const[re,N]=await Promise.all([cg(),wf()]);if(!re.ok){r(`   : ${re.error}`),e(!1);return}if(!N.ok){r(`   : ${N.error}`),e(!1);return}o(re.data);const H=Af(N.data);u(H),e(!1)}Y()},[]);const v=Y=>{const re=new Date(y,b,1);return Y<re?re:Y},x=D2(d),T=DE(s),C=d.getFullYear(),w=d.getMonth()+1,I=Array.from({length:3},(Y,re)=>y+re),j=Array.from({length:12},(Y,re)=>re+1).filter(Y=>C===y?Y-1>=b:!0),F=C===y&&w-1===b,q=()=>{h(Y=>{const re=new Date(Y);return re.setMonth(re.getMonth()-1),v(re)})},W=()=>{h(Y=>{const re=new Date(Y);return re.setMonth(re.getMonth()+1),re})},P=Y=>{const re=Number(Y.target.value);h(N=>{const H=new Date(N);return H.setFullYear(re),v(H)})},ee=Y=>{const re=Number(Y.target.value)-1;h(N=>{const H=new Date(N);return H.setMonth(re),v(H)})},te=x.filter(Y=>Y.inCurrentMonth),de=Array.from(new Set(te.map(Y=>Y.weekStart))).sort(),Oe=["1","2","3","4","5"],Q=5,Se=Y=>{const re=T[Y];return re||{weekStart:Y,capacity:Q,booked:0,remaining:Q,isClosed:!1}},_e=de.map((Y,re)=>({label:Oe[re]??`${re+1}`,summary:Se(Y)})),xe=tl(new Date),z=c.filter(Y=>Y.isPinned&&Y.isActive),J=c.filter(Y=>Y.isActive),ce=z.length>0?z.slice(0,2):J.slice(0,2);return E.jsxs("div",{className:"page-shell",children:[E.jsx("header",{className:"page-header",children:E.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[E.jsxs("div",{children:[E.jsxs("h1",{className:"page-title",children:["Commission ",E.jsx("span",{className:"text-teal-500",children:"Calendar"})]}),E.jsx("p",{className:"page-subtitle",children:"   ,       ."})]}),E.jsx("div",{className:"md:flex-shrink-0",children:E.jsx("a",{href:"https://open.kakao.com/o/skxgV2Th",target:"_blank",rel:"noreferrer",className:"inline-flex items-center rounded-full bg-slate-900 px-6 py-3 text-sm font-semibold text-white shadow-lg transition-transform hover:-translate-y-0.5 hover:bg-slate-800 dark:bg-teal-600 dark:hover:bg-teal-500",children:"  "})})]})}),E.jsxs("section",{className:"mt-8 space-y-3",children:[E.jsxs("div",{className:"mb-1 flex items-end justify-between",children:[E.jsx("h2",{className:"section-title",children:""}),E.jsx(On,{to:"/notices",className:"text-sm font-medium text-teal-600 hover:text-teal-700 dark:text-teal-400 dark:hover:text-teal-300",children:" "})]}),ce.length===0?E.jsx("div",{className:"list-empty",children:"  ."}):E.jsx("div",{className:"space-y-3",children:ce.map(Y=>E.jsx("article",{className:"list-card",children:E.jsxs(On,{to:`/notices/${encodeURIComponent(Y.id)}`,className:"list-card-link",children:[E.jsxs("div",{className:"list-left",children:[E.jsx("div",{className:"list-date",children:Y.createdAt.slice(0,10)}),E.jsx("p",{className:"list-title-strong",children:Y.title})]}),Y.isPinned&&E.jsx("div",{className:"list-right",children:E.jsx("span",{className:"badge-pin-dot"})})]})},Y.id))})]}),E.jsxs("div",{className:"mt-10 grid gap-8 lg:grid-cols-3",children:[E.jsxs("section",{className:"lg:col-span-2",children:[E.jsx("h2",{className:"mb-4 section-title",children:" "}),E.jsx("p",{className:"mb-3 text-sm text-rose-500 dark:text-rose-400",children:" ,            .       ."}),E.jsx("div",{className:"grid gap-4 sm:grid-cols-3",children:[{step:"01",title:" ",desc:"/     "},{step:"02",title:"   ",desc:"        "},{step:"03",title:"   ",desc:"     ( 1 )"}].map(Y=>E.jsxs("div",{className:"rounded-2xl bg-slate-100 p-5 dark:bg-slate-800/50",children:[E.jsxs("span",{className:"text-xs font-bold text-teal-600 dark:text-teal-400",children:["STEP ",Y.step]}),E.jsx("h3",{className:"mt-2 font-bold text-slate-900 dark:text-slate-100",children:Y.title}),E.jsx("p",{className:"mt-1 text-sm text-slate-600 dark:text-slate-400",children:Y.desc})]},Y.step))})]}),E.jsxs("section",{children:[E.jsx("h2",{className:"mb-4 section-title",children:" "}),E.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900",children:[E.jsxs("ul",{className:"space-y-4 text-sm",children:[E.jsxs("li",{className:"flex justify-between",children:[E.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:""}),E.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:"50,000"})]}),E.jsxs("li",{className:"flex justify-between",children:[E.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:"10  ()"}),E.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:"70,000"})]}),E.jsxs("li",{className:"flex justify-between",children:[E.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:"3  ()"}),E.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:"100,000"})]})]}),E.jsx("div",{className:"mt-4 border-t border-slate-100 pt-4 text-xs text-slate-400 dark:border-slate-800",children:"*     ."})]})]})]}),E.jsxs("section",{className:"mt-10",children:[E.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[E.jsx("h2",{className:"section-title",children:"  "}),E.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-white px-4 py-2 shadow-sm dark:bg-slate-800",children:[E.jsx("button",{onClick:q,disabled:F,className:"text-slate-500 hover:text-teal-600 disabled:cursor-not-allowed disabled:opacity-40 dark:text-slate-400 dark:hover:text-teal-400",children:""}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("select",{value:C,onChange:P,className:"rounded-md border border-slate-300 bg-white px-2 py-1 text-sm text-slate-900 focus:border-teal-500 focus:outline-none focus:ring-1 focus:ring-teal-500 dark:border-slate-600 dark:bg-slate-900 dark:text-white",children:I.map(Y=>E.jsxs("option",{value:Y,children:[Y,""]},Y))}),E.jsx("select",{value:w,onChange:ee,className:"rounded-md border border-slate-300 bg-white px-2 py-1 text-sm text-slate-900 focus:border-teal-500 focus:outline-none focus:ring-1 focus:ring-teal-500 dark:border-slate-600 dark:bg-slate-900 dark:text-white",children:j.map(Y=>E.jsxs("option",{value:Y,children:[Y.toString().padStart(2,"0"),""]},Y))})]}),E.jsx("button",{onClick:W,className:"text-slate-500 hover:text-teal-600 dark:text-slate-400 dark:hover:text-teal-400",children:""})]})]}),E.jsxs("div",{className:"min-h-[300px] rounded-3xl border border-slate-200 bg-slate-50 p-4 sm:p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900/50",children:[n&&E.jsxs("div",{className:"animate-pulse space-y-4",children:[E.jsx("div",{className:"h-[70px] rounded-2xl bg-slate-200"}),E.jsx("div",{className:"h-64 rounded-3xl bg-slate-200"})]}),t&&E.jsx("div",{className:"py-20 text-center text-red-500",children:t}),!n&&!t&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"mb-4 -mx-2 overflow-x-auto pb-1 sm:mx-0 sm:overflow-visible",children:E.jsx("div",{className:"flex gap-3 px-2 sm:grid sm:grid-cols-3 md:grid-cols-5 sm:px-0",children:_e.map(({label:Y,summary:re})=>E.jsxs("div",{className:`flex min-w-[130px] flex-col items-center justify-center rounded-xl border p-3 text-center text-xs sm:min-w-0 sm:text-sm transition-colors ${re.remaining===0?"border-red-200 bg-red-50 dark:border-red-900/30 dark:bg-red-900/10":"border-teal-200 bg-teal-50 dark:border-teal-900/30 dark:bg-teal-900/10"}`,children:[E.jsx("span",{className:"font-semibold text-slate-500 dark:text-slate-400",children:Y}),E.jsxs("span",{className:`mt-1 font-bold ${re.remaining===0?"text-red-600 dark:text-red-400":"text-teal-600 dark:text-teal-400"}`,children:[re.remaining,"  "]})]},re.weekStart))})}),E.jsx("div",{className:"-mx-2 overflow-x-auto sm:mx-0",children:E.jsxs("div",{className:"min-w-[560px] space-y-2 px-1 sm:min-w-0 sm:px-0",children:[E.jsxs("div",{className:"grid grid-cols-7 text-center text-[10px] font-semibold text-slate-400 sm:text-xs",children:[E.jsx("div",{children:"SUN"}),E.jsx("div",{children:"MON"}),E.jsx("div",{children:"TUE"}),E.jsx("div",{children:"WED"}),E.jsx("div",{children:"THU"}),E.jsx("div",{children:"FRI"}),E.jsx("div",{children:"SAT"})]}),E.jsx("div",{className:"grid grid-cols-7 gap-1.5 sm:gap-2",children:x.map(Y=>{const re=_2(s,Y.date),N=Se(Y.weekStart),H=Y.date===Y.weekStart,X=Y.date===xe;return E.jsxs("div",{className:["relative flex min-h-[64px] flex-col rounded-lg border p-1.5 text-[11px] sm:min-h-[80px] sm:rounded-xl sm:p-2 sm:text-sm transition-all",X?"border-teal-500 ring-2 ring-teal-500/20 bg-white dark:bg-slate-800":"border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-800/50",!Y.inCurrentMonth&&"opacity-30 grayscale"].filter(Boolean).join(" "),children:[E.jsx("div",{className:"flex justify-between",children:E.jsx("span",{className:X?"font-semibold text-teal-600 dark:text-teal-400":"font-medium text-slate-600 dark:text-slate-400",children:Number(Y.date.slice(-2))})}),H&&E.jsx("div",{className:"mt-1",children:E.jsx("span",{className:`inline-block rounded-md px-1 py-0.5 text-[9px] font-bold sm:text-[10px] ${N.isClosed?"bg-slate-100 text-slate-500 dark:bg-slate-700 dark:text-slate-400":"bg-teal-100 text-teal-700 dark:bg-teal-900/50 dark:text-teal-300"}`,children:N.isClosed?"":` ${N.remaining}`})}),E.jsx("div",{className:"mt-auto flex justify-end gap-1",children:Array.from({length:Math.min(re,5)}).map((ie,pe)=>E.jsx("div",{className:"h-3 w-3 rounded-full bg-teal-500"},pe))})]},Y.date)})})]})})]})]})]})]})}function F2(){const[n,e]=O.useState(!0),[t,r]=O.useState(null),[s,o]=O.useState([]);O.useEffect(()=>{async function d(){e(!0),r(null);const h=await wf();if(!h.ok){r(`   : ${h.error}`),e(!1);return}const m=Af(h.data);o(m),e(!1)}d()},[]);const c=s.filter(d=>d.isPinned&&d.isActive).sort((d,h)=>h.createdAt.localeCompare(d.createdAt)),u=s.filter(d=>!d.isPinned&&d.isActive).sort((d,h)=>h.createdAt.localeCompare(d.createdAt));return E.jsxs("div",{className:"page-shell",children:[E.jsxs("header",{className:"page-header",children:[E.jsx("h1",{className:"page-title",children:"Notice Board"}),E.jsx("p",{className:"page-subtitle",children:"      "})]}),n&&E.jsx("div",{className:"py-20 text-center text-slate-500",children:"  ..."}),t&&E.jsx("p",{className:"text-center text-red-500",children:t}),!n&&!t&&E.jsxs("div",{className:"mt-8 space-y-8",children:[c.length>0&&E.jsxs("section",{className:"space-y-3",children:[E.jsx("div",{className:"flex items-center gap-2 text-sm font-bold text-teal-600 dark:text-teal-400",children:" "}),E.jsx("div",{className:"space-y-3",children:c.map(d=>E.jsx("article",{className:"list-card",children:E.jsxs(On,{to:`/notices/${encodeURIComponent(d.id)}`,className:"list-card-link",children:[E.jsxs("div",{className:"list-left",children:[E.jsx("div",{className:"list-date",children:d.createdAt.slice(0,10)}),E.jsx("p",{className:"list-title-strong",children:d.title})]}),E.jsx("div",{className:"list-right",children:E.jsx("span",{className:"badge-pin-dot"})})]})},d.id))})]}),E.jsxs("section",{className:"space-y-3",children:[E.jsx("h2",{className:"text-sm font-bold text-slate-500 dark:text-slate-400",children:" "}),u.length===0?E.jsx("div",{className:"list-empty",children:"  ."}):E.jsx("div",{className:"space-y-3",children:u.map(d=>E.jsx("article",{className:"list-card",children:E.jsxs(On,{to:`/notices/${encodeURIComponent(d.id)}`,className:"list-card-link",children:[E.jsxs("div",{className:"list-left",children:[E.jsx("div",{className:"list-date",children:d.createdAt.slice(0,10)}),E.jsx("p",{className:"list-title",children:d.title})]}),E.jsx("div",{className:"list-right"})]})},d.id))})]})]})]})}function K2(){const[n,e]=O.useState(!0),[t,r]=O.useState(null),[s,o]=O.useState([]),[c,u]=O.useState(1),d=10,h=Ti();O.useEffect(()=>{async function Q(){e(!0),r(null);const Se=await cg();if(!Se.ok){r(Se.error),e(!1);return}o(Se.data),e(!1)}Q()},[]);const m=DE(s),{thisWeekStart:y,nextWeekStart:b}=I2(),v=5,x=Q=>{const Se=m[Q];return Se||{weekStart:Q,capacity:v,booked:0,remaining:v,isClosed:!1}},T=x(y),C=x(b),w=new Date;w.setHours(0,0,0,0);const I=w.toISOString().slice(0,10),j=s.filter(Q=>Q.reviewDate===I),F=[...s].sort((Q,Se)=>Q.reviewDate.localeCompare(Se.reviewDate)),q=Math.max(1,Math.ceil(F.length/d));c>q&&u(q);const W=(c-1)*d,P=F.slice(W,W+d),ee=Q=>{h(`/admin/new?id=${encodeURIComponent(Q)}`)},te=()=>{u(Q=>Math.max(1,Q-1))},de=()=>{u(Q=>Math.min(q,Q+1))},Oe=Q=>{if(!Q)return null;const Se=new Date(Q);if(Number.isNaN(Se.getTime()))return null;Se.setHours(0,0,0,0);const _e=(Se.getTime()-w.getTime())/(1e3*60*60*24),xe=Math.round(_e);let z="";return xe===0?z="D-day":xe>0?z=`D-${xe}`:z=`D+${Math.abs(xe)}`,{label:z,daysDiff:xe}};return E.jsxs("div",{className:"page-shell",children:[E.jsxs("header",{className:"page-header",children:[E.jsx("h1",{className:"page-title",children:"Dashboard"}),E.jsx("p",{className:"page-subtitle",children:"    "})]}),n&&E.jsx("div",{className:"py-20 text-center",children:"Loading..."}),t&&E.jsx("div",{className:"py-20 text-center text-red-500",children:t}),!n&&!t&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"mb-6 flex flex-wrap gap-3",children:[E.jsx(On,{to:"/admin/new",className:"btn bg-teal-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-teal-700 focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 dark:focus:ring-offset-slate-900",children:"+  "}),E.jsx(On,{to:"/admin/notices/new",className:"btn btn-outline px-4 py-2 text-sm",children:"+ "})]}),E.jsxs("section",{className:"mb-8 grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[E.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900",children:[E.jsx("h2",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400",children:"THIS WEEK"}),E.jsxs("div",{className:"mt-2 flex items-baseline gap-2",children:[E.jsx("span",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:T.booked}),E.jsxs("span",{className:"text-sm text-slate-400",children:["/ ",T.capacity," booked"]})]}),E.jsx("div",{className:"mt-4 h-2 w-full rounded-full bg-slate-100 dark:bg-slate-800",children:E.jsx("div",{className:"h-2 rounded-full bg-teal-500 transition-all",style:{width:`${T.booked/T.capacity*100}%`}})}),E.jsxs("p",{className:"mt-2 text-xs text-teal-600 dark:text-teal-400",children:[T.remaining," slots remaining"]})]}),E.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900",children:[E.jsx("h2",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400",children:"NEXT WEEK"}),E.jsxs("div",{className:"mt-2 flex items-baseline gap-2",children:[E.jsx("span",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:C.booked}),E.jsxs("span",{className:"text-sm text-slate-400",children:["/ ",C.capacity," booked"]})]}),E.jsx("div",{className:"mt-4 h-2 w-full rounded-full bg-slate-100 dark:bg-slate-800",children:E.jsx("div",{className:"h-2 rounded-full bg-indigo-500 transition-all",style:{width:`${C.booked/C.capacity*100}%`}})}),E.jsxs("p",{className:"mt-2 text-xs text-indigo-600 dark:text-indigo-400",children:[C.remaining," slots remaining"]})]}),E.jsxs("div",{className:"rounded-2xl border border-teal-100 bg-teal-50 p-6 shadow-sm dark:border-slate-800 dark:bg-slate-800 lg:col-span-1",children:[E.jsx("h2",{className:"mb-3 text-sm font-semibold text-teal-800 dark:text-teal-200",children:"TODAY'S REVIEW"}),j.length===0?E.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"   ."}):E.jsx("div",{className:"space-y-2",children:j.map(Q=>E.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-white p-3 shadow-sm dark:bg-slate-700",children:[E.jsxs("div",{children:[E.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-100",children:Q.clientName}),E.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-300",children:[Q.finalPrice.toLocaleString(),"  ",Q.status]})]}),E.jsx("button",{onClick:()=>ee(Q.id),className:"text-xs font-medium text-teal-600 hover:text-teal-700 dark:text-teal-400",children:"Edit"})]},Q.id))})]})]}),E.jsxs("section",{className:"space-y-4",children:[E.jsx("h2",{className:"text-sm font-bold text-slate-500 dark:text-slate-400",children:"  "}),P.length===0?E.jsx("div",{className:"list-empty",children:"  ."}):E.jsx("div",{className:"space-y-3",children:P.map(Q=>{const Se=Oe(Q.reviewDate),_e=Se?.label??"",xe=Se&&Se.daysDiff>=0&&Se.daysDiff<=3,z=Q.status==="DONE"||Q.status==="";return E.jsx("article",{className:`list-card transition-all ${xe?"border-amber-300 bg-amber-50/70 shadow-md ring-1 ring-amber-200 dark:border-amber-400/70 dark:bg-amber-950/30 dark:ring-amber-500/40":""} ${z?"opacity-60 hover:opacity-90":""}`,children:E.jsxs("div",{className:"list-card-link cursor-default",children:[E.jsxs("div",{className:"list-left",children:[E.jsxs("div",{className:"mb-1 flex flex-wrap items-center gap-2 text-xs",children:[E.jsxs("span",{className:"font-semibold text-slate-800 dark:text-slate-100",children:[" ",Q.reviewDate]}),_e&&E.jsx("span",{className:`rounded-full px-2 py-0.5 text-[11px] font-semibold ${xe?"bg-amber-100 text-amber-800 dark:bg-amber-500/20 dark:text-amber-100":"bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-100"}`,children:_e}),Q.materialReceivedDate&&E.jsxs("span",{className:"text-[11px] text-slate-400 dark:text-slate-500",children:["  ",Q.materialReceivedDate]}),z&&E.jsx("span",{className:"rounded-full bg-emerald-100 px-2 py-0.5 text-[11px] font-semibold text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-200",children:""})]}),E.jsx("p",{className:`list-title-strong ${z?"line-through":""}`,children:Q.clientName}),E.jsxs("p",{className:"list-note",children:[": ",Q.depositorName||"-"]})]}),E.jsxs("div",{className:"list-right",children:[E.jsx("span",{className:"badge-status",children:Q.status}),E.jsxs("span",{className:"text-sm font-bold text-slate-900 dark:text-slate-100",children:[Q.finalPrice.toLocaleString(),""]}),E.jsx("button",{onClick:()=>ee(Q.id),className:"text-xs font-medium text-teal-600 hover:text-teal-700 dark:text-teal-400",children:""})]})]})},Q.id)})}),E.jsxs("div",{className:"pagination-bar",children:[E.jsxs("span",{children:["Page ",c," of ",q]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:te,disabled:c===1,className:"pagination-btn",children:""}),E.jsx("button",{onClick:de,disabled:c===q,className:"pagination-btn",children:""})]})]})]})]})]})}function G2(){const[n,e]=O.useState(""),[t,r]=O.useState(""),[s,o]=O.useState("PAID"),[c,u]=O.useState(""),[d,h]=O.useState(""),[m,y]=O.useState(""),[b,v]=O.useState(!1),[x,T]=O.useState(!1),[C,w]=O.useState(null),I=Ti(),[j]=Bx(),F=j.get("id"),q=!!F;O.useEffect(()=>{if(!q)return;async function de(){T(!0),w(null);const Oe=await cg();if(!Oe.ok){w(`   : ${Oe.error}`),T(!1);return}const Q=Oe.data.find(Se=>Se.id===F);if(!Q){w("    ."),T(!1);return}e(Q.clientName),r(Q.depositorName||""),o(Q.status),u(Q.materialReceivedDate||""),h(Q.reviewDate),y(Q.memo||""),T(!1)}de()},[q,F]);const W=c&&d,P=W?RE(c,d,5e4):null,ee=async de=>{if(de.preventDefault(),w(null),!n||!d){w("    .");return}v(!0);const Oe={clientName:n,depositorName:t,status:s,reviewDate:d,materialReceivedDate:c||void 0,memo:m},Q=q&&F?await P2(F,Oe):await j2(Oe);if(v(!1),!Q.ok){w(`${q?"":""} : ${Q.error}`);return}alert(` ${q?"":""}.`),I("/admin")},te=b||x;return E.jsxs("div",{className:"page-shell",children:[E.jsxs("header",{className:"page-header",children:[E.jsx("h1",{className:"page-title",children:q?" ":" "}),E.jsx("p",{className:"page-subtitle",children:"   ,       ."})]}),E.jsxs("form",{onSubmit:ee,className:"space-y-6",children:[C&&E.jsx("div",{className:"rounded-lg bg-red-50 p-4 text-sm text-red-600 dark:bg-red-900/20 dark:text-red-400",children:C}),E.jsxs("div",{className:"section-grid-2",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsxs("label",{className:"form-label",children:["  ",E.jsx("span",{className:"text-teal-500",children:"*"})]}),E.jsx("input",{type:"text",value:n,onChange:de=>e(de.target.value),className:"form-input",disabled:te})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"form-label",children:""}),E.jsx("input",{type:"text",value:t,onChange:de=>r(de.target.value),className:"form-input",disabled:te})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"form-label",children:""}),E.jsxs("select",{value:s,onChange:de=>o(de.target.value),className:"form-select",disabled:te,children:[E.jsx("option",{value:"PAID",children:"  (PAID)"}),E.jsx("option",{value:"REVIEW_REQUESTED",children:"  (REVIEW_REQUESTED)"}),E.jsx("option",{value:"DONE",children:"  (DONE)"})]})]}),E.jsxs("div",{className:"section-grid-2",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"form-label",children:"  "}),E.jsx("input",{type:"date",value:c,onChange:de=>u(de.target.value),className:"form-input",disabled:te})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("label",{className:"form-label",children:["  ",E.jsx("span",{className:"text-teal-500",children:"*"})]}),E.jsx("input",{type:"date",value:d,onChange:de=>h(de.target.value),className:"form-input",required:!0,disabled:te})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"form-label",children:""}),E.jsx("textarea",{value:m,onChange:de=>y(de.target.value),className:"form-textarea min-h-[100px]",disabled:te})]}),E.jsxs("div",{className:"rounded-xl border border-teal-100 bg-teal-50/50 p-5 dark:border-teal-900/30 dark:bg-teal-900/10",children:[E.jsx("h3",{className:"mb-2 text-sm font-bold text-teal-800 dark:text-teal-200",children:"  "}),W&&P?E.jsxs("div",{className:"space-y-1 text-sm text-slate-700 dark:text-slate-300",children:[E.jsxs("p",{children:[":"," ",E.jsxs("span",{className:"font-medium",children:[P.diffDays," "]})]}),E.jsxs("p",{children:[":"," ",E.jsx("span",{className:"font-medium",children:P.priceTier})]}),E.jsxs("div",{className:"mt-2 flex items-center gap-2 border-t border-teal-200 pt-2 dark:border-teal-800",children:[E.jsx("span",{children:":"}),E.jsxs("span",{className:"text-lg font-bold text-teal-600 dark:text-teal-400",children:[P.finalPrice.toLocaleString(),""]}),E.jsxs("span",{className:"text-xs text-slate-400",children:["(+",P.extraPrice.toLocaleString(),")"]})]})]}):E.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"     . (  50,000)"})]}),E.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[E.jsx("button",{type:"button",onClick:()=>I("/admin"),className:"btn-ghost",children:""}),E.jsx("button",{type:"submit",disabled:te,className:"btn btn-primary px-5 py-2.5 disabled:opacity-50",children:q?b?" ...":" ":b?" ...":" "})]})]})]})}var Ep={exports:{}},kp={};var W1;function Y2(){if(W1)return kp;W1=1;var n=dl();function e(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,s=n.useEffect,o=n.useLayoutEffect,c=n.useDebugValue;function u(y,b){var v=b(),x=r({inst:{value:v,getSnapshot:b}}),T=x[0].inst,C=x[1];return o(function(){T.value=v,T.getSnapshot=b,d(T)&&C({inst:T})},[y,v,b]),s(function(){return d(T)&&C({inst:T}),y(function(){d(T)&&C({inst:T})})},[y]),c(v),v}function d(y){var b=y.getSnapshot;y=y.value;try{var v=b();return!t(y,v)}catch{return!0}}function h(y,b){return b()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return kp.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,kp}var J1;function zE(){return J1||(J1=1,Ep.exports=Y2()),Ep.exports}var BE=zE();function Tt(n){this.content=n}Tt.prototype={constructor:Tt,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,s=r.find(n),o=r.content.slice();return s==-1?o.push(t||n,e):(o[s+1]=e,t&&(o[s]=t)),new Tt(o)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new Tt(t)},addToStart:function(n,e){return new Tt([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new Tt(t)},addBefore:function(n,e,t){var r=this.remove(e),s=r.content.slice(),o=r.find(n);return s.splice(o==-1?s.length:o,0,e,t),new Tt(s)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=Tt.from(n),n.size?new Tt(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=Tt.from(n),n.size?new Tt(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=Tt.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};Tt.from=function(n){if(n instanceof Tt)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new Tt(e)};function jE(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let s=n.child(r),o=e.child(r);if(s==o){t+=s.nodeSize;continue}if(!s.sameMarkup(o))return t;if(s.isText&&s.text!=o.text){for(let c=0;s.text[c]==o.text[c];c++)t++;return t}if(s.content.size||o.content.size){let c=jE(s.content,o.content,t+1);if(c!=null)return c}t+=s.nodeSize}}function UE(n,e,t,r){for(let s=n.childCount,o=e.childCount;;){if(s==0||o==0)return s==o?null:{a:t,b:r};let c=n.child(--s),u=e.child(--o),d=c.nodeSize;if(c==u){t-=d,r-=d;continue}if(!c.sameMarkup(u))return{a:t,b:r};if(c.isText&&c.text!=u.text){let h=0,m=Math.min(c.text.length,u.text.length);for(;h<m&&c.text[c.text.length-h-1]==u.text[u.text.length-h-1];)h++,t--,r--;return{a:t,b:r}}if(c.content.size||u.content.size){let h=UE(c.content,u.content,t-1,r-1);if(h)return h}t-=d,r-=d}}class K{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,s=0,o){for(let c=0,u=0;u<t;c++){let d=this.content[c],h=u+d.nodeSize;if(h>e&&r(d,s+u,o||null,c)!==!1&&d.content.size){let m=u+1;d.nodesBetween(Math.max(0,e-m),Math.min(d.content.size,t-m),r,s+m)}u=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,s){let o="",c=!0;return this.nodesBetween(e,t,(u,d)=>{let h=u.isText?u.text.slice(Math.max(e,d)-d,t-d):u.isLeaf?s?typeof s=="function"?s(u):s:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&h||u.isTextblock)&&r&&(c?c=!1:o+=r),o+=h},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,s=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(r)&&(s[s.length-1]=t.withText(t.text+r.text),o=1);o<e.content.length;o++)s.push(e.content[o]);return new K(s,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],s=0;if(t>e)for(let o=0,c=0;c<t;o++){let u=this.content[o],d=c+u.nodeSize;d>e&&((c<e||d>t)&&(u.isText?u=u.cut(Math.max(0,e-c),Math.min(u.text.length,t-c)):u=u.cut(Math.max(0,e-c-1),Math.min(u.content.size,t-c-1))),r.push(u),s+=u.nodeSize),c=d}return new K(r,s)}cutByIndex(e,t){return e==t?K.empty:e==0&&t==this.content.length?this:new K(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let s=this.content.slice(),o=this.size+t.nodeSize-r.nodeSize;return s[e]=t,new K(s,o)}addToStart(e){return new K([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new K(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let s=this.content[t];e(s,r,t),r+=s.nodeSize}}findDiffStart(e,t=0){return jE(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return UE(this,e,t,r)}findIndex(e){if(e==0)return Yc(0,e);if(e==this.size)return Yc(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let t=0,r=0;;t++){let s=this.child(t),o=r+s.nodeSize;if(o>=e)return o==e?Yc(t+1,o):Yc(t,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return K.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new K(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return K.empty;let t,r=0;for(let s=0;s<e.length;s++){let o=e[s];r+=o.nodeSize,s&&o.isText&&e[s-1].sameMarkup(o)?(t||(t=e.slice(0,s)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new K(t||e,r)}static from(e){if(!e)return K.empty;if(e instanceof K)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new K([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}K.empty=new K([],0);const Tp={index:0,offset:0};function Yc(n,e){return Tp.index=n,Tp.offset=e,Tp}function Au(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!Au(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!Au(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let $e=class pm{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let s=0;s<e.length;s++){let o=e[s];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,s));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,s)),t.push(this),r=!0),t&&t.push(o)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Au(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let s=r.create(t.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return pm.none;if(e instanceof pm)return[e];let t=e.slice();return t.sort((r,s)=>r.type.rank-s.type.rank),t}};$e.none=[];class Nu extends Error{}class Z{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=HE(this.content,e+this.openStart,t);return r&&new Z(r,this.openStart,this.openEnd)}removeBetween(e,t){return new Z(PE(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return Z.empty;let r=t.openStart||0,s=t.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Z(K.fromJSON(e,t.content),r,s)}static maxOpen(e,t=!0){let r=0,s=0;for(let o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)s++;return new Z(e,r,s)}}Z.empty=new Z(K.empty,0,0);function PE(n,e,t){let{index:r,offset:s}=n.findIndex(e),o=n.maybeChild(r),{index:c,offset:u}=n.findIndex(t);if(s==e||o.isText){if(u!=t&&!n.child(c).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=c)throw new RangeError("Removing non-flat range");return n.replaceChild(r,o.copy(PE(o.content,e-s-1,t-s-1)))}function HE(n,e,t,r){let{index:s,offset:o}=n.findIndex(e),c=n.maybeChild(s);if(o==e||c.isText)return r&&!r.canReplace(s,s,t)?null:n.cut(0,e).append(t).append(n.cut(e));let u=HE(c.content,e-o-1,t,c);return u&&n.replaceChild(s,c.copy(u))}function W2(n,e,t){if(t.openStart>n.depth)throw new Nu("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new Nu("Inconsistent open depths");return VE(n,e,t,0)}function VE(n,e,t,r){let s=n.index(r),o=n.node(r);if(s==e.index(r)&&r<n.depth-t.openStart){let c=VE(n,e,t,r+1);return o.copy(o.content.replaceChild(s,c))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let c=n.parent,u=c.content;return rs(c,u.cut(0,n.parentOffset).append(t.content).append(u.cut(e.parentOffset)))}else{let{start:c,end:u}=J2(t,n);return rs(o,qE(n,c,u,e,r))}else return rs(o,Mu(n,e,r))}function $E(n,e){if(!e.type.compatibleContent(n.type))throw new Nu("Cannot join "+e.type.name+" onto "+n.type.name)}function mm(n,e,t){let r=n.node(t);return $E(r,e.node(t)),r}function ns(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function Po(n,e,t,r){let s=(e||n).node(t),o=0,c=e?e.index(t):s.childCount;n&&(o=n.index(t),n.depth>t?o++:n.textOffset&&(ns(n.nodeAfter,r),o++));for(let u=o;u<c;u++)ns(s.child(u),r);e&&e.depth==t&&e.textOffset&&ns(e.nodeBefore,r)}function rs(n,e){return n.type.checkContent(e),n.copy(e)}function qE(n,e,t,r,s){let o=n.depth>s&&mm(n,e,s+1),c=r.depth>s&&mm(t,r,s+1),u=[];return Po(null,n,s,u),o&&c&&e.index(s)==t.index(s)?($E(o,c),ns(rs(o,qE(n,e,t,r,s+1)),u)):(o&&ns(rs(o,Mu(n,e,s+1)),u),Po(e,t,s,u),c&&ns(rs(c,Mu(t,r,s+1)),u)),Po(r,null,s,u),new K(u)}function Mu(n,e,t){let r=[];if(Po(null,n,t,r),n.depth>t){let s=mm(n,e,t+1);ns(rs(s,Mu(n,e,t+1)),r)}return Po(e,null,t,r),new K(r)}function J2(n,e){let t=e.depth-n.openStart,s=e.node(t).copy(n.content);for(let o=t-1;o>=0;o--)s=e.node(o).copy(K.from(s));return{start:s.resolveNoCache(n.openStart+t),end:s.resolveNoCache(s.content.size-n.openEnd-t)}}class nl{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(t);return r?e.child(t).cut(r):s}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],s=t==0?0:this.path[t*3-1]+1;for(let o=0;o<e;o++)s+=r.child(o).nodeSize;return s}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return $e.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),s=e.maybeChild(t);if(!r){let u=r;r=s,s=u}let o=r.marks;for(var c=0;c<o.length;c++)o[c].type.spec.inclusive===!1&&(!s||!o[c].isInSet(s.marks))&&(o=o[c--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,s=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!s||!r[o].isInSet(s.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new Ou(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],s=0,o=t;for(let c=e;;){let{index:u,offset:d}=c.content.findIndex(o),h=o-d;if(r.push(c,u,s+d),!h||(c=c.child(u),c.isText))break;o=h-1,s+=d+1}return new nl(t,r,o)}static resolveCached(e,t){let r=X1.get(e);if(r)for(let o=0;o<r.elts.length;o++){let c=r.elts[o];if(c.pos==t)return c}else X1.set(e,r=new X2);let s=r.elts[r.i]=nl.resolve(e,t);return r.i=(r.i+1)%Q2,s}}class X2{constructor(){this.elts=[],this.i=0}}const Q2=12,X1=new WeakMap;class Ou{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Z2=Object.create(null);class Mn{constructor(e,t,r,s=$e.none){this.type=e,this.attrs=t,this.marks=s,this.content=r||K.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,s=0){this.content.nodesBetween(e,t,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,s){return this.content.textBetween(e,t,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&Au(this.attrs,t||e.defaultAttrs||Z2)&&$e.sameSet(this.marks,r||$e.none)}copy(e=null){return e==this.content?this:new Mn(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Mn(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return Z.empty;let s=this.resolve(e),o=this.resolve(t),c=r?0:s.sharedDepth(t),u=s.start(c),h=s.node(c).content.cut(s.pos-u,o.pos-u);return new Z(h,s.depth-c,o.depth-c)}replace(e,t,r){return W2(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:s}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(s==e||t.isText)return t;e-=s+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let s=this.content.child(t-1);return{node:s,index:t-1,offset:r-s.nodeSize}}resolve(e){return nl.resolveCached(this,e)}resolveNoCache(e){return nl.resolve(this,e)}rangeHasMark(e,t,r){let s=!1;return t>e&&this.nodesBetween(e,t,o=>(r.isInSet(o.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),FE(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=K.empty,s=0,o=r.childCount){let c=this.contentMatchAt(e).matchFragment(r,s,o),u=c&&c.matchFragment(this.content,t);if(!u||!u.validEnd)return!1;for(let d=s;d<o;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(e,t,r,s){if(s&&!this.type.allowsMarks(s))return!1;let o=this.contentMatchAt(e).matchType(r),c=o&&o.matchFragment(this.content,t);return c?c.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=$e.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!$e.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let s=K.fromJSON(e,t.content),o=e.nodeType(t.type).create(t.attrs,s,r);return o.type.checkAttrs(o.attrs),o}}Mn.prototype.text=void 0;class Ru extends Mn{constructor(e,t,r,s){if(super(e,t,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):FE(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Ru(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Ru(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function FE(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class cs{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new e_(e,t);if(r.next==null)return cs.empty;let s=KE(r);r.next&&r.err("Unexpected trailing text");let o=o_(a_(s));return l_(o,r),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let s=this;for(let o=t;s&&o<r;o++)s=s.matchType(e.child(o).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let s=[this];function o(c,u){let d=c.matchFragment(e,r);if(d&&(!t||d.validEnd))return K.from(u.map(h=>h.createAndFill()));for(let h=0;h<c.next.length;h++){let{type:m,next:y}=c.next[h];if(!(m.isText||m.hasRequiredAttrs())&&s.indexOf(y)==-1){s.push(y);let b=o(y,u.concat(m));if(b)return b}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),o=s.match;if(o.matchType(e)){let c=[];for(let u=s;u.type;u=u.via)c.push(u.type);return c.reverse()}for(let c=0;c<o.next.length;c++){let{type:u,next:d}=o.next[c];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in t)&&(!s.type||d.validEnd)&&(r.push({match:u.contentMatch,type:u,via:s}),t[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&t(r.next[s].next)}return t(this),e.map((r,s)=>{let o=s+(r.validEnd?"*":" ")+" ";for(let c=0;c<r.next.length;c++)o+=(c?", ":"")+r.next[c].type.name+"->"+e.indexOf(r.next[c].next);return o}).join(`
`)}}cs.empty=new cs(!0);class e_{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function KE(n){let e=[];do e.push(t_(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function t_(n){let e=[];do e.push(n_(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function n_(n){let e=s_(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=r_(n,e);else break;return e}function Q1(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function r_(n,e){let t=Q1(n),r=t;return n.eat(",")&&(n.next!="}"?r=Q1(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function i_(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let s=[];for(let o in t){let c=t[o];c.isInGroup(e)&&s.push(c)}return s.length==0&&n.err("No node type or group '"+e+"' found"),s}function s_(n){if(n.eat("(")){let e=KE(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=i_(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function a_(n){let e=[[]];return s(o(n,0),t()),e;function t(){return e.push([])-1}function r(c,u,d){let h={term:d,to:u};return e[c].push(h),h}function s(c,u){c.forEach(d=>d.to=u)}function o(c,u){if(c.type=="choice")return c.exprs.reduce((d,h)=>d.concat(o(h,u)),[]);if(c.type=="seq")for(let d=0;;d++){let h=o(c.exprs[d],u);if(d==c.exprs.length-1)return h;s(h,u=t())}else if(c.type=="star"){let d=t();return r(u,d),s(o(c.expr,d),d),[r(d)]}else if(c.type=="plus"){let d=t();return s(o(c.expr,u),d),s(o(c.expr,d),d),[r(d)]}else{if(c.type=="opt")return[r(u)].concat(o(c.expr,u));if(c.type=="range"){let d=u;for(let h=0;h<c.min;h++){let m=t();s(o(c.expr,d),m),d=m}if(c.max==-1)s(o(c.expr,d),d);else for(let h=c.min;h<c.max;h++){let m=t();r(d,m),s(o(c.expr,d),m),d=m}return[r(d)]}else{if(c.type=="name")return[r(u,void 0,c.value)];throw new Error("Unknown expr type")}}}}function GE(n,e){return e-n}function Z1(n,e){let t=[];return r(e),t.sort(GE);function r(s){let o=n[s];if(o.length==1&&!o[0].term)return r(o[0].to);t.push(s);for(let c=0;c<o.length;c++){let{term:u,to:d}=o[c];!u&&t.indexOf(d)==-1&&r(d)}}}function o_(n){let e=Object.create(null);return t(Z1(n,0));function t(r){let s=[];r.forEach(c=>{n[c].forEach(({term:u,to:d})=>{if(!u)return;let h;for(let m=0;m<s.length;m++)s[m][0]==u&&(h=s[m][1]);Z1(n,d).forEach(m=>{h||s.push([u,h=[]]),h.indexOf(m)==-1&&h.push(m)})})});let o=e[r.join(",")]=new cs(r.indexOf(n.length-1)>-1);for(let c=0;c<s.length;c++){let u=s[c][1].sort(GE);o.next.push({type:s[c][0],next:e[u.join(",")]||t(u)})}return o}}function l_(n,e){for(let t=0,r=[n];t<r.length;t++){let s=r[t],o=!s.validEnd,c=[];for(let u=0;u<s.next.length;u++){let{type:d,next:h}=s.next[u];c.push(d.name),o&&!(d.isText||d.hasRequiredAttrs())&&(o=!1),r.indexOf(h)==-1&&r.push(h)}o&&e.err("Only non-generatable nodes ("+c.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function YE(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function WE(n,e){let t=Object.create(null);for(let r in n){let s=e&&e[r];if(s===void 0){let o=n[r];if(o.hasDefault)s=o.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=s}return t}function JE(n,e,t,r){for(let s in e)if(!(s in n))throw new RangeError(`Unsupported attribute ${s} for ${t} of type ${s}`);for(let s in n){let o=n[s];o.validate&&o.validate(e[s])}}function XE(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new u_(n,r,e[r]);return t}let eS=class QE{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=XE(e,r.attrs),this.defaultAttrs=YE(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==cs.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:WE(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Mn(this,this.computeAttrs(e),K.from(t),$e.setFrom(r))}createChecked(e=null,t,r){return t=K.from(t),this.checkContent(t),new Mn(this,this.computeAttrs(e),t,$e.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=K.from(t),t.size){let c=this.contentMatch.fillBefore(t);if(!c)return null;t=c.append(t)}let s=this.contentMatch.matchFragment(t),o=s&&s.fillBefore(K.empty,!0);return o?new Mn(this,e,t.append(o),$e.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){JE(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:$e.none:e}static compile(e,t){let r=Object.create(null);e.forEach((o,c)=>r[o]=new QE(o,t,c));let s=t.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function c_(n,e,t){let r=t.split("|");return s=>{let o=s===null?"null":typeof s;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${o}`)}}class u_{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?c_(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Nf{constructor(e,t,r,s){this.name=e,this.rank=t,this.schema=r,this.spec=s,this.attrs=XE(e,s.attrs),this.excluded=null;let o=YE(this.attrs);this.instance=o?new $e(this,o):null}create(e=null){return!e&&this.instance?this.instance:new $e(this,WE(this.attrs,e))}static compile(e,t){let r=Object.create(null),s=0;return e.forEach((o,c)=>r[o]=new Nf(o,s++,t,c)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){JE(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class ZE{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let s in e)t[s]=e[s];t.nodes=Tt.from(e.nodes),t.marks=Tt.from(e.marks||{}),this.nodes=eS.compile(this.spec.nodes,this),this.marks=Nf.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let o=this.nodes[s],c=o.spec.content||"",u=o.spec.marks;if(o.contentMatch=r[c]||(r[c]=cs.parse(c,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=u=="_"?null:u?tS(this,u.split(" ")):u==""||!o.inlineContent?[]:null}for(let s in this.marks){let o=this.marks[s],c=o.spec.excludes;o.excluded=c==null?[o]:c==""?[]:tS(this,c.split(" "))}this.nodeFromJSON=s=>Mn.fromJSON(this,s),this.markFromJSON=s=>$e.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof eS){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,s)}text(e,t){let r=this.nodes.text;return new Ru(r,r.defaultAttrs,e,$e.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function tS(n,e){let t=[];for(let r=0;r<e.length;r++){let s=e[r],o=n.marks[s],c=o;if(o)t.push(o);else for(let u in n.marks){let d=n.marks[u];(s=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(s)>-1)&&t.push(c=d)}if(!c)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function f_(n){return n.tag!=null}function d_(n){return n.style!=null}class yi{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(s=>{if(f_(s))this.tags.push(s);else if(d_(s)){let o=/[^=]*/.exec(s.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let o=e.nodes[s.node];return o.contentMatch.matchType(o)})}parse(e,t={}){let r=new rS(this,t,!1);return r.addAll(e,$e.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new rS(this,t,!0);return r.addAll(e,$e.none,t.from,t.to),Z.maxOpen(r.finish())}matchTag(e,t,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let o=this.tags[s];if(m_(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){let c=o.getAttrs(e);if(c===!1)continue;o.attrs=c||void 0}return o}}}matchStyle(e,t,r,s){for(let o=s?this.styles.indexOf(s)+1:0;o<this.styles.length;o++){let c=this.styles[o],u=c.style;if(!(u.indexOf(e)!=0||c.context&&!r.matchesContext(c.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=t))){if(c.getAttrs){let d=c.getAttrs(t);if(d===!1)continue;c.attrs=d||void 0}return c}}}static schemaRules(e){let t=[];function r(s){let o=s.priority==null?50:s.priority,c=0;for(;c<t.length;c++){let u=t[c];if((u.priority==null?50:u.priority)<o)break}t.splice(c,0,s)}for(let s in e.marks){let o=e.marks[s].spec.parseDOM;o&&o.forEach(c=>{r(c=iS(c)),c.mark||c.ignore||c.clearMark||(c.mark=s)})}for(let s in e.nodes){let o=e.nodes[s].spec.parseDOM;o&&o.forEach(c=>{r(c=iS(c)),c.node||c.ignore||c.mark||(c.node=s)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new yi(e,yi.schemaRules(e)))}}const ek={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},h_={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},tk={ol:!0,ul:!0},rl=1,gm=2,Ho=4;function nS(n,e,t){return e!=null?(e?rl:0)|(e==="full"?gm:0):n&&n.whitespace=="pre"?rl|gm:t&~Ho}class Wc{constructor(e,t,r,s,o,c){this.type=e,this.attrs=t,this.marks=r,this.solid=s,this.options=c,this.content=[],this.activeMarks=$e.none,this.match=o||(c&Ho?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(K.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&rl)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-s[0].length))}}let t=K.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(K.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!ek.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class rS{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=t.topNode,o,c=nS(null,t.preserveWhitespace,0)|(r?Ho:0);s?o=new Wc(s.type,s.attrs,$e.none,!0,t.topMatch||s.type.contentMatch,c):r?o=new Wc(null,null,$e.none,!0,null,c):o=new Wc(e.schema.topNodeType,null,$e.none,!0,null,c),this.nodes=[o],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,s=this.top,o=s.options&gm?"full":this.localPreserveWS||(s.options&rl)>0,{schema:c}=this.parser;if(o==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(o)if(o==="full")r=r.replace(/\r\n?/g,`
`);else if(c.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(c.linebreakReplacement.create())){let u=r.split(/\r?\n|\r/);for(let d=0;d<u.length;d++)d&&this.insertNode(c.linebreakReplacement.create(),t,!0),u[d]&&this.insertNode(c.text(u[d]),t,!/\S/.test(u[d]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let u=s.content[s.content.length-1],d=e.previousSibling;(!u||d&&d.nodeName=="BR"||u.isText&&/[ \t\r\n\u000c]$/.test(u.text))&&(r=r.slice(1))}r&&this.insertNode(c.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let s=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let c=e.nodeName.toLowerCase(),u;tk.hasOwnProperty(c)&&this.parser.normalizeLists&&p_(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(u=this.parser.matchTag(e,this,r));e:if(d?d.ignore:h_.hasOwnProperty(c))this.findInside(e),this.ignoreFallback(e,t);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let h,m=this.needsBlock;if(ek.hasOwnProperty(c))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),h=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let y=d&&d.skip?t:this.readStyles(e,t);y&&this.addAll(e,y),h&&this.sync(o),this.needsBlock=m}else{let h=this.readStyles(e,t);h&&this.addElementByRule(e,d,h,d.consuming===!1?u:void 0)}this.localPreserveWS=s}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let o=this.parser.matchedStyles[s],c=r.getPropertyValue(o);if(c)for(let u=void 0;;){let d=this.parser.matchStyle(o,c,this,u);if(!d)break;if(d.ignore)return null;if(d.clearMark?t=t.filter(h=>!d.clearMark(h)):t=t.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)u=d;else break}}return t}addElementByRule(e,t,r,s){let o,c;if(t.node)if(c=this.parser.schema.nodes[t.node],c.isLeaf)this.insertNode(c.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let d=this.enter(c,t.attrs||null,r,t.preserveWhitespace);d&&(o=!0,r=d)}else{let d=this.parser.schema.marks[t.mark];r=r.concat(d.create(t.attrs))}let u=this.top;if(c&&c.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,r,!1));else{let d=e;typeof t.contentElement=="string"?d=e.querySelector(t.contentElement):typeof t.contentElement=="function"?d=t.contentElement(e):t.contentElement&&(d=t.contentElement),this.findAround(e,d,!0),this.addAll(d,r),this.findAround(e,d,!1)}o&&this.sync(u)&&this.open--}addAll(e,t,r,s){let o=r||0;for(let c=r?e.childNodes[r]:e.firstChild,u=s==null?null:e.childNodes[s];c!=u;c=c.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(c,t);this.findAtPoint(e,o)}findPlace(e,t,r){let s,o;for(let c=this.open,u=0;c>=0;c--){let d=this.nodes[c],h=d.findWrapping(e);if(h&&(!s||s.length>h.length+u)&&(s=h,o=d,!h.length))break;if(d.solid){if(r)break;u+=2}}if(!s)return null;this.sync(o);for(let c=0;c<s.length;c++)t=this.enterInner(s[c],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(t=this.enterInner(o,null,t))}let s=this.findPlace(e,t,r);if(s){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let c=$e.none;for(let u of s.concat(e.marks))(o.type?o.type.allowsMarkType(u.type):sS(u.type,e.type))&&(c=u.addToSet(c));return o.content.push(e.mark(c)),!0}return!1}enter(e,t,r,s){let o=this.findPlace(e.create(t),r,!1);return o&&(o=this.enterInner(e,t,r,!0,s)),o}enterInner(e,t,r,s=!1,o){this.closeExtra();let c=this.top;c.match=c.match&&c.match.matchType(e);let u=nS(e,o,c.options);c.options&Ho&&c.content.length==0&&(u|=Ho);let d=$e.none;return r=r.filter(h=>(c.type?c.type.allowsMarkType(h.type):sS(h.type,e))?(d=h.addToSet(d),!1):!0),this.nodes.push(new Wc(e,t,d,s,null,u)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=rl)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&t.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(s?0:1),c=(u,d)=>{for(;u>=0;u--){let h=t[u];if(h==""){if(u==t.length-1||u==0)continue;for(;d>=o;d--)if(c(u-1,d))return!0;return!1}else{let m=d>0||d==0&&s?this.nodes[d].type:r&&d>=o?r.node(d-o).type:null;if(!m||m.name!=h&&!m.isInGroup(h))return!1;d--}}return!0};return c(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function p_(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&tk.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function m_(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function iS(n){let e={};for(let t in n)e[t]=n[t];return e}function sS(n,e){let t=e.schema.nodes;for(let r in t){let s=t[r];if(!s.allowsMarkType(n))continue;let o=[],c=u=>{o.push(u);for(let d=0;d<u.edgeCount;d++){let{type:h,next:m}=u.edge(d);if(h==e||o.indexOf(m)<0&&c(m))return!0}};if(c(s.contentMatch))return!0}}class gs{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=Cp(t).createDocumentFragment());let s=r,o=[];return e.forEach(c=>{if(o.length||c.marks.length){let u=0,d=0;for(;u<o.length&&d<c.marks.length;){let h=c.marks[d];if(!this.marks[h.type.name]){d++;continue}if(!h.eq(o[u][0])||h.type.spec.spanning===!1)break;u++,d++}for(;u<o.length;)s=o.pop()[1];for(;d<c.marks.length;){let h=c.marks[d++],m=this.serializeMark(h,c.isInline,t);m&&(o.push([h,s]),s.appendChild(m.dom),s=m.contentDOM||m.dom)}}s.appendChild(this.serializeNodeInner(c,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:s}=hu(Cp(t),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,s)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let s=e.marks.length-1;s>=0;s--){let o=this.serializeMark(e.marks[s],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,t,r={}){let s=this.marks[e.type.name];return s&&hu(Cp(r),s(e,t),null,e.attrs)}static renderSpec(e,t,r=null,s){return hu(e,t,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new gs(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=aS(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return aS(e.marks)}}function aS(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function Cp(n){return n.document||window.document}const oS=new WeakMap;function g_(n){let e=oS.get(n);return e===void 0&&oS.set(n,e=y_(n)),e}function y_(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)t(r[s]);else for(let s in r)t(r[s])}return t(n),e}function hu(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],o;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=g_(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let c=s.indexOf(" ");c>0&&(t=s.slice(0,c),s=s.slice(c+1));let u,d=t?n.createElementNS(t,s):n.createElement(s),h=e[1],m=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){m=2;for(let y in h)if(h[y]!=null){let b=y.indexOf(" ");b>0?d.setAttributeNS(y.slice(0,b),y.slice(b+1),h[y]):y=="style"&&d.style?d.style.cssText=h[y]:d.setAttribute(y,h[y])}}for(let y=m;y<e.length;y++){let b=e[y];if(b===0){if(y<e.length-1||y>m)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:v,contentDOM:x}=hu(n,b,t,r);if(d.appendChild(v),x){if(u)throw new RangeError("Multiple content holes");u=x}}}return{dom:d,contentDOM:u}}const nk=65535,rk=Math.pow(2,16);function b_(n,e){return n+e*rk}function lS(n){return n&nk}function v_(n){return(n-(n&nk))/rk}const ik=1,sk=2,pu=4,ak=8;class ym{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&ak)>0}get deletedBefore(){return(this.delInfo&(ik|pu))>0}get deletedAfter(){return(this.delInfo&(sk|pu))>0}get deletedAcross(){return(this.delInfo&pu)>0}}class nn{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&nn.empty)return nn.empty}recover(e){let t=0,r=lS(e);if(!this.inverted)for(let s=0;s<r;s++)t+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+t+v_(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let s=0,o=this.inverted?2:1,c=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?s:0);if(d>e)break;let h=this.ranges[u+o],m=this.ranges[u+c],y=d+h;if(e<=y){let b=h?e==d?-1:e==y?1:t:t,v=d+s+(b<0?0:m);if(r)return v;let x=e==(t<0?d:y)?null:b_(u/3,e-d),T=e==d?sk:e==y?ik:pu;return(t<0?e!=d:e!=y)&&(T|=ak),new ym(v,T,x)}s+=m-h}return r?e+s:new ym(e+s,0,null)}touches(e,t){let r=0,s=lS(t),o=this.inverted?2:1,c=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?r:0);if(d>e)break;let h=this.ranges[u+o],m=d+h;if(e<=m&&u==s*3)return!0;r+=this.ranges[u+c]-h}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,o=0;s<this.ranges.length;s+=3){let c=this.ranges[s],u=c-(this.inverted?o:0),d=c+(this.inverted?0:o),h=this.ranges[s+t],m=this.ranges[s+r];e(u,u+h,d,d+m),o+=m-h}}invert(){return new nn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?nn.empty:new nn(e<0?[0,-e,0]:[0,0,e])}}nn.empty=new nn([]);class il{constructor(e,t,r=0,s=e?e.length:0){this.mirror=t,this.from=r,this.to=s,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new il(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let s=e.getMirror(t);this.appendMap(e._maps[t],s!=null&&s<t?r+s:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let s=e.getMirror(t);this.appendMap(e._maps[t].invert(),s!=null&&s>t?r-s-1:void 0)}}invert(){let e=new il;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let s=0;for(let o=this.from;o<this.to;o++){let c=this._maps[o],u=c.mapResult(e,t);if(u.recover!=null){let d=this.getMirror(o);if(d!=null&&d>o&&d<this.to){o=d,e=this._maps[d].recover(u.recover);continue}}s|=u.delInfo,e=u.pos}return r?e:new ym(e,s,null)}}const wp=Object.create(null);class Ot{getMap(){return nn.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=wp[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in wp)throw new RangeError("Duplicate use of step JSON ID "+e);return wp[e]=t,t.prototype.jsonID=e,t}}class ct{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new ct(e,null)}static fail(e){return new ct(null,e)}static fromReplace(e,t,r,s){try{return ct.ok(e.replace(t,r,s))}catch(o){if(o instanceof Nu)return ct.fail(o.message);throw o}}}function ug(n,e,t){let r=[];for(let s=0;s<n.childCount;s++){let o=n.child(s);o.content.size&&(o=o.copy(ug(o.content,e,o))),o.isInline&&(o=e(o,t,s)),r.push(o)}return K.fromArray(r)}class fi extends Ot{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),o=new Z(ug(t.content,(c,u)=>!c.isAtom||!u.type.allowsMarkType(this.mark.type)?c:c.mark(this.mark.addToSet(c.marks)),s),t.openStart,t.openEnd);return ct.fromReplace(e,this.from,this.to,o)}invert(){return new Nn(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new fi(t.pos,r.pos,this.mark)}merge(e){return e instanceof fi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new fi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new fi(t.from,t.to,e.markFromJSON(t.mark))}}Ot.jsonID("addMark",fi);class Nn extends Ot{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new Z(ug(t.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),t.openStart,t.openEnd);return ct.fromReplace(e,this.from,this.to,r)}invert(){return new fi(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Nn(t.pos,r.pos,this.mark)}merge(e){return e instanceof Nn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Nn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Nn(t.from,t.to,e.markFromJSON(t.mark))}}Ot.jsonID("removeMark",Nn);class di extends Ot{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return ct.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return ct.fromReplace(e,this.pos,this.pos+1,new Z(K.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let s=0;s<t.marks.length;s++)if(!t.marks[s].isInSet(r))return new di(this.pos,t.marks[s]);return new di(this.pos,this.mark)}}return new us(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new di(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new di(t.pos,e.markFromJSON(t.mark))}}Ot.jsonID("addNodeMark",di);class us extends Ot{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return ct.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return ct.fromReplace(e,this.pos,this.pos+1,new Z(K.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new di(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new us(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new us(t.pos,e.markFromJSON(t.mark))}}Ot.jsonID("removeNodeMark",us);class mt extends Ot{constructor(e,t,r,s=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=s}apply(e){return this.structure&&bm(e,this.from,this.to)?ct.fail("Structure replace would overwrite content"):ct.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new nn([this.from,this.to-this.from,this.slice.size])}invert(e){return new mt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new mt(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof mt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?Z.empty:new Z(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new mt(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?Z.empty:new Z(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new mt(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new mt(t.from,t.to,Z.fromJSON(e,t.slice),!!t.structure)}}Ot.jsonID("replace",mt);class yt extends Ot{constructor(e,t,r,s,o,c,u=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=s,this.slice=o,this.insert=c,this.structure=u}apply(e){if(this.structure&&(bm(e,this.from,this.gapFrom)||bm(e,this.gapTo,this.to)))return ct.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return ct.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?ct.fromReplace(e,this.from,this.to,r):ct.fail("Content does not fit in gap")}getMap(){return new nn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new yt(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||s<t.pos||o>r.pos?null:new yt(t.pos,r.pos,s,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new yt(t.from,t.to,t.gapFrom,t.gapTo,Z.fromJSON(e,t.slice),t.insert,!!t.structure)}}Ot.jsonID("replaceAround",yt);function bm(n,e,t){let r=n.resolve(e),s=t-e,o=r.depth;for(;s>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,s--;if(s>0){let c=r.node(o).maybeChild(r.indexAfter(o));for(;s>0;){if(!c||c.isLeaf)return!0;c=c.firstChild,s--}}return!1}function S_(n,e,t,r){let s=[],o=[],c,u;n.doc.nodesBetween(e,t,(d,h,m)=>{if(!d.isInline)return;let y=d.marks;if(!r.isInSet(y)&&m.type.allowsMarkType(r.type)){let b=Math.max(h,e),v=Math.min(h+d.nodeSize,t),x=r.addToSet(y);for(let T=0;T<y.length;T++)y[T].isInSet(x)||(c&&c.to==b&&c.mark.eq(y[T])?c.to=v:s.push(c=new Nn(b,v,y[T])));u&&u.to==b?u.to=v:o.push(u=new fi(b,v,r))}}),s.forEach(d=>n.step(d)),o.forEach(d=>n.step(d))}function x_(n,e,t,r){let s=[],o=0;n.doc.nodesBetween(e,t,(c,u)=>{if(!c.isInline)return;o++;let d=null;if(r instanceof Nf){let h=c.marks,m;for(;m=r.isInSet(h);)(d||(d=[])).push(m),h=m.removeFromSet(h)}else r?r.isInSet(c.marks)&&(d=[r]):d=c.marks;if(d&&d.length){let h=Math.min(u+c.nodeSize,t);for(let m=0;m<d.length;m++){let y=d[m],b;for(let v=0;v<s.length;v++){let x=s[v];x.step==o-1&&y.eq(s[v].style)&&(b=x)}b?(b.to=h,b.step=o):s.push({style:y,from:Math.max(u,e),to:h,step:o})}}}),s.forEach(c=>n.step(new Nn(c.from,c.to,c.style)))}function fg(n,e,t,r=t.contentMatch,s=!0){let o=n.doc.nodeAt(e),c=[],u=e+1;for(let d=0;d<o.childCount;d++){let h=o.child(d),m=u+h.nodeSize,y=r.matchType(h.type);if(!y)c.push(new mt(u,m,Z.empty));else{r=y;for(let b=0;b<h.marks.length;b++)t.allowsMarkType(h.marks[b].type)||n.step(new Nn(u,m,h.marks[b]));if(s&&h.isText&&t.whitespace!="pre"){let b,v=/\r?\n|\r/g,x;for(;b=v.exec(h.text);)x||(x=new Z(K.from(t.schema.text(" ",t.allowedMarks(h.marks))),0,0)),c.push(new mt(u+b.index,u+b.index+b[0].length,x))}}u=m}if(!r.validEnd){let d=r.fillBefore(K.empty,!0);n.replace(u,u,new Z(d,0,0))}for(let d=c.length-1;d>=0;d--)n.step(c[d])}function E_(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function Oa(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth,s=0,o=0;;--r){let c=n.$from.node(r),u=n.$from.index(r)+s,d=n.$to.indexAfter(r)-o;if(r<n.depth&&c.canReplace(u,d,t))return r;if(r==0||c.type.spec.isolating||!E_(c,u,d))break;u&&(s=1),d<c.childCount&&(o=1)}return null}function k_(n,e,t){let{$from:r,$to:s,depth:o}=e,c=r.before(o+1),u=s.after(o+1),d=c,h=u,m=K.empty,y=0;for(let x=o,T=!1;x>t;x--)T||r.index(x)>0?(T=!0,m=K.from(r.node(x).copy(m)),y++):d--;let b=K.empty,v=0;for(let x=o,T=!1;x>t;x--)T||s.after(x+1)<s.end(x)?(T=!0,b=K.from(s.node(x).copy(b)),v++):h++;n.step(new yt(d,h,c,u,new Z(m.append(b),y,v),m.size-y,!0))}function dg(n,e,t=null,r=n){let s=T_(n,e),o=s&&C_(r,e);return o?s.map(cS).concat({type:e,attrs:t}).concat(o.map(cS)):null}function cS(n){return{type:n,attrs:null}}function T_(n,e){let{parent:t,startIndex:r,endIndex:s}=n,o=t.contentMatchAt(r).findWrapping(e);if(!o)return null;let c=o.length?o[0]:e;return t.canReplaceWith(r,s,c)?o:null}function C_(n,e){let{parent:t,startIndex:r,endIndex:s}=n,o=t.child(r),c=e.contentMatch.findWrapping(o.type);if(!c)return null;let d=(c.length?c[c.length-1]:e).contentMatch;for(let h=r;d&&h<s;h++)d=d.matchType(t.child(h).type);return!d||!d.validEnd?null:c}function w_(n,e,t){let r=K.empty;for(let c=t.length-1;c>=0;c--){if(r.size){let u=t[c].type.contentMatch.matchFragment(r);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=K.from(t[c].type.create(t[c].attrs,r))}let s=e.start,o=e.end;n.step(new yt(s,o,s,o,new Z(r,0,0),t.length,!0))}function A_(n,e,t,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=n.steps.length;n.doc.nodesBetween(e,t,(c,u)=>{let d=typeof s=="function"?s(c):s;if(c.isTextblock&&!c.hasMarkup(r,d)&&N_(n.doc,n.mapping.slice(o).map(u),r)){let h=null;if(r.schema.linebreakReplacement){let v=r.whitespace=="pre",x=!!r.contentMatch.matchType(r.schema.linebreakReplacement);v&&!x?h=!1:!v&&x&&(h=!0)}h===!1&&lk(n,c,u,o),fg(n,n.mapping.slice(o).map(u,1),r,void 0,h===null);let m=n.mapping.slice(o),y=m.map(u,1),b=m.map(u+c.nodeSize,1);return n.step(new yt(y,b,y+1,b-1,new Z(K.from(r.create(d,null,c.marks)),0,0),1,!0)),h===!0&&ok(n,c,u,o),!1}})}function ok(n,e,t,r){e.forEach((s,o)=>{if(s.isText){let c,u=/\r?\n|\r/g;for(;c=u.exec(s.text);){let d=n.mapping.slice(r).map(t+1+o+c.index);n.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function lk(n,e,t,r){e.forEach((s,o)=>{if(s.type==s.type.schema.linebreakReplacement){let c=n.mapping.slice(r).map(t+1+o);n.replaceWith(c,c+1,e.type.schema.text(`
`))}})}function N_(n,e,t){let r=n.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,t)}function M_(n,e,t,r,s){let o=n.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");t||(t=o.type);let c=t.create(r,null,s||o.marks);if(o.isLeaf)return n.replaceWith(e,e+o.nodeSize,c);if(!t.validContent(o.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new yt(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new Z(K.from(c),0,0),1,!0))}function Sr(n,e,t=1,r){let s=n.resolve(e),o=s.depth-t,c=r&&r[r.length-1]||s.parent;if(o<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!c.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let h=s.depth-1,m=t-2;h>o;h--,m--){let y=s.node(h),b=s.index(h);if(y.type.spec.isolating)return!1;let v=y.content.cutByIndex(b,y.childCount),x=r&&r[m+1];x&&(v=v.replaceChild(0,x.type.create(x.attrs)));let T=r&&r[m]||y;if(!y.canReplace(b+1,y.childCount)||!T.type.validContent(v))return!1}let u=s.indexAfter(o),d=r&&r[0];return s.node(o).canReplaceWith(u,u,d?d.type:s.node(o+1).type)}function O_(n,e,t=1,r){let s=n.doc.resolve(e),o=K.empty,c=K.empty;for(let u=s.depth,d=s.depth-t,h=t-1;u>d;u--,h--){o=K.from(s.node(u).copy(o));let m=r&&r[h];c=K.from(m?m.type.create(m.attrs,c):s.node(u).copy(c))}n.step(new mt(e,e,new Z(o.append(c),t,t),!0))}function Ai(n,e){let t=n.resolve(e),r=t.index();return ck(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function R_(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let s=0;s<e.childCount;s++){let o=e.child(s),c=o.type==r?n.type.schema.nodes.text:o.type;if(t=t.matchType(c),!t||!n.type.allowsMarks(o.marks))return!1}return t.validEnd}function ck(n,e){return!!(n&&e&&!n.isLeaf&&R_(n,e))}function Mf(n,e,t=-1){let r=n.resolve(e);for(let s=r.depth;;s--){let o,c,u=r.index(s);if(s==r.depth?(o=r.nodeBefore,c=r.nodeAfter):t>0?(o=r.node(s+1),u++,c=r.node(s).maybeChild(u)):(o=r.node(s).maybeChild(u-1),c=r.node(s+1)),o&&!o.isTextblock&&ck(o,c)&&r.node(s).canReplace(u,u+1))return e;if(s==0)break;e=t<0?r.before(s):r.after(s)}}function D_(n,e,t){let r=null,{linebreakReplacement:s}=n.doc.type.schema,o=n.doc.resolve(e-t),c=o.node().type;if(s&&c.inlineContent){let m=c.whitespace=="pre",y=!!c.contentMatch.matchType(s);m&&!y?r=!1:!m&&y&&(r=!0)}let u=n.steps.length;if(r===!1){let m=n.doc.resolve(e+t);lk(n,m.node(),m.before(),u)}c.inlineContent&&fg(n,e+t-1,c,o.node().contentMatchAt(o.index()),r==null);let d=n.mapping.slice(u),h=d.map(e-t);if(n.step(new mt(h,d.map(e+t,-1),Z.empty,!0)),r===!0){let m=n.doc.resolve(h);ok(n,m.node(),m.before(),n.steps.length)}return n}function __(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let o=r.index(s);if(r.node(s).canReplaceWith(o,o,t))return r.before(s+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let o=r.indexAfter(s);if(r.node(s).canReplaceWith(o,o,t))return r.after(s+1);if(o<r.node(s).childCount)return null}return null}function uk(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let s=t.content;for(let o=0;o<t.openStart;o++)s=s.firstChild.content;for(let o=1;o<=(t.openStart==0&&t.size?2:1);o++)for(let c=r.depth;c>=0;c--){let u=c==r.depth?0:r.pos<=(r.start(c+1)+r.end(c+1))/2?-1:1,d=r.index(c)+(u>0?1:0),h=r.node(c),m=!1;if(o==1)m=h.canReplace(d,d,s);else{let y=h.contentMatchAt(d).findWrapping(s.firstChild.type);m=y&&h.canReplaceWith(d,d,y[0])}if(m)return u==0?r.pos:u<0?r.before(c+1):r.after(c+1)}return null}function Of(n,e,t=e,r=Z.empty){if(e==t&&!r.size)return null;let s=n.resolve(e),o=n.resolve(t);return fk(s,o,r)?new mt(e,t,r):new I_(s,o,r).fit()}function fk(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class I_{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=K.empty;for(let s=0;s<=e.depth;s++){let o=e.node(s);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=K.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let o=this.placed,c=r.depth,u=s.depth;for(;c&&u&&o.childCount==1;)o=o.firstChild.content,c--,u--;let d=new Z(o,c,u);return e>-1?new yt(r.pos,e,this.$to.pos,this.$to.end(),d,t):d.size||r.pos!=this.$to.pos?new mt(r.pos,s.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let o=t.firstChild;if(t.childCount>1&&(s=0),o.type.spec.isolating&&s<=r){e=r;break}t=o.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let s,o=null;r?(o=Ap(this.unplaced.content,r-1).firstChild,s=o.content):s=this.unplaced.content;let c=s.firstChild;for(let u=this.depth;u>=0;u--){let{type:d,match:h}=this.frontier[u],m,y=null;if(t==1&&(c?h.matchType(c.type)||(y=h.fillBefore(K.from(c),!1)):o&&d.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:u,parent:o,inject:y};if(t==2&&c&&(m=h.findWrapping(c.type)))return{sliceDepth:r,frontierDepth:u,parent:o,wrap:m};if(o&&h.matchType(o.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,s=Ap(e,t);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new Z(e,t+1,Math.max(r,s.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,s=Ap(e,t);if(s.childCount<=1&&t>0){let o=e.size-t<=t+s.size;this.unplaced=new Z(Io(e,t-1,1),t-1,o?t-1:r)}else this.unplaced=new Z(Io(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:s,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let T=0;T<o.length;T++)this.openFrontierNode(o[T]);let c=this.unplaced,u=r?r.content:c.content,d=c.openStart-e,h=0,m=[],{match:y,type:b}=this.frontier[t];if(s){for(let T=0;T<s.childCount;T++)m.push(s.child(T));y=y.matchFragment(s)}let v=u.size+e-(c.content.size-c.openEnd);for(;h<u.childCount;){let T=u.child(h),C=y.matchType(T.type);if(!C)break;h++,(h>1||d==0||T.content.size)&&(y=C,m.push(dk(T.mark(b.allowedMarks(T.marks)),h==1?d:0,h==u.childCount?v:-1)))}let x=h==u.childCount;x||(v=-1),this.placed=Lo(this.placed,t,K.from(m)),this.frontier[t].match=y,x&&v<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let T=0,C=u;T<v;T++){let w=C.lastChild;this.frontier.push({type:w.type,match:w.contentMatchAt(w.childCount)}),C=w.content}this.unplaced=x?e==0?Z.empty:new Z(Io(c.content,e-1,1),e-1,v<0?c.openEnd:e-1):new Z(Io(c.content,e,h),c.openStart,c.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Np(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:s}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),c=Np(e,t,s,r,o);if(c){for(let u=t-1;u>=0;u--){let{match:d,type:h}=this.frontier[u],m=Np(e,u,h,d,!0);if(!m||m.childCount)continue e}return{depth:t,fit:c,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Lo(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let s=e.node(r),o=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,o)}return e}openFrontierNode(e,t=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=Lo(this.placed,this.depth,K.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(K.empty,!0);t.childCount&&(this.placed=Lo(this.placed,this.frontier.length,t))}}function Io(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(Io(n.firstChild.content,e-1,t)))}function Lo(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(Lo(n.lastChild.content,e-1,t)))}function Ap(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function dk(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,dk(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(K.empty,!0)))),n.copy(r)}function Np(n,e,t,r,s){let o=n.node(e),c=s?n.indexAfter(e):n.index(e);if(c==o.childCount&&!t.compatibleContent(o.type))return null;let u=r.fillBefore(o.content,!0,c);return u&&!L_(t,o.content,c)?u:null}function L_(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function z_(n){return n.spec.defining||n.spec.definingForContent}function B_(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let s=n.doc.resolve(e),o=n.doc.resolve(t);if(fk(s,o,r))return n.step(new mt(e,t,r));let c=pk(s,o);c[c.length-1]==0&&c.pop();let u=-(s.depth+1);c.unshift(u);for(let b=s.depth,v=s.pos-1;b>0;b--,v--){let x=s.node(b).type.spec;if(x.defining||x.definingAsContext||x.isolating)break;c.indexOf(b)>-1?u=b:s.before(b)==v&&c.splice(1,0,-b)}let d=c.indexOf(u),h=[],m=r.openStart;for(let b=r.content,v=0;;v++){let x=b.firstChild;if(h.push(x),v==r.openStart)break;b=x.content}for(let b=m-1;b>=0;b--){let v=h[b],x=z_(v.type);if(x&&!v.sameMarkup(s.node(Math.abs(u)-1)))m=b;else if(x||!v.type.isTextblock)break}for(let b=r.openStart;b>=0;b--){let v=(b+m+1)%(r.openStart+1),x=h[v];if(x)for(let T=0;T<c.length;T++){let C=c[(T+d)%c.length],w=!0;C<0&&(w=!1,C=-C);let I=s.node(C-1),j=s.index(C-1);if(I.canReplaceWith(j,j,x.type,x.marks))return n.replace(s.before(C),w?o.after(C):t,new Z(hk(r.content,0,r.openStart,v),v,r.openEnd))}}let y=n.steps.length;for(let b=c.length-1;b>=0&&(n.replace(e,t,r),!(n.steps.length>y));b--){let v=c[b];v<0||(e=s.before(v),t=o.after(v))}}function hk(n,e,t,r,s){if(e<t){let o=n.firstChild;n=n.replaceChild(0,o.copy(hk(o.content,e+1,t,r,o)))}if(e>r){let o=s.contentMatchAt(0),c=o.fillBefore(n).append(n);n=c.append(o.matchFragment(c).fillBefore(K.empty,!0))}return n}function j_(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let s=__(n.doc,e,r.type);s!=null&&(e=t=s)}n.replaceRange(e,t,new Z(K.from(r),0,0))}function U_(n,e,t){let r=n.doc.resolve(e),s=n.doc.resolve(t),o=pk(r,s);for(let c=0;c<o.length;c++){let u=o[c],d=c==o.length-1;if(d&&u==0||r.node(u).type.contentMatch.validEnd)return n.delete(r.start(u),s.end(u));if(u>0&&(d||r.node(u-1).canReplace(r.index(u-1),s.indexAfter(u-1))))return n.delete(r.before(u),s.after(u))}for(let c=1;c<=r.depth&&c<=s.depth;c++)if(e-r.start(c)==r.depth-c&&t>r.end(c)&&s.end(c)-t!=s.depth-c&&r.start(c-1)==s.start(c-1)&&r.node(c-1).canReplace(r.index(c-1),s.index(c-1)))return n.delete(r.before(c),t);n.delete(e,t)}function pk(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let s=r;s>=0;s--){let o=n.start(s);if(o<n.pos-(n.depth-s)||e.end(s)>e.pos+(e.depth-s)||n.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(o==e.start(s)||s==n.depth&&s==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==o-1)&&t.push(s)}return t}class ha extends Ot{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return ct.fail("No node at attribute step's position");let r=Object.create(null);for(let o in t.attrs)r[o]=t.attrs[o];r[this.attr]=this.value;let s=t.type.create(r,null,t.marks);return ct.fromReplace(e,this.pos,this.pos+1,new Z(K.from(s),0,t.isLeaf?0:1))}getMap(){return nn.empty}invert(e){return new ha(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ha(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ha(t.pos,t.attr,t.value)}}Ot.jsonID("attr",ha);class sl extends Ot{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let s in e.attrs)t[s]=e.attrs[s];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return ct.ok(r)}getMap(){return nn.empty}invert(e){return new sl(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new sl(t.attr,t.value)}}Ot.jsonID("docAttr",sl);let ba=class extends Error{};ba=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};ba.prototype=Object.create(Error.prototype);ba.prototype.constructor=ba;ba.prototype.name="TransformError";class mk{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new il}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new ba(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=Z.empty){let s=Of(this.doc,e,t,r);return s&&this.step(s),this}replaceWith(e,t,r){return this.replace(e,t,new Z(K.from(r),0,0))}delete(e,t){return this.replace(e,t,Z.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return B_(this,e,t,r),this}replaceRangeWith(e,t,r){return j_(this,e,t,r),this}deleteRange(e,t){return U_(this,e,t),this}lift(e,t){return k_(this,e,t),this}join(e,t=1){return D_(this,e,t),this}wrap(e,t){return w_(this,e,t),this}setBlockType(e,t=e,r,s=null){return A_(this,e,t,r,s),this}setNodeMarkup(e,t,r=null,s){return M_(this,e,t,r,s),this}setNodeAttribute(e,t,r){return this.step(new ha(e,t,r)),this}setDocAttribute(e,t){return this.step(new sl(e,t)),this}addNodeMark(e,t){return this.step(new di(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof $e)t.isInSet(r.marks)&&this.step(new us(e,t));else{let s=r.marks,o,c=[];for(;o=t.isInSet(s);)c.push(new us(e,o)),s=o.removeFromSet(s);for(let u=c.length-1;u>=0;u--)this.step(c[u])}return this}split(e,t=1,r){return O_(this,e,t,r),this}addMark(e,t,r){return S_(this,e,t,r),this}removeMark(e,t,r){return x_(this,e,t,r),this}clearIncompatible(e,t,r){return fg(this,e,t,r),this}}const Mp=Object.create(null);class ve{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new P_(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=Z.empty){let r=t.content.lastChild,s=null;for(let u=0;u<t.openEnd;u++)s=r,r=r.lastChild;let o=e.steps.length,c=this.ranges;for(let u=0;u<c.length;u++){let{$from:d,$to:h}=c[u],m=e.mapping.slice(o);e.replaceRange(m.map(d.pos),m.map(h.pos),u?Z.empty:t),u==0&&dS(e,o,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,s=this.ranges;for(let o=0;o<s.length;o++){let{$from:c,$to:u}=s[o],d=e.mapping.slice(r),h=d.map(c.pos),m=d.map(u.pos);o?e.deleteRange(h,m):(e.replaceRangeWith(h,m,t),dS(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let s=e.parent.inlineContent?new he(e):ra(e.node(0),e.parent,e.pos,e.index(),t,r);if(s)return s;for(let o=e.depth-1;o>=0;o--){let c=t<0?ra(e.node(0),e.node(o),e.before(o+1),e.index(o),t,r):ra(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,r);if(c)return c}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new rn(e.node(0))}static atStart(e){return ra(e,e,0,0,1)||new rn(e)}static atEnd(e){return ra(e,e,e.content.size,e.childCount,-1)||new rn(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Mp[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Mp)throw new RangeError("Duplicate use of selection JSON ID "+e);return Mp[e]=t,t.prototype.jsonID=e,t}getBookmark(){return he.between(this.$anchor,this.$head).getBookmark()}}ve.prototype.visible=!0;class P_{constructor(e,t){this.$from=e,this.$to=t}}let uS=!1;function fS(n){!uS&&!n.parent.inlineContent&&(uS=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class he extends ve{constructor(e,t=e){fS(e),fS(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return ve.near(r);let s=e.resolve(t.map(this.anchor));return new he(s.parent.inlineContent?s:r,r)}replace(e,t=Z.empty){if(super.replace(e,t),t==Z.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof he&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Rf(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new he(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let s=e.resolve(t);return new this(s,r==t?s:e.resolve(r))}static between(e,t,r){let s=e.pos-t.pos;if((!r||s)&&(r=s>=0?1:-1),!t.parent.inlineContent){let o=ve.findFrom(t,r,!0)||ve.findFrom(t,-r,!0);if(o)t=o.$head;else return ve.near(t,r)}return e.parent.inlineContent||(s==0?e=t:(e=(ve.findFrom(e,-r,!0)||ve.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=s<0&&(e=t))),new he(e,t)}}ve.jsonID("text",he);class Rf{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Rf(e.map(this.anchor),e.map(this.head))}resolve(e){return he.between(e.resolve(this.anchor),e.resolve(this.head))}}class le extends ve{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:s}=t.mapResult(this.anchor),o=e.resolve(s);return r?ve.near(o):new le(o)}content(){return new Z(K.from(this.node),0,0)}eq(e){return e instanceof le&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new hg(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new le(e.resolve(t.anchor))}static create(e,t){return new le(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}le.prototype.visible=!1;ve.jsonID("node",le);class hg{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new Rf(r,r):new hg(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&le.isSelectable(r)?new le(t):ve.near(t)}}class rn extends ve{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=Z.empty){if(t==Z.empty){e.delete(0,e.doc.content.size);let r=ve.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new rn(e)}map(e){return new rn(e)}eq(e){return e instanceof rn}getBookmark(){return H_}}ve.jsonID("all",rn);const H_={map(){return this},resolve(n){return new rn(n)}};function ra(n,e,t,r,s,o=!1){if(e.inlineContent)return he.create(n,t);for(let c=r-(s>0?0:1);s>0?c<e.childCount:c>=0;c+=s){let u=e.child(c);if(u.isAtom){if(!o&&le.isSelectable(u))return le.create(n,t-(s<0?u.nodeSize:0))}else{let d=ra(n,u,t+s,s<0?u.childCount:0,s,o);if(d)return d}t+=u.nodeSize*s}return null}function dS(n,e,t){let r=n.steps.length-1;if(r<e)return;let s=n.steps[r];if(!(s instanceof mt||s instanceof yt))return;let o=n.mapping.maps[r],c;o.forEach((u,d,h,m)=>{c==null&&(c=m)}),n.setSelection(ve.near(n.doc.resolve(c),t))}const hS=1,Jc=2,pS=4;class V_ extends mk{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|hS)&~Jc,this.storedMarks=null,this}get selectionSet(){return(this.updated&hS)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Jc,this}ensureMarks(e){return $e.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Jc)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~Jc,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||$e.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let s=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),!e)return this.deleteRange(t,r);let o=this.storedMarks;if(!o){let c=this.doc.resolve(t);o=r==t?c.marks():c.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,s.text(e,o)),!this.selection.empty&&this.selection.to==t+e.length&&this.setSelection(ve.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=pS,this}get scrolledIntoView(){return(this.updated&pS)>0}}function mS(n,e){return!e||!n?n:n.bind(e)}class zo{constructor(e,t,r){this.name=e,this.init=mS(t.init,r),this.apply=mS(t.apply,r)}}const $_=[new zo("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new zo("selection",{init(n,e){return n.selection||ve.atStart(e.doc)},apply(n){return n.selection}}),new zo("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new zo("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class Op{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=$_.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new zo(r.key,r.spec.state,r))})}}class la{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),s=null;for(;;){let o=!1;for(let c=0;c<this.config.plugins.length;c++){let u=this.config.plugins[c];if(u.spec.appendTransaction){let d=s?s[c].n:0,h=s?s[c].state:this,m=d<t.length&&u.spec.appendTransaction.call(u,d?t.slice(d):t,h,r);if(m&&r.filterTransaction(m,c)){if(m.setMeta("appendedTransaction",e),!s){s=[];for(let y=0;y<this.config.plugins.length;y++)s.push(y<c?{state:r,n:t.length}:{state:this,n:0})}t.push(m),r=r.applyInner(m),o=!0}s&&(s[c]={state:r,n:t.length})}}if(!o)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new la(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let o=r[s];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new V_(this)}static create(e){let t=new Op(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new la(t);for(let s=0;s<t.fields.length;s++)r[t.fields[s].name]=t.fields[s].init(e,r);return r}reconfigure(e){let t=new Op(this.schema,e.plugins),r=t.fields,s=new la(t);for(let o=0;o<r.length;o++){let c=r[o].name;s[c]=this.hasOwnProperty(c)?this[c]:r[o].init(e,s)}return s}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],o=s.spec.state;o&&o.toJSON&&(t[r]=o.toJSON.call(s,this[s.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new Op(e.schema,e.plugins),o=new la(s);return s.fields.forEach(c=>{if(c.name=="doc")o.doc=Mn.fromJSON(e.schema,t.doc);else if(c.name=="selection")o.selection=ve.fromJSON(o.doc,t.selection);else if(c.name=="storedMarks")t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let u in r){let d=r[u],h=d.spec.state;if(d.key==c.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(t,u)){o[c.name]=h.fromJSON.call(d,e,t[u],o);return}}o[c.name]=c.init(e,o)}}),o}}function gk(n,e,t){for(let r in n){let s=n[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=gk(s,e,{})),t[r]=s}return t}class Je{constructor(e){this.spec=e,this.props={},e.props&&gk(e.props,this,this.props),this.key=e.key?e.key.key:yk("plugin")}getState(e){return e[this.key]}}const Rp=Object.create(null);function yk(n){return n in Rp?n+"$"+ ++Rp[n]:(Rp[n]=0,n+"$")}class dt{constructor(e="key"){this.key=yk(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const pg=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function bk(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const vk=(n,e,t)=>{let r=bk(n,t);if(!r)return!1;let s=mg(r);if(!s){let c=r.blockRange(),u=c&&Oa(c);return u==null?!1:(e&&e(n.tr.lift(c,u).scrollIntoView()),!0)}let o=s.nodeBefore;if(Nk(n,s,e,-1))return!0;if(r.parent.content.size==0&&(va(o,"end")||le.isSelectable(o)))for(let c=r.depth;;c--){let u=Of(n.doc,r.before(c),r.after(c),Z.empty);if(u&&u.slice.size<u.to-u.from){if(e){let d=n.tr.step(u);d.setSelection(va(o,"end")?ve.findFrom(d.doc.resolve(d.mapping.map(s.pos,-1)),-1):le.create(d.doc,s.pos-o.nodeSize)),e(d.scrollIntoView())}return!0}if(c==1||r.node(c-1).childCount>1)break}return o.isAtom&&s.depth==r.depth-1?(e&&e(n.tr.delete(s.pos-o.nodeSize,s.pos).scrollIntoView()),!0):!1},q_=(n,e,t)=>{let r=bk(n,t);if(!r)return!1;let s=mg(r);return s?Sk(n,s,e):!1},F_=(n,e,t)=>{let r=Ek(n,t);if(!r)return!1;let s=gg(r);return s?Sk(n,s,e):!1};function Sk(n,e,t){let r=e.nodeBefore,s=r,o=e.pos-1;for(;!s.isTextblock;o--){if(s.type.spec.isolating)return!1;let m=s.lastChild;if(!m)return!1;s=m}let c=e.nodeAfter,u=c,d=e.pos+1;for(;!u.isTextblock;d++){if(u.type.spec.isolating)return!1;let m=u.firstChild;if(!m)return!1;u=m}let h=Of(n.doc,o,d,Z.empty);if(!h||h.from!=o||h instanceof mt&&h.slice.size>=d-o)return!1;if(t){let m=n.tr.step(h);m.setSelection(he.create(m.doc,o)),t(m.scrollIntoView())}return!0}function va(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const xk=(n,e,t)=>{let{$head:r,empty:s}=n.selection,o=r;if(!s)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;o=mg(r)}let c=o&&o.nodeBefore;return!c||!le.isSelectable(c)?!1:(e&&e(n.tr.setSelection(le.create(n.doc,o.pos-c.nodeSize)).scrollIntoView()),!0)};function mg(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function Ek(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const kk=(n,e,t)=>{let r=Ek(n,t);if(!r)return!1;let s=gg(r);if(!s)return!1;let o=s.nodeAfter;if(Nk(n,s,e,1))return!0;if(r.parent.content.size==0&&(va(o,"start")||le.isSelectable(o))){let c=Of(n.doc,r.before(),r.after(),Z.empty);if(c&&c.slice.size<c.to-c.from){if(e){let u=n.tr.step(c);u.setSelection(va(o,"start")?ve.findFrom(u.doc.resolve(u.mapping.map(s.pos)),1):le.create(u.doc,u.mapping.map(s.pos))),e(u.scrollIntoView())}return!0}}return o.isAtom&&s.depth==r.depth-1?(e&&e(n.tr.delete(s.pos,s.pos+o.nodeSize).scrollIntoView()),!0):!1},Tk=(n,e,t)=>{let{$head:r,empty:s}=n.selection,o=r;if(!s)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;o=gg(r)}let c=o&&o.nodeAfter;return!c||!le.isSelectable(c)?!1:(e&&e(n.tr.setSelection(le.create(n.doc,o.pos)).scrollIntoView()),!0)};function gg(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const K_=(n,e)=>{let t=n.selection,r=t instanceof le,s;if(r){if(t.node.isTextblock||!Ai(n.doc,t.from))return!1;s=t.from}else if(s=Mf(n.doc,t.from,-1),s==null)return!1;if(e){let o=n.tr.join(s);r&&o.setSelection(le.create(o.doc,s-n.doc.resolve(s).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},G_=(n,e)=>{let t=n.selection,r;if(t instanceof le){if(t.node.isTextblock||!Ai(n.doc,t.to))return!1;r=t.to}else if(r=Mf(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},Y_=(n,e)=>{let{$from:t,$to:r}=n.selection,s=t.blockRange(r),o=s&&Oa(s);return o==null?!1:(e&&e(n.tr.lift(s,o).scrollIntoView()),!0)},Ck=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function yg(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const W_=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let s=t.node(-1),o=t.indexAfter(-1),c=yg(s.contentMatchAt(o));if(!c||!s.canReplaceWith(o,o,c))return!1;if(e){let u=t.after(),d=n.tr.replaceWith(u,u,c.createAndFill());d.setSelection(ve.near(d.doc.resolve(u),1)),e(d.scrollIntoView())}return!0},wk=(n,e)=>{let t=n.selection,{$from:r,$to:s}=t;if(t instanceof rn||r.parent.inlineContent||s.parent.inlineContent)return!1;let o=yg(s.parent.contentMatchAt(s.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let c=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,u=n.tr.insert(c,o.createAndFill());u.setSelection(he.create(u.doc,c+1)),e(u.scrollIntoView())}return!0},Ak=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let o=t.before();if(Sr(n.doc,o))return e&&e(n.tr.split(o).scrollIntoView()),!0}let r=t.blockRange(),s=r&&Oa(r);return s==null?!1:(e&&e(n.tr.lift(r,s).scrollIntoView()),!0)};function J_(n){return(e,t)=>{let{$from:r,$to:s}=e.selection;if(e.selection instanceof le&&e.selection.node.isBlock)return!r.parentOffset||!Sr(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let o=[],c,u,d=!1,h=!1;for(let v=r.depth;;v--)if(r.node(v).isBlock){d=r.end(v)==r.pos+(r.depth-v),h=r.start(v)==r.pos-(r.depth-v),u=yg(r.node(v-1).contentMatchAt(r.indexAfter(v-1))),o.unshift(d&&u?{type:u}:null),c=v;break}else{if(v==1)return!1;o.unshift(null)}let m=e.tr;(e.selection instanceof he||e.selection instanceof rn)&&m.deleteSelection();let y=m.mapping.map(r.pos),b=Sr(m.doc,y,o.length,o);if(b||(o[0]=u?{type:u}:null,b=Sr(m.doc,y,o.length,o)),!b)return!1;if(m.split(y,o.length,o),!d&&h&&r.node(c).type!=u){let v=m.mapping.map(r.before(c)),x=m.doc.resolve(v);u&&r.node(c-1).canReplaceWith(x.index(),x.index()+1,u)&&m.setNodeMarkup(m.mapping.map(r.before(c)),u)}return t&&t(m.scrollIntoView()),!0}}const X_=J_(),Q_=(n,e)=>{let{$from:t,to:r}=n.selection,s,o=t.sharedDepth(r);return o==0?!1:(s=t.before(o),e&&e(n.tr.setSelection(le.create(n.doc,s))),!0)};function Z_(n,e,t){let r=e.nodeBefore,s=e.nodeAfter,o=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(s.isTextblock||Ai(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function Nk(n,e,t,r){let s=e.nodeBefore,o=e.nodeAfter,c,u,d=s.type.spec.isolating||o.type.spec.isolating;if(!d&&Z_(n,e,t))return!0;let h=!d&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(c=(u=s.contentMatchAt(s.childCount)).findWrapping(o.type))&&u.matchType(c[0]||o.type).validEnd){if(t){let v=e.pos+o.nodeSize,x=K.empty;for(let w=c.length-1;w>=0;w--)x=K.from(c[w].create(null,x));x=K.from(s.copy(x));let T=n.tr.step(new yt(e.pos-1,v,e.pos,v,new Z(x,1,0),c.length,!0)),C=T.doc.resolve(v+2*c.length);C.nodeAfter&&C.nodeAfter.type==s.type&&Ai(T.doc,C.pos)&&T.join(C.pos),t(T.scrollIntoView())}return!0}let m=o.type.spec.isolating||r>0&&d?null:ve.findFrom(e,1),y=m&&m.$from.blockRange(m.$to),b=y&&Oa(y);if(b!=null&&b>=e.depth)return t&&t(n.tr.lift(y,b).scrollIntoView()),!0;if(h&&va(o,"start",!0)&&va(s,"end")){let v=s,x=[];for(;x.push(v),!v.isTextblock;)v=v.lastChild;let T=o,C=1;for(;!T.isTextblock;T=T.firstChild)C++;if(v.canReplace(v.childCount,v.childCount,T.content)){if(t){let w=K.empty;for(let j=x.length-1;j>=0;j--)w=K.from(x[j].copy(w));let I=n.tr.step(new yt(e.pos-x.length,e.pos+o.nodeSize,e.pos+C,e.pos+o.nodeSize-C,new Z(w,x.length,0),0,!0));t(I.scrollIntoView())}return!0}}return!1}function Mk(n){return function(e,t){let r=e.selection,s=n<0?r.$from:r.$to,o=s.depth;for(;s.node(o).isInline;){if(!o)return!1;o--}return s.node(o).isTextblock?(t&&t(e.tr.setSelection(he.create(e.doc,n<0?s.start(o):s.end(o)))),!0):!1}}const e3=Mk(-1),t3=Mk(1);function n3(n,e=null){return function(t,r){let{$from:s,$to:o}=t.selection,c=s.blockRange(o),u=c&&dg(c,n,e);return u?(r&&r(t.tr.wrap(c,u).scrollIntoView()),!0):!1}}function gS(n,e=null){return function(t,r){let s=!1;for(let o=0;o<t.selection.ranges.length&&!s;o++){let{$from:{pos:c},$to:{pos:u}}=t.selection.ranges[o];t.doc.nodesBetween(c,u,(d,h)=>{if(s)return!1;if(!(!d.isTextblock||d.hasMarkup(n,e)))if(d.type==n)s=!0;else{let m=t.doc.resolve(h),y=m.index();s=m.parent.canReplaceWith(y,y+1,n)}})}if(!s)return!1;if(r){let o=t.tr;for(let c=0;c<t.selection.ranges.length;c++){let{$from:{pos:u},$to:{pos:d}}=t.selection.ranges[c];o.setBlockType(u,d,n,e)}r(o.scrollIntoView())}return!0}}function bg(...n){return function(e,t,r){for(let s=0;s<n.length;s++)if(n[s](e,t,r))return!0;return!1}}bg(pg,vk,xk);bg(pg,kk,Tk);bg(Ck,wk,Ak,X_);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function r3(n,e=null){return function(t,r){let{$from:s,$to:o}=t.selection,c=s.blockRange(o);if(!c)return!1;let u=r?t.tr:null;return i3(u,c,n,e)?(r&&r(u.scrollIntoView()),!0):!1}}function i3(n,e,t,r=null){let s=!1,o=e,c=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=c.resolve(e.start-2);o=new Ou(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new Ou(e.$from,c.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let u=dg(o,t,r,e);return u?(n&&s3(n,e,u,s,t),!0):!1}function s3(n,e,t,r,s){let o=K.empty;for(let m=t.length-1;m>=0;m--)o=K.from(t[m].type.create(t[m].attrs,o));n.step(new yt(e.start-(r?2:0),e.end,e.start,e.end,new Z(o,0,0),t.length,!0));let c=0;for(let m=0;m<t.length;m++)t[m].type==s&&(c=m+1);let u=t.length-c,d=e.start+t.length-(r?2:0),h=e.parent;for(let m=e.startIndex,y=e.endIndex,b=!0;m<y;m++,b=!1)!b&&Sr(n.doc,d,u)&&(n.split(d,u),d+=2*u),d+=h.child(m).nodeSize;return n}function a3(n){return function(e,t){let{$from:r,$to:s}=e.selection,o=r.blockRange(s,c=>c.childCount>0&&c.firstChild.type==n);return o?t?r.node(o.depth-1).type==n?o3(e,t,n,o):l3(e,t,o):!0:!1}}function o3(n,e,t,r){let s=n.tr,o=r.end,c=r.$to.end(r.depth);o<c&&(s.step(new yt(o-1,c,o,c,new Z(K.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new Ou(s.doc.resolve(r.$from.pos),s.doc.resolve(c),r.depth));const u=Oa(r);if(u==null)return!1;s.lift(r,u);let d=s.doc.resolve(s.mapping.map(o,-1)-1);return Ai(s.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&s.join(d.pos),e(s.scrollIntoView()),!0}function l3(n,e,t){let r=n.tr,s=t.parent;for(let v=t.end,x=t.endIndex-1,T=t.startIndex;x>T;x--)v-=s.child(x).nodeSize,r.delete(v-1,v+1);let o=r.doc.resolve(t.start),c=o.nodeAfter;if(r.mapping.map(t.end)!=t.start+o.nodeAfter.nodeSize)return!1;let u=t.startIndex==0,d=t.endIndex==s.childCount,h=o.node(-1),m=o.index(-1);if(!h.canReplace(m+(u?0:1),m+1,c.content.append(d?K.empty:K.from(s))))return!1;let y=o.pos,b=y+c.nodeSize;return r.step(new yt(y-(u?1:0),b+(d?1:0),y+1,b-1,new Z((u?K.empty:K.from(s.copy(K.empty))).append(d?K.empty:K.from(s.copy(K.empty))),u?0:1,d?0:1),u?0:1)),e(r.scrollIntoView()),!0}function c3(n){return function(e,t){let{$from:r,$to:s}=e.selection,o=r.blockRange(s,h=>h.childCount>0&&h.firstChild.type==n);if(!o)return!1;let c=o.startIndex;if(c==0)return!1;let u=o.parent,d=u.child(c-1);if(d.type!=n)return!1;if(t){let h=d.lastChild&&d.lastChild.type==u.type,m=K.from(h?n.create():null),y=new Z(K.from(n.create(null,K.from(u.type.create(null,m)))),h?3:1,0),b=o.start,v=o.end;t(e.tr.step(new yt(b-(h?3:1),v,b,v,y,1,!0)).scrollIntoView())}return!0}}const Ct=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Sa=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let vm=null;const mr=function(n,e,t){let r=vm||(vm=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},u3=function(){vm=null},fs=function(n,e,t,r){return t&&(yS(n,e,t,r,-1)||yS(n,e,t,r,1))},f3=/^(img|br|input|textarea|hr)$/i;function yS(n,e,t,r,s){for(var o;;){if(n==t&&e==r)return!0;if(e==(s<0?0:Sn(n))){let c=n.parentNode;if(!c||c.nodeType!=1||Tl(n)||f3.test(n.nodeName)||n.contentEditable=="false")return!1;e=Ct(n)+(s<0?0:1),n=c}else if(n.nodeType==1){let c=n.childNodes[e+(s<0?-1:0)];if(c.nodeType==1&&c.contentEditable=="false")if(!((o=c.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)e+=s;else return!1;else n=c,e=s<0?Sn(n):0}else return!1}}function Sn(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function d3(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=Sn(n)}else if(n.parentNode&&!Tl(n))e=Ct(n),n=n.parentNode;else return null}}function h3(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!Tl(n))e=Ct(n)+1,n=n.parentNode;else return null}}function p3(n,e,t){for(let r=e==0,s=e==Sn(n);r||s;){if(n==t)return!0;let o=Ct(n);if(n=n.parentNode,!n)return!1;r=r&&o==0,s=s&&o==Sn(n)}}function Tl(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const Df=function(n){return n.focusNode&&fs(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function Xi(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function m3(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function g3(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(Sn(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(Sn(r.startContainer),r.startOffset)}}}const Fn=typeof navigator<"u"?navigator:null,bS=typeof document<"u"?document:null,Ni=Fn&&Fn.userAgent||"",Sm=/Edge\/(\d+)/.exec(Ni),Ok=/MSIE \d/.exec(Ni),xm=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ni),Ft=!!(Ok||xm||Sm),bi=Ok?document.documentMode:xm?+xm[1]:Sm?+Sm[1]:0,xn=!Ft&&/gecko\/(\d+)/i.test(Ni);xn&&+(/Firefox\/(\d+)/.exec(Ni)||[0,0])[1];const Em=!Ft&&/Chrome\/(\d+)/.exec(Ni),gt=!!Em,Rk=Em?+Em[1]:0,Mt=!Ft&&!!Fn&&/Apple Computer/.test(Fn.vendor),xa=Mt&&(/Mobile\/\w+/.test(Ni)||!!Fn&&Fn.maxTouchPoints>2),vn=xa||(Fn?/Mac/.test(Fn.platform):!1),Dk=Fn?/Win/.test(Fn.platform):!1,br=/Android \d/.test(Ni),Cl=!!bS&&"webkitFontSmoothing"in bS.documentElement.style,y3=Cl?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function b3(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function fr(n,e){return typeof n=="number"?n:n[e]}function v3(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function vS(n,e,t){let r=n.someProp("scrollThreshold")||0,s=n.someProp("scrollMargin")||5,o=n.dom.ownerDocument;for(let c=t||n.dom;c;){if(c.nodeType!=1){c=Sa(c);continue}let u=c,d=u==o.body,h=d?b3(o):v3(u),m=0,y=0;if(e.top<h.top+fr(r,"top")?y=-(h.top-e.top+fr(s,"top")):e.bottom>h.bottom-fr(r,"bottom")&&(y=e.bottom-e.top>h.bottom-h.top?e.top+fr(s,"top")-h.top:e.bottom-h.bottom+fr(s,"bottom")),e.left<h.left+fr(r,"left")?m=-(h.left-e.left+fr(s,"left")):e.right>h.right-fr(r,"right")&&(m=e.right-h.right+fr(s,"right")),m||y)if(d)o.defaultView.scrollBy(m,y);else{let v=u.scrollLeft,x=u.scrollTop;y&&(u.scrollTop+=y),m&&(u.scrollLeft+=m);let T=u.scrollLeft-v,C=u.scrollTop-x;e={left:e.left-T,top:e.top-C,right:e.right-T,bottom:e.bottom-C}}let b=d?"fixed":getComputedStyle(c).position;if(/^(fixed|sticky)$/.test(b))break;c=b=="absolute"?c.offsetParent:Sa(c)}}function S3(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,s;for(let o=(e.left+e.right)/2,c=t+1;c<Math.min(innerHeight,e.bottom);c+=5){let u=n.root.elementFromPoint(o,c);if(!u||u==n.dom||!n.dom.contains(u))continue;let d=u.getBoundingClientRect();if(d.top>=t-20){r=u,s=d.top;break}}return{refDOM:r,refTop:s,stack:_k(n.dom)}}function _k(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=Sa(r));return e}function x3({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;Ik(t,r==0?0:r-e)}function Ik(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:s,left:o}=n[t];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let ta=null;function E3(n){if(n.setActive)return n.setActive();if(ta)return n.focus(ta);let e=_k(n);n.focus(ta==null?{get preventScroll(){return ta={preventScroll:!0},!0}}:void 0),ta||(ta=!1,Ik(e,0))}function Lk(n,e){let t,r=2e8,s,o=0,c=e.top,u=e.top,d,h;for(let m=n.firstChild,y=0;m;m=m.nextSibling,y++){let b;if(m.nodeType==1)b=m.getClientRects();else if(m.nodeType==3)b=mr(m).getClientRects();else continue;for(let v=0;v<b.length;v++){let x=b[v];if(x.top<=c&&x.bottom>=u){c=Math.max(x.bottom,c),u=Math.min(x.top,u);let T=x.left>e.left?x.left-e.left:x.right<e.left?e.left-x.right:0;if(T<r){t=m,r=T,s=T&&t.nodeType==3?{left:x.right<e.left?x.right:x.left,top:e.top}:e,m.nodeType==1&&T&&(o=y+(e.left>=(x.left+x.right)/2?1:0));continue}}else x.top>e.top&&!d&&x.left<=e.left&&x.right>=e.left&&(d=m,h={left:Math.max(x.left,Math.min(x.right,e.left)),top:x.top});!t&&(e.left>=x.right&&e.top>=x.top||e.left>=x.left&&e.top>=x.bottom)&&(o=y+1)}}return!t&&d&&(t=d,s=h,r=0),t&&t.nodeType==3?k3(t,s):!t||r&&t.nodeType==1?{node:n,offset:o}:Lk(t,s)}function k3(n,e){let t=n.nodeValue.length,r=document.createRange(),s;for(let o=0;o<t;o++){r.setEnd(n,o+1),r.setStart(n,o);let c=ti(r,1);if(c.top!=c.bottom&&vg(e,c)){s={node:n,offset:o+(e.left>=(c.left+c.right)/2?1:0)};break}}return r.detach(),s||{node:n,offset:0}}function vg(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function T3(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function C3(n,e,t){let{node:r,offset:s}=Lk(e,t),o=-1;if(r.nodeType==1&&!r.firstChild){let c=r.getBoundingClientRect();o=c.left!=c.right&&t.left>(c.left+c.right)/2?1:-1}return n.docView.posFromDOM(r,s,o)}function w3(n,e,t,r){let s=-1;for(let o=e,c=!1;o!=n.dom;){let u=n.docView.nearestDesc(o,!0),d;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((d=u.dom.getBoundingClientRect()).width||d.height)&&(u.node.isBlock&&u.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(u.dom.nodeName)&&(!c&&d.left>r.left||d.top>r.top?s=u.posBefore:(!c&&d.right<r.left||d.bottom<r.top)&&(s=u.posAfter),c=!0),!u.contentDOM&&s<0&&!u.node.isText))return(u.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?u.posBefore:u.posAfter;o=u.dom.parentNode}return s>-1?s:n.docView.posFromDOM(e,t,-1)}function zk(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),o=s;;){let c=n.childNodes[o];if(c.nodeType==1){let u=c.getClientRects();for(let d=0;d<u.length;d++){let h=u[d];if(vg(e,h))return zk(c,e,h)}}if((o=(o+1)%r)==s)break}return n}function A3(n,e){let t=n.dom.ownerDocument,r,s=0,o=g3(t,e.left,e.top);o&&({node:r,offset:s}=o);let c=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),u;if(!c||!n.dom.contains(c.nodeType!=1?c.parentNode:c)){let h=n.dom.getBoundingClientRect();if(!vg(e,h)||(c=zk(n.dom,e,h),!c))return null}if(Mt)for(let h=c;r&&h;h=Sa(h))h.draggable&&(r=void 0);if(c=T3(c,e),r){if(xn&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let m=r.childNodes[s],y;m.nodeName=="IMG"&&(y=m.getBoundingClientRect()).right<=e.left&&y.bottom>e.top&&s++}let h;Cl&&s&&r.nodeType==1&&(h=r.childNodes[s-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&s--,r==n.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?u=n.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(u=w3(n,r,s,e))}u==null&&(u=C3(n,c,e));let d=n.docView.nearestDesc(c,!0);return{pos:u,inside:d?d.posAtStart-d.border:-1}}function SS(n){return n.top<n.bottom||n.left<n.right}function ti(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(SS(r))return r}return Array.prototype.find.call(t,SS)||n.getBoundingClientRect()}const N3=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Bk(n,e,t){let{node:r,offset:s,atom:o}=n.docView.domFromPos(e,t<0?-1:1),c=Cl||xn;if(r.nodeType==3)if(c&&(N3.test(r.nodeValue)||(t<0?!s:s==r.nodeValue.length))){let d=ti(mr(r,s,s),t);if(xn&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let h=ti(mr(r,s-1,s-1),-1);if(h.top==d.top){let m=ti(mr(r,s,s+1),-1);if(m.top!=d.top)return Mo(m,m.left<h.left)}}return d}else{let d=s,h=s,m=t<0?1:-1;return t<0&&!s?(h++,m=-1):t>=0&&s==r.nodeValue.length?(d--,m=1):t<0?d--:h++,Mo(ti(mr(r,d,h),m),m<0)}if(!n.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&s&&(t<0||s==Sn(r))){let d=r.childNodes[s-1];if(d.nodeType==1)return Dp(d.getBoundingClientRect(),!1)}if(o==null&&s<Sn(r)){let d=r.childNodes[s];if(d.nodeType==1)return Dp(d.getBoundingClientRect(),!0)}return Dp(r.getBoundingClientRect(),t>=0)}if(o==null&&s&&(t<0||s==Sn(r))){let d=r.childNodes[s-1],h=d.nodeType==3?mr(d,Sn(d)-(c?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(h)return Mo(ti(h,1),!1)}if(o==null&&s<Sn(r)){let d=r.childNodes[s];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let h=d?d.nodeType==3?mr(d,0,c?0:1):d.nodeType==1?d:null:null;if(h)return Mo(ti(h,-1),!0)}return Mo(ti(r.nodeType==3?mr(r):r,-t),t>=0)}function Mo(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function Dp(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function jk(n,e,t){let r=n.state,s=n.root.activeElement;r!=e&&n.updateState(e),s!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),s!=n.dom&&s&&s.focus()}}function M3(n,e,t){let r=e.selection,s=t=="up"?r.$from:r.$to;return jk(n,e,()=>{let{node:o}=n.docView.domFromPos(s.pos,t=="up"?-1:1);for(;;){let u=n.docView.nearestDesc(o,!0);if(!u)break;if(u.node.isBlock){o=u.contentDOM||u.dom;break}o=u.dom.parentNode}let c=Bk(n,s.pos,1);for(let u=o.firstChild;u;u=u.nextSibling){let d;if(u.nodeType==1)d=u.getClientRects();else if(u.nodeType==3)d=mr(u,0,u.nodeValue.length).getClientRects();else continue;for(let h=0;h<d.length;h++){let m=d[h];if(m.bottom>m.top+1&&(t=="up"?c.top-m.top>(m.bottom-c.top)*2:m.bottom-c.bottom>(c.bottom-m.top)*2))return!1}}return!0})}const O3=/[\u0590-\u08ac]/;function R3(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,o=!s,c=s==r.parent.content.size,u=n.domSelection();return u?!O3.test(r.parent.textContent)||!u.modify?t=="left"||t=="backward"?o:c:jk(n,e,()=>{let{focusNode:d,focusOffset:h,anchorNode:m,anchorOffset:y}=n.domSelectionRange(),b=u.caretBidiLevel;u.modify("move",t,"character");let v=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:x,focusOffset:T}=n.domSelectionRange(),C=x&&!v.contains(x.nodeType==1?x:x.parentNode)||d==x&&h==T;try{u.collapse(m,y),d&&(d!=m||h!=y)&&u.extend&&u.extend(d,h)}catch{}return b!=null&&(u.caretBidiLevel=b),C}):r.pos==r.start()||r.pos==r.end()}let xS=null,ES=null,kS=!1;function D3(n,e,t){return xS==e&&ES==t?kS:(xS=e,ES=t,kS=t=="up"||t=="down"?M3(n,e,t):R3(n,e,t))}const En=0,TS=1,Qi=2,Kn=3;class wl{constructor(e,t,r,s){this.parent=e,this.children=t,this.dom=r,this.contentDOM=s,this.dirty=En,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let s=this.children[t];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,c;if(e==this.contentDOM)o=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((c=o.pmViewDesc)&&c.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(c)+c.size:this.posAtStart}else{let o,c;if(e==this.contentDOM)o=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((c=o.pmViewDesc)&&c.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(c):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=t>Ct(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let o=e;;o=o.parentNode){if(o==this.dom){s=!1;break}if(o.previousSibling)break}if(s==null&&t==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){s=!0;break}if(o.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,s=e;s;s=s.parentNode){let o=this.getDesc(s),c;if(o&&(!t||o.node))if(r&&(c=o.nodeDOM)&&!(c.nodeType==1?c.contains(e.nodeType==1?e:e.parentNode):c==e))r=!1;else return o}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let s=e;s;s=s.parentNode){let o=this.getDesc(s);if(o)return o.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let s=this.children[t],o=r+s.size;if(r==e&&o!=r){for(;!s.border&&s.children.length;)for(let c=0;c<s.children.length;c++){let u=s.children[c];if(u.size){s=u;break}}return s}if(e<o)return s.descAt(e-r-s.border);r=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let o=0;r<this.children.length;r++){let c=this.children[r],u=o+c.size;if(u>e||c instanceof Pk){s=e-o;break}o=u}if(s)return this.children[r].domFromPos(s-this.children[r].border,t);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof Uk&&o.side>=0;r--);if(t<=0){let o,c=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,c=!1);return o&&t&&c&&!o.border&&!o.domAtom?o.domFromPos(o.size,t):{node:this.contentDOM,offset:o?Ct(o.dom)+1:0}}else{let o,c=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,c=!1);return o&&c&&!o.border&&!o.domAtom?o.domFromPos(0,t):{node:this.contentDOM,offset:o?Ct(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,o=-1;for(let c=r,u=0;;u++){let d=this.children[u],h=c+d.size;if(s==-1&&e<=h){let m=c+d.border;if(e>=m&&t<=h-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,t,m);e=c;for(let y=u;y>0;y--){let b=this.children[y-1];if(b.size&&b.dom.parentNode==this.contentDOM&&!b.emptyChildAt(1)){s=Ct(b.dom)+1;break}e-=b.size}s==-1&&(s=0)}if(s>-1&&(h>t||u==this.children.length-1)){t=h;for(let m=u+1;m<this.children.length;m++){let y=this.children[m];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(-1)){o=Ct(y.dom);break}t+=y.size}o==-1&&(o=this.contentDOM.childNodes.length);break}c=h}return{node:this.contentDOM,from:e,to:t,fromOffset:s,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,s=!1){let o=Math.min(e,t),c=Math.max(e,t);for(let v=0,x=0;v<this.children.length;v++){let T=this.children[v],C=x+T.size;if(o>x&&c<C)return T.setSelection(e-x-T.border,t-x-T.border,r,s);x=C}let u=this.domFromPos(e,e?-1:1),d=t==e?u:this.domFromPos(t,t?-1:1),h=r.root.getSelection(),m=r.domSelectionRange(),y=!1;if((xn||Mt)&&e==t){let{node:v,offset:x}=u;if(v.nodeType==3){if(y=!!(x&&v.nodeValue[x-1]==`
`),y&&x==v.nodeValue.length)for(let T=v,C;T;T=T.parentNode){if(C=T.nextSibling){C.nodeName=="BR"&&(u=d={node:C.parentNode,offset:Ct(C)+1});break}let w=T.pmViewDesc;if(w&&w.node&&w.node.isBlock)break}}else{let T=v.childNodes[x-1];y=T&&(T.nodeName=="BR"||T.contentEditable=="false")}}if(xn&&m.focusNode&&m.focusNode!=d.node&&m.focusNode.nodeType==1){let v=m.focusNode.childNodes[m.focusOffset];v&&v.contentEditable=="false"&&(s=!0)}if(!(s||y&&Mt)&&fs(u.node,u.offset,m.anchorNode,m.anchorOffset)&&fs(d.node,d.offset,m.focusNode,m.focusOffset))return;let b=!1;if((h.extend||e==t)&&!(y&&xn)){h.collapse(u.node,u.offset);try{e!=t&&h.extend(d.node,d.offset),b=!0}catch{}}if(!b){if(e>t){let x=u;u=d,d=x}let v=document.createRange();v.setEnd(d.node,d.offset),v.setStart(u.node,u.offset),h.removeAllRanges(),h.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,s=0;s<this.children.length;s++){let o=this.children[s],c=r+o.size;if(r==c?e<=c&&t>=r:e<c&&t>r){let u=r+o.border,d=c-o.border;if(e>=u&&t<=d){this.dirty=e==r||t==c?Qi:TS,e==u&&t==d&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Kn:o.markDirty(e-u,t-u);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Qi:Kn}r=c}this.dirty=Qi}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?Qi:TS;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class Uk extends wl{constructor(e,t,r,s){let o,c=t.type.toDOM;if(typeof c=="function"&&(c=c(r,()=>{if(!o)return s;if(o.parent)return o.parent.posBeforeChild(o)})),!t.type.spec.raw){if(c.nodeType!=1){let u=document.createElement("span");u.appendChild(c),c=u}c.contentEditable="false",c.classList.add("ProseMirror-widget")}super(e,[],c,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return this.dirty==En&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class _3 extends wl{constructor(e,t,r,s){super(e,[],t,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class ds extends wl{constructor(e,t,r,s,o){super(e,[],r,s),this.mark=t,this.spec=o}static create(e,t,r,s){let o=s.nodeViews[t.type.name],c=o&&o(t,s,r);return(!c||!c.dom)&&(c=gs.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new ds(e,t,c.dom,c.contentDOM||c.dom,c)}parseRule(){return this.dirty&Kn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Kn&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=En){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=En}}slice(e,t,r){let s=ds.create(this.parent,this.mark,!0,r),o=this.children,c=this.size;t<c&&(o=Tm(o,t,c,r)),e>0&&(o=Tm(o,0,e,r));for(let u=0;u<o.length;u++)o[u].parent=s;return s.children=o,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class vi extends wl{constructor(e,t,r,s,o,c,u,d,h){super(e,[],o,c),this.node=t,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=u}static create(e,t,r,s,o,c){let u=o.nodeViews[t.type.name],d,h=u&&u(t,o,()=>{if(!d)return c;if(d.parent)return d.parent.posBeforeChild(d)},r,s),m=h&&h.dom,y=h&&h.contentDOM;if(t.isText){if(!m)m=document.createTextNode(t.text);else if(m.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else m||({dom:m,contentDOM:y}=gs.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!y&&!t.isText&&m.nodeName!="BR"&&(m.hasAttribute("contenteditable")||(m.contentEditable="false"),t.type.spec.draggable&&(m.draggable=!0));let b=m;return m=$k(m,r,t),h?d=new I3(e,t,r,s,m,y||null,b,h,o,c+1):t.isText?new _f(e,t,r,s,m,b,o):new vi(e,t,r,s,m,y||null,b,o,c+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>K.empty)}return e}matchesNode(e,t,r){return this.dirty==En&&e.eq(this.node)&&Du(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,s=t,o=e.composing?this.localCompositionInfo(e,t):null,c=o&&o.pos>-1?o:null,u=o&&o.pos<0,d=new z3(this,c&&c.node,e);U3(this.node,this.innerDeco,(h,m,y)=>{h.spec.marks?d.syncToMarks(h.spec.marks,r,e):h.type.side>=0&&!y&&d.syncToMarks(m==this.node.childCount?$e.none:this.node.child(m).marks,r,e),d.placeWidget(h,e,s)},(h,m,y,b)=>{d.syncToMarks(h.marks,r,e);let v;d.findNodeMatch(h,m,y,b)||u&&e.state.selection.from>s&&e.state.selection.to<s+h.nodeSize&&(v=d.findIndexWithChild(o.node))>-1&&d.updateNodeAt(h,m,y,v,e)||d.updateNextNode(h,m,y,e,b,s)||d.addNode(h,m,y,e,s),s+=h.nodeSize}),d.syncToMarks([],r,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==Qi)&&(c&&this.protectLocalComposition(e,c),Hk(this.contentDOM,this.children,e),xa&&P3(this.dom))}localCompositionInfo(e,t){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof he)||r<t||s>t+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let c=o.nodeValue,u=H3(this.node.content,c,r-t,s-t);return u<0?null:{node:o,pos:u,text:c}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:s}){if(this.getDesc(t))return;let o=t;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let c=new _3(this,o,t,s);e.input.compositionNodes.push(c),this.children=Tm(this.children,r,r+s.length,e,c)}update(e,t,r,s){return this.dirty==Kn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,s),!0)}updateInner(e,t,r,s){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=En}updateOuterDeco(e){if(Du(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=Vk(this.dom,this.nodeDOM,km(this.outerDeco,this.node,t),km(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function CS(n,e,t,r,s){$k(r,e,n);let o=new vi(void 0,n,e,t,r,r,r,s,0);return o.contentDOM&&o.updateChildren(s,0),o}class _f extends vi{constructor(e,t,r,s,o,c,u){super(e,t,r,s,o,null,c,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,s){return this.dirty==Kn||this.dirty!=En&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=En||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=En,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let s=this.node.cut(e,t),o=document.createTextNode(s.text);return new _f(this.parent,s,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=Kn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class Pk extends wl{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==En&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class I3 extends vi{constructor(e,t,r,s,o,c,u,d,h,m){super(e,t,r,s,o,c,u,h,m),this.spec=d}update(e,t,r,s){if(this.dirty==Kn)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,t,r);return o&&this.updateInner(e,t,r,s),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,s){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Hk(n,e,t){let r=n.firstChild,s=!1;for(let o=0;o<e.length;o++){let c=e[o],u=c.dom;if(u.parentNode==n){for(;u!=r;)r=wS(r),s=!0;r=r.nextSibling}else s=!0,n.insertBefore(u,r);if(c instanceof ds){let d=r?r.previousSibling:n.lastChild;Hk(c.contentDOM,c.children,t),r=d?d.nextSibling:n.firstChild}}for(;r;)r=wS(r),s=!0;s&&t.trackWrites==n&&(t.trackWrites=null)}const Vo=function(n){n&&(this.nodeName=n)};Vo.prototype=Object.create(null);const Zi=[new Vo];function km(n,e,t){if(n.length==0)return Zi;let r=t?Zi[0]:new Vo,s=[r];for(let o=0;o<n.length;o++){let c=n[o].type.attrs;if(c){c.nodeName&&s.push(r=new Vo(c.nodeName));for(let u in c){let d=c[u];d!=null&&(t&&s.length==1&&s.push(r=new Vo(e.isInline?"span":"div")),u=="class"?r.class=(r.class?r.class+" ":"")+d:u=="style"?r.style=(r.style?r.style+";":"")+d:u!="nodeName"&&(r[u]=d))}}}return s}function Vk(n,e,t,r){if(t==Zi&&r==Zi)return e;let s=e;for(let o=0;o<r.length;o++){let c=r[o],u=t[o];if(o){let d;u&&u.nodeName==c.nodeName&&s!=n&&(d=s.parentNode)&&d.nodeName.toLowerCase()==c.nodeName||(d=document.createElement(c.nodeName),d.pmIsDeco=!0,d.appendChild(s),u=Zi[0]),s=d}L3(s,u||Zi[0],c)}return s}function L3(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=t.class?t.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)s.indexOf(r[o])==-1&&n.classList.remove(r[o]);for(let o=0;o<s.length;o++)r.indexOf(s[o])==-1&&n.classList.add(s[o]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)n.style.removeProperty(s[1])}t.style&&(n.style.cssText+=t.style)}}function $k(n,e,t){return Vk(n,n,Zi,km(e,t,n.nodeType!=1))}function Du(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function wS(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class z3{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=B3(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let s=0,o=this.stack.length>>1,c=Math.min(o,e.length);for(;s<c&&(s==o-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<o;)this.destroyRest(),this.top.dirty=En,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let h=this.top.children[d];if(h.matchesMark(e[o])&&!this.isLocked(h.dom)){u=d;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let d=ds.create(this.top,e[o],t,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,r,s){let o=-1,c;if(s>=this.preMatch.index&&(c=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&c.matchesNode(e,t,r))o=this.top.children.indexOf(c,this.index);else for(let u=this.index,d=Math.min(this.top.children.length,u+5);u<d;u++){let h=this.top.children[u];if(h.matchesNode(e,t,r)&&!this.preMatch.matched.has(h)){o=u;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,t,r,s,o){let c=this.top.children[s];return c.dirty==Kn&&c.dom==c.contentDOM&&(c.dirty=Qi),c.update(e,t,r,o)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=t}}updateNextNode(e,t,r,s,o,c){for(let u=this.index;u<this.top.children.length;u++){let d=this.top.children[u];if(d instanceof vi){let h=this.preMatch.matched.get(d);if(h!=null&&h!=o)return!1;let m=d.dom,y,b=this.isLocked(m)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=Kn&&Du(t,d.outerDeco));if(!b&&d.update(e,t,r,s))return this.destroyBetween(this.index,u),d.dom!=m&&(this.changed=!0),this.index++,!0;if(!b&&(y=this.recreateWrapper(d,e,t,r,s,c)))return this.destroyBetween(this.index,u),this.top.children[this.index]=y,y.contentDOM&&(y.dirty=Qi,y.updateChildren(s,c+1),y.dirty=En),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,s,o,c){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!Du(r,e.outerDeco)||!s.eq(e.innerDeco))return null;let u=vi.create(this.top,t,r,s,o,c);if(u.contentDOM){u.children=e.children,e.children=[];for(let d of u.children)d.parent=u}return e.destroy(),u}addNode(e,t,r,s,o){let c=vi.create(this.top,e,t,r,s,o);c.contentDOM&&c.updateChildren(s,o+1),this.top.children.splice(this.index++,0,c),this.changed=!0}placeWidget(e,t,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let o=new Uk(this.top,e,t,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof ds;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof _f)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Mt||gt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new Pk(this.top,[],r,null);t!=this.top?t.children.push(s):t.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function B3(n,e){let t=e,r=t.children.length,s=n.childCount,o=new Map,c=[];e:for(;s>0;){let u;for(;;)if(r){let h=t.children[r-1];if(h instanceof ds)t=h,r=h.children.length;else{u=h,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let d=u.node;if(d){if(d!=n.child(s-1))break;--s,o.set(u,s),c.push(u)}}return{index:s,matched:o,matches:c.reverse()}}function j3(n,e){return n.type.side-e.type.side}function U3(n,e,t,r){let s=e.locals(n),o=0;if(s.length==0){for(let h=0;h<n.childCount;h++){let m=n.child(h);r(m,s,e.forChild(o,m),h),o+=m.nodeSize}return}let c=0,u=[],d=null;for(let h=0;;){let m,y;for(;c<s.length&&s[c].to==o;){let C=s[c++];C.widget&&(m?(y||(y=[m])).push(C):m=C)}if(m)if(y){y.sort(j3);for(let C=0;C<y.length;C++)t(y[C],h,!!d)}else t(m,h,!!d);let b,v;if(d)v=-1,b=d,d=null;else if(h<n.childCount)v=h,b=n.child(h++);else break;for(let C=0;C<u.length;C++)u[C].to<=o&&u.splice(C--,1);for(;c<s.length&&s[c].from<=o&&s[c].to>o;)u.push(s[c++]);let x=o+b.nodeSize;if(b.isText){let C=x;c<s.length&&s[c].from<C&&(C=s[c].from);for(let w=0;w<u.length;w++)u[w].to<C&&(C=u[w].to);C<x&&(d=b.cut(C-o),b=b.cut(0,C-o),x=C,v=-1)}else for(;c<s.length&&s[c].to<x;)c++;let T=b.isInline&&!b.isLeaf?u.filter(C=>!C.inline):u.slice();r(b,T,e.forChild(o,b),v),o=x}}function P3(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function H3(n,e,t,r){for(let s=0,o=0;s<n.childCount&&o<=r;){let c=n.child(s++),u=o;if(o+=c.nodeSize,!c.isText)continue;let d=c.text;for(;s<n.childCount;){let h=n.child(s++);if(o+=h.nodeSize,!h.isText)break;d+=h.text}if(o>=t){if(o>=r&&d.slice(r-e.length-u,r-u)==e)return r-e.length;let h=u<r?d.lastIndexOf(e,r-u-1):-1;if(h>=0&&h+e.length+u>=t)return u+h;if(t==r&&d.length>=r+e.length-u&&d.slice(r-u,r-u+e.length)==e)return r}}return-1}function Tm(n,e,t,r,s){let o=[];for(let c=0,u=0;c<n.length;c++){let d=n[c],h=u,m=u+=d.size;h>=t||m<=e?o.push(d):(h<e&&o.push(d.slice(0,e-h,r)),s&&(o.push(s),s=void 0),m>t&&o.push(d.slice(t-h,d.size,r)))}return o}function Sg(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let s=n.docView.nearestDesc(t.focusNode),o=s&&s.size==0,c=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(c<0)return null;let u=r.resolve(c),d,h;if(Df(t)){for(d=c;s&&!s.node;)s=s.parent;let y=s.node;if(s&&y.isAtom&&le.isSelectable(y)&&s.parent&&!(y.isInline&&p3(t.focusNode,t.focusOffset,s.dom))){let b=s.posBefore;h=new le(c==b?u:r.resolve(b))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let y=c,b=c;for(let v=0;v<t.rangeCount;v++){let x=t.getRangeAt(v);y=Math.min(y,n.docView.posFromDOM(x.startContainer,x.startOffset,1)),b=Math.max(b,n.docView.posFromDOM(x.endContainer,x.endOffset,-1))}if(y<0)return null;[d,c]=b==n.state.selection.anchor?[b,y]:[y,b],u=r.resolve(c)}else d=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(d<0)return null}let m=r.resolve(d);if(!h){let y=e=="pointer"||n.state.selection.head<u.pos&&!o?1:-1;h=xg(n,m,u,y)}return h}function qk(n){return n.editable?n.hasFocus():Kk(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function xr(n,e=!1){let t=n.state.selection;if(Fk(n,t),!!qk(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&gt){let r=n.domSelectionRange(),s=n.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&fs(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)$3(n);else{let{anchor:r,head:s}=t,o,c;AS&&!(t instanceof he)&&(t.$from.parent.inlineContent||(o=NS(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(c=NS(n,t.to))),n.docView.setSelection(r,s,n,e),AS&&(o&&MS(o),c&&MS(c)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&V3(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const AS=Mt||gt&&Rk<63;function NS(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),s=r<t.childNodes.length?t.childNodes[r]:null,o=r?t.childNodes[r-1]:null;if(Mt&&s&&s.contentEditable=="false")return _p(s);if((!s||s.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(s)return _p(s);if(o)return _p(o)}}function _p(n){return n.contentEditable="true",Mt&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function MS(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function V3(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,s=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=s)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!qk(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function $3(n){let e=n.domSelection();if(!e)return;let t=n.cursorWrapper.dom,r=t.nodeName=="IMG";r?e.collapse(t.parentNode,Ct(t)+1):e.collapse(t,0),!r&&!n.state.selection.visible&&Ft&&bi<=11&&(t.disabled=!0,t.disabled=!1)}function Fk(n,e){if(e instanceof le){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(OS(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else OS(n)}function OS(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function xg(n,e,t,r){return n.someProp("createSelectionBetween",s=>s(n,e,t))||he.between(e,t,r)}function RS(n){return n.editable&&!n.hasFocus()?!1:Kk(n)}function Kk(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function q3(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return fs(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Cm(n,e){let{$anchor:t,$head:r}=n.selection,s=e>0?t.max(r):t.min(r),o=s.parent.inlineContent?s.depth?n.doc.resolve(e>0?s.after():s.before()):null:s;return o&&ve.findFrom(o,e)}function ni(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function DS(n,e,t){let r=n.state.selection;if(r instanceof he)if(t.indexOf("s")>-1){let{$head:s}=r,o=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let c=n.state.doc.resolve(s.pos+o.nodeSize*(e<0?-1:1));return ni(n,new he(r.$anchor,c))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let s=Cm(n.state,e);return s&&s instanceof le?ni(n,s):!1}else if(!(vn&&t.indexOf("m")>-1)){let s=r.$head,o=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,c;if(!o||o.isText)return!1;let u=e<0?s.pos-o.nodeSize:s.pos;return o.isAtom||(c=n.docView.descAt(u))&&!c.contentDOM?le.isSelectable(o)?ni(n,new le(e<0?n.state.doc.resolve(s.pos-o.nodeSize):s)):Cl?ni(n,new he(n.state.doc.resolve(e<0?u:u+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof le&&r.node.isInline)return ni(n,new he(e>0?r.$to:r.$from));{let s=Cm(n.state,e);return s?ni(n,s):!1}}}function _u(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function $o(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function na(n,e){return e<0?F3(n):K3(n)}function F3(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let s,o,c=!1;for(xn&&t.nodeType==1&&r<_u(t)&&$o(t.childNodes[r],-1)&&(c=!0);;)if(r>0){if(t.nodeType!=1)break;{let u=t.childNodes[r-1];if($o(u,-1))s=t,o=--r;else if(u.nodeType==3)t=u,r=t.nodeValue.length;else break}}else{if(Gk(t))break;{let u=t.previousSibling;for(;u&&$o(u,-1);)s=t.parentNode,o=Ct(u),u=u.previousSibling;if(u)t=u,r=_u(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}c?wm(n,t,r):s&&wm(n,s,o)}function K3(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let s=_u(t),o,c;for(;;)if(r<s){if(t.nodeType!=1)break;let u=t.childNodes[r];if($o(u,1))o=t,c=++r;else break}else{if(Gk(t))break;{let u=t.nextSibling;for(;u&&$o(u,1);)o=u.parentNode,c=Ct(u)+1,u=u.nextSibling;if(u)t=u,r=0,s=_u(t);else{if(t=t.parentNode,t==n.dom)break;r=s=0}}}o&&wm(n,o,c)}function Gk(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function G3(n,e){for(;n&&e==n.childNodes.length&&!Tl(n);)e=Ct(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function Y3(n,e){for(;n&&!e&&!Tl(n);)e=Ct(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function wm(n,e,t){if(e.nodeType!=3){let o,c;(c=G3(e,t))?(e=c,t=0):(o=Y3(e,t))&&(e=o,t=o.nodeValue.length)}let r=n.domSelection();if(!r)return;if(Df(r)){let o=document.createRange();o.setEnd(e,t),o.setStart(e,t),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:s}=n;setTimeout(()=>{n.state==s&&xr(n)},50)}function _S(n,e){let t=n.state.doc.resolve(e);if(!(gt||Dk)&&t.parent.inlineContent){let s=n.coordsAtPos(e);if(e>t.start()){let o=n.coordsAtPos(e-1),c=(o.top+o.bottom)/2;if(c>s.top&&c<s.bottom&&Math.abs(o.left-s.left)>1)return o.left<s.left?"ltr":"rtl"}if(e<t.end()){let o=n.coordsAtPos(e+1),c=(o.top+o.bottom)/2;if(c>s.top&&c<s.bottom&&Math.abs(o.left-s.left)>1)return o.left>s.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function IS(n,e,t){let r=n.state.selection;if(r instanceof he&&!r.empty||t.indexOf("s")>-1||vn&&t.indexOf("m")>-1)return!1;let{$from:s,$to:o}=r;if(!s.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let c=Cm(n.state,e);if(c&&c instanceof le)return ni(n,c)}if(!s.parent.inlineContent){let c=e<0?s:o,u=r instanceof rn?ve.near(c,e):ve.findFrom(c,e);return u?ni(n,u):!1}return!1}function LS(n,e){if(!(n.state.selection instanceof he))return!0;let{$head:t,$anchor:r,empty:s}=n.state.selection;if(!t.sameParent(r))return!0;if(!s)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(o&&!o.isText){let c=n.state.tr;return e<0?c.delete(t.pos-o.nodeSize,t.pos):c.delete(t.pos,t.pos+o.nodeSize),n.dispatch(c),!0}return!1}function zS(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function W3(n){if(!Mt||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;zS(n,r,"true"),setTimeout(()=>zS(n,r,"false"),20)}return!1}function J3(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function X3(n,e){let t=e.keyCode,r=J3(e);if(t==8||vn&&t==72&&r=="c")return LS(n,-1)||na(n,-1);if(t==46&&!e.shiftKey||vn&&t==68&&r=="c")return LS(n,1)||na(n,1);if(t==13||t==27)return!0;if(t==37||vn&&t==66&&r=="c"){let s=t==37?_S(n,n.state.selection.from)=="ltr"?-1:1:-1;return DS(n,s,r)||na(n,s)}else if(t==39||vn&&t==70&&r=="c"){let s=t==39?_S(n,n.state.selection.from)=="ltr"?1:-1:1;return DS(n,s,r)||na(n,s)}else{if(t==38||vn&&t==80&&r=="c")return IS(n,-1,r)||na(n,-1);if(t==40||vn&&t==78&&r=="c")return W3(n)||IS(n,1,r)||na(n,1);if(r==(vn?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function Eg(n,e){n.someProp("transformCopied",v=>{e=v(e,n)});let t=[],{content:r,openStart:s,openEnd:o}=e;for(;s>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,o--;let v=r.firstChild;t.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),r=v.content}let c=n.someProp("clipboardSerializer")||gs.fromSchema(n.state.schema),u=Zk(),d=u.createElement("div");d.appendChild(c.serializeFragment(r,{document:u}));let h=d.firstChild,m,y=0;for(;h&&h.nodeType==1&&(m=Qk[h.nodeName.toLowerCase()]);){for(let v=m.length-1;v>=0;v--){let x=u.createElement(m[v]);for(;d.firstChild;)x.appendChild(d.firstChild);d.appendChild(x),y++}h=d.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${s} ${o}${y?` -${y}`:""} ${JSON.stringify(t)}`);let b=n.someProp("clipboardTextSerializer",v=>v(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:b,slice:e}}function Yk(n,e,t,r,s){let o=s.parent.type.spec.code,c,u;if(!t&&!e)return null;let d=!!e&&(r||o||!t);if(d){if(n.someProp("transformPastedText",b=>{e=b(e,o||r,n)}),o)return u=new Z(K.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),n.someProp("transformPasted",b=>{u=b(u,n,!0)}),u;let y=n.someProp("clipboardTextParser",b=>b(e,s,r,n));if(y)u=y;else{let b=s.marks(),{schema:v}=n.state,x=gs.fromSchema(v);c=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(T=>{let C=c.appendChild(document.createElement("p"));T&&C.appendChild(x.serializeNode(v.text(T,b)))})}}else n.someProp("transformPastedHTML",y=>{t=y(t,n)}),c=tI(t),Cl&&nI(c);let h=c&&c.querySelector("[data-pm-slice]"),m=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(m&&m[3])for(let y=+m[3];y>0;y--){let b=c.firstChild;for(;b&&b.nodeType!=1;)b=b.nextSibling;if(!b)break;c=b}if(u||(u=(n.someProp("clipboardParser")||n.someProp("domParser")||yi.fromSchema(n.state.schema)).parseSlice(c,{preserveWhitespace:!!(d||m),context:s,ruleFromNode(b){return b.nodeName=="BR"&&!b.nextSibling&&b.parentNode&&!Q3.test(b.parentNode.nodeName)?{ignore:!0}:null}})),m)u=rI(BS(u,+m[1],+m[2]),m[4]);else if(u=Z.maxOpen(Z3(u.content,s),!0),u.openStart||u.openEnd){let y=0,b=0;for(let v=u.content.firstChild;y<u.openStart&&!v.type.spec.isolating;y++,v=v.firstChild);for(let v=u.content.lastChild;b<u.openEnd&&!v.type.spec.isolating;b++,v=v.lastChild);u=BS(u,y,b)}return n.someProp("transformPasted",y=>{u=y(u,n,d)}),u}const Q3=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Z3(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let s=e.node(t).contentMatchAt(e.index(t)),o,c=[];if(n.forEach(u=>{if(!c)return;let d=s.findWrapping(u.type),h;if(!d)return c=null;if(h=c.length&&o.length&&Jk(d,o,u,c[c.length-1],0))c[c.length-1]=h;else{c.length&&(c[c.length-1]=Xk(c[c.length-1],o.length));let m=Wk(u,d);c.push(m),s=s.matchType(m.type),o=d}}),c)return K.from(c)}return n}function Wk(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,K.from(n));return n}function Jk(n,e,t,r,s){if(s<n.length&&s<e.length&&n[s]==e[s]){let o=Jk(n,e,t,r.lastChild,s+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(s==n.length-1?t.type:n[s+1]))return r.copy(r.content.append(K.from(Wk(t,n,s+1))))}}function Xk(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,Xk(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(K.empty,!0);return n.copy(t.append(r))}function Am(n,e,t,r,s,o){let c=e<0?n.firstChild:n.lastChild,u=c.content;return n.childCount>1&&(o=0),s<r-1&&(u=Am(u,e,t,r,s+1,o)),s>=t&&(u=e<0?c.contentMatchAt(0).fillBefore(u,o<=s).append(u):u.append(c.contentMatchAt(c.childCount).fillBefore(K.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,c.copy(u))}function BS(n,e,t){return e<n.openStart&&(n=new Z(Am(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new Z(Am(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const Qk={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let jS=null;function Zk(){return jS||(jS=document.implementation.createHTMLDocument("title"))}let Ip=null;function eI(n){let e=window.trustedTypes;return e?(Ip||(Ip=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),Ip.createHTML(n)):n}function tI(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=Zk().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),s;if((s=r&&Qk[r[1].toLowerCase()])&&(n=s.map(o=>"<"+o+">").join("")+n+s.map(o=>"</"+o+">").reverse().join("")),t.innerHTML=eI(n),s)for(let o=0;o<s.length;o++)t=t.querySelector(s[o])||t;return t}function nI(n){let e=n.querySelectorAll(gt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function rI(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:s,openStart:o,openEnd:c}=n;for(let u=r.length-2;u>=0;u-=2){let d=t.nodes[r[u]];if(!d||d.hasRequiredAttrs())break;s=K.from(d.create(r[u+1],s)),o++,c++}return new Z(s,o,c)}const Lt={},zt={},iI={touchstart:!0,touchmove:!0};class sI{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function aI(n){for(let e in Lt){let t=Lt[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{lI(n,r)&&!kg(n,r)&&(n.editable||!(r.type in zt))&&t(n,r)},iI[e]?{passive:!0}:void 0)}Mt&&n.dom.addEventListener("input",()=>null),Nm(n)}function hi(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function oI(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function Nm(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>kg(n,r))})}function kg(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function lI(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function cI(n,e){!kg(n,e)&&Lt[e.type]&&(n.editable||!(e.type in zt))&&Lt[e.type](n,e)}zt.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!tT(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(br&&gt&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),xa&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",s=>s(n,Xi(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||X3(n,t)?t.preventDefault():hi(n,"key")};zt.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};zt.keypress=(n,e)=>{let t=e;if(tT(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||vn&&t.metaKey)return;if(n.someProp("handleKeyPress",s=>s(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof he)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(t.charCode),o=()=>n.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!n.someProp("handleTextInput",c=>c(n,r.$from.pos,r.$to.pos,s,o))&&n.dispatch(o()),t.preventDefault()}};function If(n){return{left:n.clientX,top:n.clientY}}function uI(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function Tg(n,e,t,r,s){if(r==-1)return!1;let o=n.state.doc.resolve(r);for(let c=o.depth+1;c>0;c--)if(n.someProp(e,u=>c>o.depth?u(n,t,o.nodeAfter,o.before(c),s,!0):u(n,t,o.node(c),o.before(c),s,!1)))return!0;return!1}function pa(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function fI(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&le.isSelectable(r)?(pa(n,new le(t)),!0):!1}function dI(n,e){if(e==-1)return!1;let t=n.state.selection,r,s;t instanceof le&&(r=t.node);let o=n.state.doc.resolve(e);for(let c=o.depth+1;c>0;c--){let u=c>o.depth?o.nodeAfter:o.node(c);if(le.isSelectable(u)){r&&t.$from.depth>0&&c>=t.$from.depth&&o.before(t.$from.depth+1)==t.$from.pos?s=o.before(t.$from.depth):s=o.before(c);break}}return s!=null?(pa(n,le.create(n.state.doc,s)),!0):!1}function hI(n,e,t,r,s){return Tg(n,"handleClickOn",e,t,r)||n.someProp("handleClick",o=>o(n,e,r))||(s?dI(n,t):fI(n,t))}function pI(n,e,t,r){return Tg(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",s=>s(n,e,r))}function mI(n,e,t,r){return Tg(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",s=>s(n,e,r))||gI(n,t,r)}function gI(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(pa(n,he.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let o=s.depth+1;o>0;o--){let c=o>s.depth?s.nodeAfter:s.node(o),u=s.before(o);if(c.inlineContent)pa(n,he.create(r,u+1,u+1+c.content.size));else if(le.isSelectable(c))pa(n,le.create(r,u));else continue;return!0}}function Cg(n){return Iu(n)}const eT=vn?"metaKey":"ctrlKey";Lt.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=Cg(n),s=Date.now(),o="singleClick";s-n.input.lastClick.time<500&&uI(t,n.input.lastClick)&&!t[eT]&&n.input.lastClick.button==t.button&&(n.input.lastClick.type=="singleClick"?o="doubleClick":n.input.lastClick.type=="doubleClick"&&(o="tripleClick")),n.input.lastClick={time:s,x:t.clientX,y:t.clientY,type:o,button:t.button};let c=n.posAtCoords(If(t));c&&(o=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new yI(n,c,t,!!r)):(o=="doubleClick"?pI:mI)(n,c.pos,c.inside,t)?t.preventDefault():hi(n,"pointer"))};class yI{constructor(e,t,r,s){this.view=e,this.pos=t,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[eT],this.allowDefault=r.shiftKey;let o,c;if(t.inside>-1)o=e.state.doc.nodeAt(t.inside),c=t.inside;else{let m=e.state.doc.resolve(t.pos);o=m.parent,c=m.depth?m.before():0}const u=s?null:r.target,d=u?e.docView.nearestDesc(u,!0):null;this.target=d&&d.nodeDOM.nodeType==1?d.nodeDOM:null;let{selection:h}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||h instanceof le&&h.from<=c&&h.to>c)&&(this.mightDrag={node:o,pos:c,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&xn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),hi(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>xr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(If(e))),this.updateAllowDefault(e),this.allowDefault||!t?hi(this.view,"pointer"):hI(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Mt&&this.mightDrag&&!this.mightDrag.node.isAtom||gt&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(pa(this.view,ve.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):hi(this.view,"pointer")}move(e){this.updateAllowDefault(e),hi(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Lt.touchstart=n=>{n.input.lastTouch=Date.now(),Cg(n),hi(n,"pointer")};Lt.touchmove=n=>{n.input.lastTouch=Date.now(),hi(n,"pointer")};Lt.contextmenu=n=>Cg(n);function tT(n,e){return n.composing?!0:Mt&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const bI=br?5e3:-1;zt.compositionstart=zt.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof he&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||gt&&Dk&&vI(n)))n.markCursor=n.state.storedMarks||t.marks(),Iu(n,!0),n.markCursor=null;else if(Iu(n,!e.selection.empty),xn&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let s=r.focusNode,o=r.focusOffset;s&&s.nodeType==1&&o!=0;){let c=o<0?s.lastChild:s.childNodes[o-1];if(!c)break;if(c.nodeType==3){let u=n.domSelection();u&&u.collapse(c,c.nodeValue.length);break}else s=c,o=-1}}n.input.composing=!0}nT(n,bI)};function vI(n){let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(!e||e.nodeType!=1||t>=e.childNodes.length)return!1;let r=e.childNodes[t];return r.nodeType==1&&r.contentEditable=="false"}zt.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,nT(n,20))};function nT(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>Iu(n),e))}function rT(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=xI());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function SI(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=d3(e.focusNode,e.focusOffset),r=h3(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let s=r.pmViewDesc,o=n.domObserver.lastChangedTextNode;if(t==o||r==o)return o;if(!s||!s.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let c=t.pmViewDesc;if(!(!c||!c.isText(t.nodeValue)))return r}}return t||r}function xI(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function Iu(n,e=!1){if(!(br&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),rT(n),e||n.docView&&n.docView.dirty){let t=Sg(n),r=n.state.selection;return t&&!t.eq(r)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function EI(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const al=Ft&&bi<15||xa&&y3<604;Lt.copy=zt.cut=(n,e)=>{let t=e,r=n.state.selection,s=t.type=="cut";if(r.empty)return;let o=al?null:t.clipboardData,c=r.content(),{dom:u,text:d}=Eg(n,c);o?(t.preventDefault(),o.clearData(),o.setData("text/html",u.innerHTML),o.setData("text/plain",d)):EI(n,u),s&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function kI(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function TI(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?ol(n,r.value,null,s,e):ol(n,r.textContent,r.innerHTML,s,e)},50)}function ol(n,e,t,r,s){let o=Yk(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",d=>d(n,s,o||Z.empty)))return!0;if(!o)return!1;let c=kI(o),u=c?n.state.tr.replaceSelectionWith(c,r):n.state.tr.replaceSelection(o);return n.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function iT(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}zt.paste=(n,e)=>{let t=e;if(n.composing&&!br)return;let r=al?null:t.clipboardData,s=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&ol(n,iT(r),r.getData("text/html"),s,t)?t.preventDefault():TI(n,t)};class sT{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const CI=vn?"altKey":"ctrlKey";function aT(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t??!e[CI]}Lt.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let s=n.state.selection,o=s.empty?null:n.posAtCoords(If(t)),c;if(!(o&&o.pos>=s.from&&o.pos<=(s instanceof le?s.to-1:s.to))){if(r&&r.mightDrag)c=le.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let y=n.docView.nearestDesc(t.target,!0);y&&y.node.type.spec.draggable&&y!=n.docView&&(c=le.create(n.state.doc,y.posBefore))}}let u=(c||n.state.selection).content(),{dom:d,text:h,slice:m}=Eg(n,u);(!t.dataTransfer.files.length||!gt||Rk>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(al?"Text":"text/html",d.innerHTML),t.dataTransfer.effectAllowed="copyMove",al||t.dataTransfer.setData("text/plain",h),n.dragging=new sT(m,aT(n,t),c)};Lt.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};zt.dragover=zt.dragenter=(n,e)=>e.preventDefault();zt.drop=(n,e)=>{try{wI(n,e,n.dragging)}finally{n.dragging=null}};function wI(n,e,t){if(!e.dataTransfer)return;let r=n.posAtCoords(If(e));if(!r)return;let s=n.state.doc.resolve(r.pos),o=t&&t.slice;o?n.someProp("transformPasted",v=>{o=v(o,n,!1)}):o=Yk(n,iT(e.dataTransfer),al?null:e.dataTransfer.getData("text/html"),!1,s);let c=!!(t&&aT(n,e));if(n.someProp("handleDrop",v=>v(n,e,o||Z.empty,c))){e.preventDefault();return}if(!o)return;e.preventDefault();let u=o?uk(n.state.doc,s.pos,o):s.pos;u==null&&(u=s.pos);let d=n.state.tr;if(c){let{node:v}=t;v?v.replace(d):d.deleteSelection()}let h=d.mapping.map(u),m=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,y=d.doc;if(m?d.replaceRangeWith(h,h,o.content.firstChild):d.replaceRange(h,h,o),d.doc.eq(y))return;let b=d.doc.resolve(h);if(m&&le.isSelectable(o.content.firstChild)&&b.nodeAfter&&b.nodeAfter.sameMarkup(o.content.firstChild))d.setSelection(new le(b));else{let v=d.mapping.map(u);d.mapping.maps[d.mapping.maps.length-1].forEach((x,T,C,w)=>v=w),d.setSelection(xg(n,b,d.doc.resolve(v)))}n.focus(),n.dispatch(d.setMeta("uiEvent","drop"))}Lt.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&xr(n)},20))};Lt.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};Lt.beforeinput=(n,e)=>{if(gt&&br&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",o=>o(n,Xi(8,"Backspace")))))return;let{$cursor:s}=n.state.selection;s&&s.pos>0&&n.dispatch(n.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let n in zt)Lt[n]=zt[n];function ll(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class Lu{constructor(e,t){this.toDOM=e,this.spec=t||is,this.side=this.spec.side||0}map(e,t,r,s){let{pos:o,deleted:c}=e.mapResult(t.from+s,this.side<0?-1:1);return c?null:new _t(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Lu&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&ll(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Si{constructor(e,t){this.attrs=e,this.spec=t||is}map(e,t,r,s){let o=e.map(t.from+s,this.spec.inclusiveStart?-1:1)-r,c=e.map(t.to+s,this.spec.inclusiveEnd?1:-1)-r;return o>=c?null:new _t(o,c,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Si&&ll(this.attrs,e.attrs)&&ll(this.spec,e.spec)}static is(e){return e.type instanceof Si}destroy(){}}class wg{constructor(e,t){this.attrs=e,this.spec=t||is}map(e,t,r,s){let o=e.mapResult(t.from+s,1);if(o.deleted)return null;let c=e.mapResult(t.to+s,-1);return c.deleted||c.pos<=o.pos?null:new _t(o.pos-r,c.pos-r,this)}valid(e,t){let{index:r,offset:s}=e.content.findIndex(t.from),o;return s==t.from&&!(o=e.child(r)).isText&&s+o.nodeSize==t.to}eq(e){return this==e||e instanceof wg&&ll(this.attrs,e.attrs)&&ll(this.spec,e.spec)}destroy(){}}class _t{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new _t(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new _t(e,e,new Lu(t,r))}static inline(e,t,r,s){return new _t(e,t,new Si(r,s))}static node(e,t,r,s){return new _t(e,t,new wg(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof Si}get widget(){return this.type instanceof Lu}}const ia=[],is={};class We{constructor(e,t){this.local=e.length?e:ia,this.children=t.length?t:ia}static create(e,t){return t.length?zu(t,e,0,is):Nt}find(e,t,r){let s=[];return this.findInner(e??0,t??1e9,s,0,r),s}findInner(e,t,r,s,o){for(let c=0;c<this.local.length;c++){let u=this.local[c];u.from<=t&&u.to>=e&&(!o||o(u.spec))&&r.push(u.copy(u.from+s,u.to+s))}for(let c=0;c<this.children.length;c+=3)if(this.children[c]<t&&this.children[c+1]>e){let u=this.children[c]+1;this.children[c+2].findInner(e-u,t-u,r,s+u,o)}}map(e,t,r){return this==Nt||e.maps.length==0?this:this.mapInner(e,t,0,0,r||is)}mapInner(e,t,r,s,o){let c;for(let u=0;u<this.local.length;u++){let d=this.local[u].map(e,r,s);d&&d.type.valid(t,d)?(c||(c=[])).push(d):o.onRemove&&o.onRemove(this.local[u].spec)}return this.children.length?AI(this.children,c||[],e,t,r,s,o):c?new We(c.sort(ss),ia):Nt}add(e,t){return t.length?this==Nt?We.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let s,o=0;e.forEach((u,d)=>{let h=d+r,m;if(m=lT(t,u,h)){for(s||(s=this.children.slice());o<s.length&&s[o]<d;)o+=3;s[o]==d?s[o+2]=s[o+2].addInner(u,m,h+1):s.splice(o,0,d,d+u.nodeSize,zu(m,u,h+1,is)),o+=3}});let c=oT(o?cT(t):t,-r);for(let u=0;u<c.length;u++)c[u].type.valid(e,c[u])||c.splice(u--,1);return new We(c.length?this.local.concat(c).sort(ss):this.local,s||this.children)}remove(e){return e.length==0||this==Nt?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,s=this.local;for(let o=0;o<r.length;o+=3){let c,u=r[o]+t,d=r[o+1]+t;for(let m=0,y;m<e.length;m++)(y=e[m])&&y.from>u&&y.to<d&&(e[m]=null,(c||(c=[])).push(y));if(!c)continue;r==this.children&&(r=this.children.slice());let h=r[o+2].removeInner(c,u+1);h!=Nt?r[o+2]=h:(r.splice(o,3),o-=3)}if(s.length){for(let o=0,c;o<e.length;o++)if(c=e[o])for(let u=0;u<s.length;u++)s[u].eq(c,t)&&(s==this.local&&(s=this.local.slice()),s.splice(u--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new We(s,r):Nt}forChild(e,t){if(this==Nt)return this;if(t.isLeaf)return We.empty;let r,s;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(r=this.children[u+2]);break}let o=e+1,c=o+t.content.size;for(let u=0;u<this.local.length;u++){let d=this.local[u];if(d.from<c&&d.to>o&&d.type instanceof Si){let h=Math.max(o,d.from)-o,m=Math.min(c,d.to)-o;h<m&&(s||(s=[])).push(d.copy(h,m))}}if(s){let u=new We(s.sort(ss),ia);return r?new ci([u,r]):u}return r||Nt}eq(e){if(this==e)return!0;if(!(e instanceof We)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Ag(this.localsInner(e))}localsInner(e){if(this==Nt)return ia;if(e.inlineContent||!this.local.some(Si.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Si||t.push(this.local[r]);return t}forEachSet(e){e(this)}}We.empty=new We([],[]);We.removeOverlap=Ag;const Nt=We.empty;class ci{constructor(e){this.members=e}map(e,t){const r=this.members.map(s=>s.map(e,t,is));return ci.from(r)}forChild(e,t){if(t.isLeaf)return We.empty;let r=[];for(let s=0;s<this.members.length;s++){let o=this.members[s].forChild(e,t);o!=Nt&&(o instanceof ci?r=r.concat(o.members):r.push(o))}return ci.from(r)}eq(e){if(!(e instanceof ci)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let s=0;s<this.members.length;s++){let o=this.members[s].localsInner(e);if(o.length)if(!t)t=o;else{r&&(t=t.slice(),r=!1);for(let c=0;c<o.length;c++)t.push(o[c])}}return t?Ag(r?t:t.sort(ss)):ia}static from(e){switch(e.length){case 0:return Nt;case 1:return e[0];default:return new ci(e.every(t=>t instanceof We)?e:e.reduce((t,r)=>t.concat(r instanceof We?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function AI(n,e,t,r,s,o,c){let u=n.slice();for(let h=0,m=o;h<t.maps.length;h++){let y=0;t.maps[h].forEach((b,v,x,T)=>{let C=T-x-(v-b);for(let w=0;w<u.length;w+=3){let I=u[w+1];if(I<0||b>I+m-y)continue;let j=u[w]+m-y;v>=j?u[w+1]=b<=j?-2:-1:b>=m&&C&&(u[w]+=C,u[w+1]+=C)}y+=C}),m=t.maps[h].map(m,-1)}let d=!1;for(let h=0;h<u.length;h+=3)if(u[h+1]<0){if(u[h+1]==-2){d=!0,u[h+1]=-1;continue}let m=t.map(n[h]+o),y=m-s;if(y<0||y>=r.content.size){d=!0;continue}let b=t.map(n[h+1]+o,-1),v=b-s,{index:x,offset:T}=r.content.findIndex(y),C=r.maybeChild(x);if(C&&T==y&&T+C.nodeSize==v){let w=u[h+2].mapInner(t,C,m+1,n[h]+o+1,c);w!=Nt?(u[h]=y,u[h+1]=v,u[h+2]=w):(u[h+1]=-2,d=!0)}else d=!0}if(d){let h=NI(u,n,e,t,s,o,c),m=zu(h,r,0,c);e=m.local;for(let y=0;y<u.length;y+=3)u[y+1]<0&&(u.splice(y,3),y-=3);for(let y=0,b=0;y<m.children.length;y+=3){let v=m.children[y];for(;b<u.length&&u[b]<v;)b+=3;u.splice(b,0,m.children[y],m.children[y+1],m.children[y+2])}}return new We(e.sort(ss),u)}function oT(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let s=n[r];t.push(new _t(s.from+e,s.to+e,s.type))}return t}function NI(n,e,t,r,s,o,c){function u(d,h){for(let m=0;m<d.local.length;m++){let y=d.local[m].map(r,s,h);y?t.push(y):c.onRemove&&c.onRemove(d.local[m].spec)}for(let m=0;m<d.children.length;m+=3)u(d.children[m+2],d.children[m]+h+1)}for(let d=0;d<n.length;d+=3)n[d+1]==-1&&u(n[d+2],e[d]+o+1);return t}function lT(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,s=null;for(let o=0,c;o<n.length;o++)(c=n[o])&&c.from>t&&c.to<r&&((s||(s=[])).push(c),n[o]=null);return s}function cT(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function zu(n,e,t,r){let s=[],o=!1;e.forEach((u,d)=>{let h=lT(n,u,d+t);if(h){o=!0;let m=zu(h,u,t+d+1,r);m!=Nt&&s.push(d,d+u.nodeSize,m)}});let c=oT(o?cT(n):n,-t).sort(ss);for(let u=0;u<c.length;u++)c[u].type.valid(e,c[u])||(r.onRemove&&r.onRemove(c[u].spec),c.splice(u--,1));return c.length||s.length?new We(c,s):Nt}function ss(n,e){return n.from-e.from||n.to-e.to}function Ag(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let s=t+1;s<e.length;s++){let o=e[s];if(o.from==r.from){o.to!=r.to&&(e==n&&(e=n.slice()),e[s]=o.copy(o.from,r.to),US(e,s+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,o.from),US(e,s,r.copy(o.from,r.to)));break}}}return e}function US(n,e,t){for(;e<n.length&&ss(t,n[e])>0;)e++;n.splice(e,0,t)}function Lp(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=Nt&&e.push(r)}),n.cursorWrapper&&e.push(We.create(n.state.doc,[n.cursorWrapper.deco])),ci.from(e)}const MI={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},OI=Ft&&bi<=11;class RI{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class DI{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new RI,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);Ft&&bi<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),OI&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,MI)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(RS(this.view)){if(this.suppressingSelectionUpdates)return xr(this.view);if(Ft&&bi<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&fs(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let o=e.focusNode;o;o=Sa(o))t.add(o);for(let o=e.anchorNode;o;o=Sa(o))if(t.has(o)){r=o;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&RS(e)&&!this.ignoreSelectionChange(r),o=-1,c=-1,u=!1,d=[];if(e.editable)for(let m=0;m<t.length;m++){let y=this.registerMutation(t[m],d);y&&(o=o<0?y.from:Math.min(y.from,o),c=c<0?y.to:Math.max(y.to,c),y.typeOver&&(u=!0))}if(xn&&d.length){let m=d.filter(y=>y.nodeName=="BR");if(m.length==2){let[y,b]=m;y.parentNode&&y.parentNode.parentNode==b.parentNode?b.remove():y.remove()}else{let{focusNode:y}=this.currentSelection;for(let b of m){let v=b.parentNode;v&&v.nodeName=="LI"&&(!y||LI(e,y)!=v)&&b.remove()}}}else if((gt||Mt)&&d.some(m=>m.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let m of d)if(m.nodeName=="BR"&&m.parentNode){let y=m.nextSibling;y&&y.nodeType==1&&y.contentEditable=="false"&&m.parentNode.removeChild(m)}}let h=null;o<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Df(r)&&(h=Sg(e))&&h.eq(ve.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,xr(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||s)&&(o>-1&&(e.docView.markDirty(o,c),_I(e)),this.handleDOMChange(o,c,u,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||xr(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let m=0;m<e.addedNodes.length;m++){let y=e.addedNodes[m];t.push(y),y.nodeType==3&&(this.lastChangedTextNode=y)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,o=e.nextSibling;if(Ft&&bi<=11&&e.addedNodes.length)for(let m=0;m<e.addedNodes.length;m++){let{previousSibling:y,nextSibling:b}=e.addedNodes[m];(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(s=y),(!b||Array.prototype.indexOf.call(e.addedNodes,b)<0)&&(o=b)}let c=s&&s.parentNode==e.target?Ct(s)+1:0,u=r.localPosFromDOM(e.target,c,-1),d=o&&o.parentNode==e.target?Ct(o):e.target.childNodes.length,h=r.localPosFromDOM(e.target,d,1);return{from:u,to:h}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let PS=new WeakMap,HS=!1;function _I(n){if(!PS.has(n)&&(PS.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=xn,HS)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),HS=!0}}function VS(n,e){let t=e.startContainer,r=e.startOffset,s=e.endContainer,o=e.endOffset,c=n.domAtPos(n.state.selection.anchor);return fs(c.node,c.offset,s,o)&&([t,r,s,o]=[s,o,t,r]),{anchorNode:t,anchorOffset:r,focusNode:s,focusOffset:o}}function II(n,e){if(e.getComposedRanges){let s=e.getComposedRanges(n.root)[0];if(s)return VS(n,s)}let t;function r(s){s.preventDefault(),s.stopImmediatePropagation(),t=s.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?VS(n,t):null}function LI(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function zI(n,e,t){let{node:r,fromOffset:s,toOffset:o,from:c,to:u}=n.docView.parseRange(e,t),d=n.domSelectionRange(),h,m=d.anchorNode;if(m&&n.dom.contains(m.nodeType==1?m:m.parentNode)&&(h=[{node:m,offset:d.anchorOffset}],Df(d)||h.push({node:d.focusNode,offset:d.focusOffset})),gt&&n.input.lastKeyCode===8)for(let C=o;C>s;C--){let w=r.childNodes[C-1],I=w.pmViewDesc;if(w.nodeName=="BR"&&!I){o=C;break}if(!I||I.size)break}let y=n.state.doc,b=n.someProp("domParser")||yi.fromSchema(n.state.schema),v=y.resolve(c),x=null,T=b.parse(r,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:s,to:o,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:BI,context:v});if(h&&h[0].pos!=null){let C=h[0].pos,w=h[1]&&h[1].pos;w==null&&(w=C),x={anchor:C+c,head:w+c}}return{doc:T,sel:x,from:c,to:u}}function BI(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(Mt&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||Mt&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const jI=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function UI(n,e,t,r,s){let o=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let P=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,ee=Sg(n,P);if(ee&&!n.state.selection.eq(ee)){if(gt&&br&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",de=>de(n,Xi(13,"Enter"))))return;let te=n.state.tr.setSelection(ee);P=="pointer"?te.setMeta("pointer",!0):P=="key"&&te.scrollIntoView(),o&&te.setMeta("composition",o),n.dispatch(te)}return}let c=n.state.doc.resolve(e),u=c.sharedDepth(t);e=c.before(u+1),t=n.state.doc.resolve(t).after(u+1);let d=n.state.selection,h=zI(n,e,t),m=n.state.doc,y=m.slice(h.from,h.to),b,v;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(b=n.state.selection.to,v="end"):(b=n.state.selection.from,v="start"),n.input.lastKeyCode=null;let x=VI(y.content,h.doc.content,h.from,b,v);if(x&&n.input.domChangeCount++,(xa&&n.input.lastIOSEnter>Date.now()-225||br)&&s.some(P=>P.nodeType==1&&!jI.test(P.nodeName))&&(!x||x.endA>=x.endB)&&n.someProp("handleKeyDown",P=>P(n,Xi(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!x)if(r&&d instanceof he&&!d.empty&&d.$head.sameParent(d.$anchor)&&!n.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))x={start:d.from,endA:d.to,endB:d.to};else{if(h.sel){let P=$S(n,n.state.doc,h.sel);if(P&&!P.eq(n.state.selection)){let ee=n.state.tr.setSelection(P);o&&ee.setMeta("composition",o),n.dispatch(ee)}}return}n.state.selection.from<n.state.selection.to&&x.start==x.endB&&n.state.selection instanceof he&&(x.start>n.state.selection.from&&x.start<=n.state.selection.from+2&&n.state.selection.from>=h.from?x.start=n.state.selection.from:x.endA<n.state.selection.to&&x.endA>=n.state.selection.to-2&&n.state.selection.to<=h.to&&(x.endB+=n.state.selection.to-x.endA,x.endA=n.state.selection.to)),Ft&&bi<=11&&x.endB==x.start+1&&x.endA==x.start&&x.start>h.from&&h.doc.textBetween(x.start-h.from-1,x.start-h.from+1)==" "&&(x.start--,x.endA--,x.endB--);let T=h.doc.resolveNoCache(x.start-h.from),C=h.doc.resolveNoCache(x.endB-h.from),w=m.resolve(x.start),I=T.sameParent(C)&&T.parent.inlineContent&&w.end()>=x.endA;if((xa&&n.input.lastIOSEnter>Date.now()-225&&(!I||s.some(P=>P.nodeName=="DIV"||P.nodeName=="P"))||!I&&T.pos<h.doc.content.size&&(!T.sameParent(C)||!T.parent.inlineContent)&&T.pos<C.pos&&!/\S/.test(h.doc.textBetween(T.pos,C.pos,"","")))&&n.someProp("handleKeyDown",P=>P(n,Xi(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>x.start&&HI(m,x.start,x.endA,T,C)&&n.someProp("handleKeyDown",P=>P(n,Xi(8,"Backspace")))){br&&gt&&n.domObserver.suppressSelectionUpdates();return}gt&&x.endB==x.start&&(n.input.lastChromeDelete=Date.now()),br&&!I&&T.start()!=C.start()&&C.parentOffset==0&&T.depth==C.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==x.endA&&(x.endB-=2,C=h.doc.resolveNoCache(x.endB-h.from),setTimeout(()=>{n.someProp("handleKeyDown",function(P){return P(n,Xi(13,"Enter"))})},20));let j=x.start,F=x.endA,q=P=>{let ee=P||n.state.tr.replace(j,F,h.doc.slice(x.start-h.from,x.endB-h.from));if(h.sel){let te=$S(n,ee.doc,h.sel);te&&!(gt&&n.composing&&te.empty&&(x.start!=x.endB||n.input.lastChromeDelete<Date.now()-100)&&(te.head==j||te.head==ee.mapping.map(F)-1)||Ft&&te.empty&&te.head==j)&&ee.setSelection(te)}return o&&ee.setMeta("composition",o),ee.scrollIntoView()},W;if(I)if(T.pos==C.pos){Ft&&bi<=11&&T.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>xr(n),20));let P=q(n.state.tr.delete(j,F)),ee=m.resolve(x.start).marksAcross(m.resolve(x.endA));ee&&P.ensureMarks(ee),n.dispatch(P)}else if(x.endA==x.endB&&(W=PI(T.parent.content.cut(T.parentOffset,C.parentOffset),w.parent.content.cut(w.parentOffset,x.endA-w.start())))){let P=q(n.state.tr);W.type=="add"?P.addMark(j,F,W.mark):P.removeMark(j,F,W.mark),n.dispatch(P)}else if(T.parent.child(T.index()).isText&&T.index()==C.index()-(C.textOffset?0:1)){let P=T.parent.textBetween(T.parentOffset,C.parentOffset),ee=()=>q(n.state.tr.insertText(P,j,F));n.someProp("handleTextInput",te=>te(n,j,F,P,ee))||n.dispatch(ee())}else n.dispatch(q());else n.dispatch(q())}function $S(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:xg(n,e.resolve(t.anchor),e.resolve(t.head))}function PI(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,s=t,o=r,c,u,d;for(let m=0;m<r.length;m++)s=r[m].removeFromSet(s);for(let m=0;m<t.length;m++)o=t[m].removeFromSet(o);if(s.length==1&&o.length==0)u=s[0],c="add",d=m=>m.mark(u.addToSet(m.marks));else if(s.length==0&&o.length==1)u=o[0],c="remove",d=m=>m.mark(u.removeFromSet(m.marks));else return null;let h=[];for(let m=0;m<e.childCount;m++)h.push(d(e.child(m)));if(K.from(h).eq(n))return{mark:u,type:c}}function HI(n,e,t,r,s){if(t-e<=s.pos-r.pos||zp(r,!0,!1)<s.pos)return!1;let o=n.resolve(e);if(!r.parent.isTextblock){let u=o.nodeAfter;return u!=null&&t==e+u.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let c=n.resolve(zp(o,!0,!0));return!c.parent.isTextblock||c.pos>t||zp(c,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(c.parent.content)}function zp(n,e,t){let r=n.depth,s=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,s++,e=!1;if(t){let o=n.node(r).maybeChild(n.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,s++}return s}function VI(n,e,t,r,s){let o=n.findDiffStart(e,t);if(o==null)return null;let{a:c,b:u}=n.findDiffEnd(e,t+n.size,t+e.size);if(s=="end"){let d=Math.max(0,o-Math.min(c,u));r-=c+d-o}if(c<o&&n.size<e.size){let d=r<=o&&r>=c?o-r:0;o-=d,o&&o<e.size&&qS(e.textBetween(o-1,o+1))&&(o+=d?1:-1),u=o+(u-c),c=o}else if(u<o){let d=r<=o&&r>=u?o-r:0;o-=d,o&&o<n.size&&qS(n.textBetween(o-1,o+1))&&(o+=d?1:-1),c=o+(c-u),u=o}return{start:o,endA:c,endB:u}}function qS(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class uT{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new sI,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(WS),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=GS(this),KS(this),this.nodeViews=YS(this),this.docView=CS(this.state.doc,FS(this),Lp(this),this.dom,this),this.domObserver=new DI(this,(r,s,o,c)=>UI(this,r,s,o,c)),this.domObserver.start(),aI(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Nm(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(WS),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let s=this.state,o=!1,c=!1;e.storedMarks&&this.composing&&(rT(this),c=!0),this.state=e;let u=s.plugins!=e.plugins||this._props.plugins!=t.plugins;if(u||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let v=YS(this);qI(v,this.nodeViews)&&(this.nodeViews=v,o=!0)}(u||t.handleDOMEvents!=this._props.handleDOMEvents)&&Nm(this),this.editable=GS(this),KS(this);let d=Lp(this),h=FS(this),m=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",y=o||!this.docView.matchesNode(e.doc,h,d);(y||!e.selection.eq(s.selection))&&(c=!0);let b=m=="preserve"&&c&&this.dom.style.overflowAnchor==null&&S3(this);if(c){this.domObserver.stop();let v=y&&(Ft||gt)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&$I(s.selection,e.selection);if(y){let x=gt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=SI(this)),(o||!this.docView.update(e.doc,h,d,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=CS(e.doc,h,d,this.dom,this)),x&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&q3(this))?xr(this,v):(Fk(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),m=="reset"?this.dom.scrollTop=0:m=="to selection"?this.scrollToSelection():b&&x3(b)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof le){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&vS(this,t.getBoundingClientRect(),e)}else vS(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let o=r.from+(this.state.doc.content.size-t.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(s=o)}this.dragging=new sT(e.slice,e.move,s<0?void 0:le.create(this.state.doc,s))}someProp(e,t){let r=this._props&&this._props[e],s;if(r!=null&&(s=t?t(r):r))return s;for(let c=0;c<this.directPlugins.length;c++){let u=this.directPlugins[c].props[e];if(u!=null&&(s=t?t(u):u))return s}let o=this.state.plugins;if(o)for(let c=0;c<o.length;c++){let u=o[c].props[e];if(u!=null&&(s=t?t(u):u))return s}}hasFocus(){if(Ft){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&E3(this.dom),xr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return A3(this,e)}coordsAtPos(e,t=1){return Bk(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let s=this.docView.posFromDOM(e,t,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,t){return D3(this,t||this.state,e)}pasteHTML(e,t){return ol(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return ol(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return Eg(this,e)}destroy(){this.docView&&(oI(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Lp(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,u3())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return cI(this,e)}domSelectionRange(){let e=this.domSelection();return e?Mt&&this.root.nodeType===11&&m3(this.dom.ownerDocument)==this.dom&&II(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}uT.prototype.dispatch=function(n){let e=this._props.dispatchTransaction;e?e.call(this,n):this.updateState(this.state.apply(n))};function FS(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[_t.node(0,n.state.doc.content.size,e)]}function KS(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:_t.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function GS(n){return!n.someProp("editable",e=>e(n.state)===!1)}function $I(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function YS(n){let e=Object.create(null);function t(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function qI(n,e){let t=0,r=0;for(let s in n){if(n[s]!=e[s])return!0;t++}for(let s in e)r++;return t!=r}function WS(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Ei={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Bu={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},FI=typeof navigator<"u"&&/Mac/.test(navigator.platform),KI=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var wt=0;wt<10;wt++)Ei[48+wt]=Ei[96+wt]=String(wt);for(var wt=1;wt<=24;wt++)Ei[wt+111]="F"+wt;for(var wt=65;wt<=90;wt++)Ei[wt]=String.fromCharCode(wt+32),Bu[wt]=String.fromCharCode(wt);for(var Bp in Ei)Bu.hasOwnProperty(Bp)||(Bu[Bp]=Ei[Bp]);function GI(n){var e=FI&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||KI&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?Bu:Ei)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const YI=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),WI=typeof navigator<"u"&&/Win/.test(navigator.platform);function JI(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,s,o,c;for(let u=0;u<e.length-1;u++){let d=e[u];if(/^(cmd|meta|m)$/i.test(d))c=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))o=!0;else if(/^mod$/i.test(d))YI?c=!0:s=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(t="Alt-"+t),s&&(t="Ctrl-"+t),c&&(t="Meta-"+t),o&&(t="Shift-"+t),t}function XI(n){let e=Object.create(null);for(let t in n)e[JI(t)]=n[t];return e}function jp(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function QI(n){return new Je({props:{handleKeyDown:fT(n)}})}function fT(n){let e=XI(n);return function(t,r){let s=GI(r),o,c=e[jp(s,r)];if(c&&c(t.state,t.dispatch,t))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let u=e[jp(s,r,!1)];if(u&&u(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(WI&&r.ctrlKey&&r.altKey)&&(o=Ei[r.keyCode])&&o!=s){let u=e[jp(o,r)];if(u&&u(t.state,t.dispatch,t))return!0}}return!1}}var ZI=Object.defineProperty,Ng=(n,e)=>{for(var t in e)ZI(n,t,{get:e[t],enumerable:!0})};function Lf(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:s}=t,{storedMarks:o}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return s},get tr(){return r=t.selection,s=t.doc,o=t.storedMarks,t}}}var zf=class{constructor(n){this.editor=n.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=n.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:n,editor:e,state:t}=this,{view:r}=e,{tr:s}=t,o=this.buildProps(s);return Object.fromEntries(Object.entries(n).map(([c,u])=>[c,(...h)=>{const m=u(...h)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(s),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(n,e=!0){const{rawCommands:t,editor:r,state:s}=this,{view:o}=r,c=[],u=!!n,d=n||s.tr,h=()=>(!u&&e&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(d),c.every(y=>y===!0)),m={...Object.fromEntries(Object.entries(t).map(([y,b])=>[y,(...x)=>{const T=this.buildProps(d,e),C=b(...x)(T);return c.push(C),m}])),run:h};return m}createCan(n){const{rawCommands:e,state:t}=this,r=!1,s=n||t.tr,o=this.buildProps(s,r);return{...Object.fromEntries(Object.entries(e).map(([u,d])=>[u,(...h)=>d(...h)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,r)}}buildProps(n,e=!0){const{rawCommands:t,editor:r,state:s}=this,{view:o}=r,c={tr:n,editor:r,view:o,state:Lf({state:s,transaction:n}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(n,e),can:()=>this.createCan(n),get commands(){return Object.fromEntries(Object.entries(t).map(([u,d])=>[u,(...h)=>d(...h)(c)]))}};return c}},dT={};Ng(dT,{blur:()=>eL,clearContent:()=>tL,clearNodes:()=>nL,command:()=>rL,createParagraphNear:()=>iL,cut:()=>sL,deleteCurrentNode:()=>aL,deleteNode:()=>oL,deleteRange:()=>lL,deleteSelection:()=>cL,enter:()=>uL,exitCode:()=>fL,extendMarkRange:()=>dL,first:()=>hL,focus:()=>mL,forEach:()=>gL,insertContent:()=>yL,insertContentAt:()=>SL,joinBackward:()=>kL,joinDown:()=>EL,joinForward:()=>TL,joinItemBackward:()=>CL,joinItemForward:()=>wL,joinTextblockBackward:()=>AL,joinTextblockForward:()=>NL,joinUp:()=>xL,keyboardShortcut:()=>OL,lift:()=>RL,liftEmptyBlock:()=>DL,liftListItem:()=>_L,newlineInCode:()=>IL,resetAttributes:()=>LL,scrollIntoView:()=>zL,selectAll:()=>BL,selectNodeBackward:()=>jL,selectNodeForward:()=>UL,selectParentNode:()=>PL,selectTextblockEnd:()=>HL,selectTextblockStart:()=>VL,setContent:()=>$L,setMark:()=>oz,setMeta:()=>lz,setNode:()=>cz,setNodeSelection:()=>uz,setTextDirection:()=>fz,setTextSelection:()=>dz,sinkListItem:()=>hz,splitBlock:()=>pz,splitListItem:()=>mz,toggleList:()=>gz,toggleMark:()=>yz,toggleNode:()=>bz,toggleWrap:()=>vz,undoInputRule:()=>Sz,unsetAllMarks:()=>xz,unsetMark:()=>Ez,unsetTextDirection:()=>kz,updateAttributes:()=>Tz,wrapIn:()=>Cz,wrapInList:()=>wz});var eL=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window?.getSelection())==null||t.removeAllRanges())}),!0),tL=(n=!0)=>({commands:e})=>e.setContent("",{emitUpdate:n}),nL=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:s}=r;return t&&s.forEach(({$from:o,$to:c})=>{n.doc.nodesBetween(o.pos,c.pos,(u,d)=>{if(u.type.isText)return;const{doc:h,mapping:m}=e,y=h.resolve(m.map(d)),b=h.resolve(m.map(d+u.nodeSize)),v=y.blockRange(b);if(!v)return;const x=Oa(v);if(u.type.isTextblock){const{defaultType:T}=y.parent.contentMatchAt(y.index());e.setNodeMarkup(v.start,T)}(x||x===0)&&e.lift(v,x)})}),!0},rL=n=>e=>n(e),iL=()=>({state:n,dispatch:e})=>wk(n,e),sL=(n,e)=>({editor:t,tr:r})=>{const{state:s}=t,o=s.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const c=r.mapping.map(e);return r.insert(c,o.content),r.setSelection(new he(r.doc.resolve(Math.max(c-1,0)))),!0},aL=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const s=n.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===r.type){if(e){const u=s.before(o),d=s.after(o);n.delete(u,d).scrollIntoView()}return!0}return!1};function ut(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}var oL=n=>({tr:e,state:t,dispatch:r})=>{const s=ut(n,t.schema),o=e.selection.$anchor;for(let c=o.depth;c>0;c-=1)if(o.node(c).type===s){if(r){const d=o.before(c),h=o.after(c);e.delete(d,h).scrollIntoView()}return!0}return!1},lL=n=>({tr:e,dispatch:t})=>{const{from:r,to:s}=n;return t&&e.delete(r,s),!0},cL=()=>({state:n,dispatch:e})=>pg(n,e),uL=()=>({commands:n})=>n.keyboardShortcut("Enter"),fL=()=>({state:n,dispatch:e})=>W_(n,e);function Mg(n){return Object.prototype.toString.call(n)==="[object RegExp]"}function ju(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>t.strict?e[s]===n[s]:Mg(e[s])?e[s].test(n[s]):e[s]===n[s]):!0}function hT(n,e,t={}){return n.find(r=>r.type===e&&ju(Object.fromEntries(Object.keys(t).map(s=>[s,r.attrs[s]])),t))}function JS(n,e,t={}){return!!hT(n,e,t)}function Og(n,e,t){var r;if(!n||!e)return;let s=n.parent.childAfter(n.parentOffset);if((!s.node||!s.node.marks.some(m=>m.type===e))&&(s=n.parent.childBefore(n.parentOffset)),!s.node||!s.node.marks.some(m=>m.type===e)||(t=t||((r=s.node.marks[0])==null?void 0:r.attrs),!hT([...s.node.marks],e,t)))return;let c=s.index,u=n.start()+s.offset,d=c+1,h=u+s.node.nodeSize;for(;c>0&&JS([...n.parent.child(c-1).marks],e,t);)c-=1,u-=n.parent.child(c).nodeSize;for(;d<n.parent.childCount&&JS([...n.parent.child(d).marks],e,t);)h+=n.parent.child(d).nodeSize,d+=1;return{from:u,to:h}}function wr(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}var dL=(n,e={})=>({tr:t,state:r,dispatch:s})=>{const o=wr(n,r.schema),{doc:c,selection:u}=t,{$from:d,from:h,to:m}=u;if(s){const y=Og(d,o,e);if(y&&y.from<=h&&y.to>=m){const b=he.create(c,y.from,y.to);t.setSelection(b)}}return!0},hL=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function pT(n){return n instanceof he}function es(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function mT(n,e=null){if(!e)return null;const t=ve.atStart(n),r=ve.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const s=t.from,o=r.to;return e==="all"?he.create(n,es(0,s,o),es(n.content.size,s,o)):he.create(n,es(e,s,o),es(e,s,o))}function pL(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Rg(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var mL=(n=null,e={})=>({editor:t,view:r,tr:s,dispatch:o})=>{e={scrollIntoView:!0,...e};const c=()=>{(Rg()||pL())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e?.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(o&&n===null&&!pT(t.state.selection))return c(),!0;const u=mT(s.doc,n)||t.state.selection,d=t.state.selection.eq(u);return o&&(d||s.setSelection(u),d&&s.storedMarks&&s.setStoredMarks(s.storedMarks),c()),!0},gL=(n,e)=>t=>n.every((r,s)=>e(r,{...t,index:s})),yL=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),gT=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&gT(r)}return n};function Xc(n){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return gT(t)}function cl(n,e,t){if(n instanceof Mn||n instanceof K)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,s=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return K.fromArray(n.map(u=>e.nodeFromJSON(u)));const c=e.nodeFromJSON(n);return t.errorOnInvalidContent&&c.check(),c}catch(o){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",o),cl("",e,t)}if(s){if(t.errorOnInvalidContent){let c=!1,u="";const d=new ZE({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(c=!0,u=typeof h=="string"?h:h.outerHTML,null)}]}})});if(t.slice?yi.fromSchema(d).parseSlice(Xc(n),t.parseOptions):yi.fromSchema(d).parse(Xc(n),t.parseOptions),t.errorOnInvalidContent&&c)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const o=yi.fromSchema(e);return t.slice?o.parseSlice(Xc(n),t.parseOptions).content:o.parse(Xc(n),t.parseOptions)}return cl("",e,t)}function bL(n,e,t){const r=n.steps.length-1;if(r<e)return;const s=n.steps[r];if(!(s instanceof mt||s instanceof yt))return;const o=n.mapping.maps[r];let c=0;o.forEach((u,d,h,m)=>{c===0&&(c=m)}),n.setSelection(ve.near(n.doc.resolve(c),t))}var vL=n=>!("type"in n),SL=(n,e,t)=>({tr:r,dispatch:s,editor:o})=>{var c;if(s){t={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let u;const d=C=>{o.emit("contentError",{editor:o,error:C,disableCollaboration:()=>{"collaboration"in o.storage&&typeof o.storage.collaboration=="object"&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},h={preserveWhitespace:"full",...t.parseOptions};if(!t.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{cl(e,o.schema,{parseOptions:h,errorOnInvalidContent:!0})}catch(C){d(C)}try{u=cl(e,o.schema,{parseOptions:h,errorOnInvalidContent:(c=t.errorOnInvalidContent)!=null?c:o.options.enableContentCheck})}catch(C){return d(C),!1}let{from:m,to:y}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},b=!0,v=!0;if((vL(u)?u:[u]).forEach(C=>{C.check(),b=b?C.isText&&C.marks.length===0:!1,v=v?C.isBlock:!1}),m===y&&v){const{parent:C}=r.doc.resolve(m);C.isTextblock&&!C.type.spec.code&&!C.childCount&&(m-=1,y+=1)}let T;if(b){if(Array.isArray(e))T=e.map(C=>C.text||"").join("");else if(e instanceof K){let C="";e.forEach(w=>{w.text&&(C+=w.text)}),T=C}else typeof e=="object"&&e&&e.text?T=e.text:T=e;r.insertText(T,m,y)}else{T=u;const C=r.doc.resolve(m),w=C.node(),I=C.parentOffset===0,j=w.isText||w.isTextblock,F=w.content.size>0;I&&j&&F&&(m=Math.max(0,m-1)),r.replaceWith(m,y,T)}t.updateSelection&&bL(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:m,text:T}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:m,text:T})}return!0},xL=()=>({state:n,dispatch:e})=>K_(n,e),EL=()=>({state:n,dispatch:e})=>G_(n,e),kL=()=>({state:n,dispatch:e})=>vk(n,e),TL=()=>({state:n,dispatch:e})=>kk(n,e),CL=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Mf(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},wL=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Mf(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},AL=()=>({state:n,dispatch:e})=>q_(n,e),NL=()=>({state:n,dispatch:e})=>F_(n,e);function yT(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function ML(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,s,o,c;for(let u=0;u<e.length-1;u+=1){const d=e[u];if(/^(cmd|meta|m)$/i.test(d))c=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))o=!0;else if(/^mod$/i.test(d))Rg()||yT()?c=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(t=`Alt-${t}`),s&&(t=`Ctrl-${t}`),c&&(t=`Meta-${t}`),o&&(t=`Shift-${t}`),t}var OL=n=>({editor:e,view:t,tr:r,dispatch:s})=>{const o=ML(n).split(/-(?!$)/),c=o.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),u=new KeyboardEvent("keydown",{key:c==="Space"?" ":c,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{t.someProp("handleKeyDown",h=>h(t,u))});return d?.steps.forEach(h=>{const m=h.map(r.mapping);m&&s&&r.maybeStep(m)}),!0};function ki(n,e,t={}){const{from:r,to:s,empty:o}=n.selection,c=e?ut(e,n.schema):null,u=[];n.doc.nodesBetween(r,s,(y,b)=>{if(y.isText)return;const v=Math.max(r,b),x=Math.min(s,b+y.nodeSize);u.push({node:y,from:v,to:x})});const d=s-r,h=u.filter(y=>c?c.name===y.node.type.name:!0).filter(y=>ju(y.node.attrs,t,{strict:!1}));return o?!!h.length:h.reduce((y,b)=>y+b.to-b.from,0)>=d}var RL=(n,e={})=>({state:t,dispatch:r})=>{const s=ut(n,t.schema);return ki(t,s,e)?Y_(t,r):!1},DL=()=>({state:n,dispatch:e})=>Ak(n,e),_L=n=>({state:e,dispatch:t})=>{const r=ut(n,e.schema);return a3(r)(e,t)},IL=()=>({state:n,dispatch:e})=>Ck(n,e);function Bf(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function XS(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,s)=>(t.includes(s)||(r[s]=n[s]),r),{})}var LL=(n,e)=>({tr:t,state:r,dispatch:s})=>{let o=null,c=null;const u=Bf(typeof n=="string"?n:n.name,r.schema);if(!u)return!1;u==="node"&&(o=ut(n,r.schema)),u==="mark"&&(c=wr(n,r.schema));let d=!1;return t.selection.ranges.forEach(h=>{r.doc.nodesBetween(h.$from.pos,h.$to.pos,(m,y)=>{o&&o===m.type&&(d=!0,s&&t.setNodeMarkup(y,void 0,XS(m.attrs,e))),c&&m.marks.length&&m.marks.forEach(b=>{c===b.type&&(d=!0,s&&t.addMark(y,y+m.nodeSize,c.create(XS(b.attrs,e))))})})}),d},zL=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),BL=()=>({tr:n,dispatch:e})=>{if(e){const t=new rn(n.doc);n.setSelection(t)}return!0},jL=()=>({state:n,dispatch:e})=>xk(n,e),UL=()=>({state:n,dispatch:e})=>Tk(n,e),PL=()=>({state:n,dispatch:e})=>Q_(n,e),HL=()=>({state:n,dispatch:e})=>t3(n,e),VL=()=>({state:n,dispatch:e})=>e3(n,e);function Mm(n,e,t={},r={}){return cl(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}var $L=(n,{errorOnInvalidContent:e,emitUpdate:t=!0,parseOptions:r={}}={})=>({editor:s,tr:o,dispatch:c,commands:u})=>{const{doc:d}=o;if(r.preserveWhitespace!=="full"){const h=Mm(n,s.schema,r,{errorOnInvalidContent:e??s.options.enableContentCheck});return c&&o.replaceWith(0,d.content.size,h).setMeta("preventUpdate",!t),!0}return c&&o.setMeta("preventUpdate",!t),u.insertContentAt({from:0,to:d.content.size},n,{parseOptions:r,errorOnInvalidContent:e??s.options.enableContentCheck})};function bT(n,e){const t=wr(e,n.schema),{from:r,to:s,empty:o}=n.selection,c=[];o?(n.storedMarks&&c.push(...n.storedMarks),c.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,s,d=>{c.push(...d.marks)});const u=c.find(d=>d.type.name===t.name);return u?{...u.attrs}:{}}function vT(n,e){const t=new mk(n);return e.forEach(r=>{r.steps.forEach(s=>{t.step(s)})}),t}function qL(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function FL(n,e,t){const r=[];return n.nodesBetween(e.from,e.to,(s,o)=>{t(s)&&r.push({node:s,pos:o})}),r}function KL(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function jf(n){return e=>KL(e.$from,n)}function oe(n,e,t){return n.config[e]===void 0&&n.parent?oe(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?oe(n.parent,e,t):null}):n.config[e]}function Dg(n){return n.map(e=>{const t={name:e.name,options:e.options,storage:e.storage},r=oe(e,"addExtensions",t);return r?[e,...Dg(r())]:e}).flat(10)}function _g(n,e){const t=gs.fromSchema(e).serializeFragment(n),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(t),s.innerHTML}function ST(n){return typeof n=="function"}function ze(n,e=void 0,...t){return ST(n)?e?n.bind(e)(...t):n(...t):n}function GL(n={}){return Object.keys(n).length===0&&n.constructor===Object}function Ea(n){const e=n.filter(s=>s.type==="extension"),t=n.filter(s=>s.type==="node"),r=n.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function xT(n){const e=[],{nodeExtensions:t,markExtensions:r}=Ea(n),s=[...t,...r],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(c=>{const u={name:c.name,options:c.options,storage:c.storage,extensions:s},d=oe(c,"addGlobalAttributes",u);if(!d)return;d().forEach(m=>{m.types.forEach(y=>{Object.entries(m.attributes).forEach(([b,v])=>{e.push({type:y,name:b,attribute:{...o,...v}})})})})}),s.forEach(c=>{const u={name:c.name,options:c.options,storage:c.storage},d=oe(c,"addAttributes",u);if(!d)return;const h=d();Object.entries(h).forEach(([m,y])=>{const b={...o,...y};typeof b?.default=="function"&&(b.default=b.default()),b?.isRequired&&b?.default===void 0&&delete b.default,e.push({type:c.name,name:m,attribute:b})})}),e}function it(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([s,o])=>{if(!r[s]){r[s]=o;return}if(s==="class"){const u=o?String(o).split(" "):[],d=r[s]?r[s].split(" "):[],h=u.filter(m=>!d.includes(m));r[s]=[...d,...h].join(" ")}else if(s==="style"){const u=o?o.split(";").map(m=>m.trim()).filter(Boolean):[],d=r[s]?r[s].split(";").map(m=>m.trim()).filter(Boolean):[],h=new Map;d.forEach(m=>{const[y,b]=m.split(":").map(v=>v.trim());h.set(y,b)}),u.forEach(m=>{const[y,b]=m.split(":").map(v=>v.trim());h.set(y,b)}),r[s]=Array.from(h.entries()).map(([m,y])=>`${m}: ${y}`).join("; ")}else r[s]=o}),r},{})}function Uu(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>it(t,r),{})}function YL(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function QS(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const s=e.reduce((o,c)=>{const u=c.attribute.parseHTML?c.attribute.parseHTML(t):YL(t.getAttribute(c.name));return u==null?o:{...o,[c.name]:u}},{});return{...r,...s}}}}function ZS(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&GL(t)?!1:t!=null))}function ex(n){var e,t;const r={};return!((e=n?.attribute)!=null&&e.isRequired)&&"default"in(n?.attribute||{})&&(r.default=n.attribute.default),((t=n?.attribute)==null?void 0:t.validate)!==void 0&&(r.validate=n.attribute.validate),[n.name,r]}function WL(n,e){var t;const r=xT(n),{nodeExtensions:s,markExtensions:o}=Ea(n),c=(t=s.find(h=>oe(h,"topNode")))==null?void 0:t.name,u=Object.fromEntries(s.map(h=>{const m=r.filter(w=>w.type===h.name),y={name:h.name,options:h.options,storage:h.storage,editor:e},b=n.reduce((w,I)=>{const j=oe(I,"extendNodeSchema",y);return{...w,...j?j(h):{}}},{}),v=ZS({...b,content:ze(oe(h,"content",y)),marks:ze(oe(h,"marks",y)),group:ze(oe(h,"group",y)),inline:ze(oe(h,"inline",y)),atom:ze(oe(h,"atom",y)),selectable:ze(oe(h,"selectable",y)),draggable:ze(oe(h,"draggable",y)),code:ze(oe(h,"code",y)),whitespace:ze(oe(h,"whitespace",y)),linebreakReplacement:ze(oe(h,"linebreakReplacement",y)),defining:ze(oe(h,"defining",y)),isolating:ze(oe(h,"isolating",y)),attrs:Object.fromEntries(m.map(ex))}),x=ze(oe(h,"parseHTML",y));x&&(v.parseDOM=x.map(w=>QS(w,m)));const T=oe(h,"renderHTML",y);T&&(v.toDOM=w=>T({node:w,HTMLAttributes:Uu(w,m)}));const C=oe(h,"renderText",y);return C&&(v.toText=C),[h.name,v]})),d=Object.fromEntries(o.map(h=>{const m=r.filter(C=>C.type===h.name),y={name:h.name,options:h.options,storage:h.storage,editor:e},b=n.reduce((C,w)=>{const I=oe(w,"extendMarkSchema",y);return{...C,...I?I(h):{}}},{}),v=ZS({...b,inclusive:ze(oe(h,"inclusive",y)),excludes:ze(oe(h,"excludes",y)),group:ze(oe(h,"group",y)),spanning:ze(oe(h,"spanning",y)),code:ze(oe(h,"code",y)),attrs:Object.fromEntries(m.map(ex))}),x=ze(oe(h,"parseHTML",y));x&&(v.parseDOM=x.map(C=>QS(C,m)));const T=oe(h,"renderHTML",y);return T&&(v.toDOM=C=>T({mark:C,HTMLAttributes:Uu(C,m)})),[h.name,v]}));return new ZE({topNode:c,nodes:u,marks:d})}function JL(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}function Ig(n){return n.sort((t,r)=>{const s=oe(t,"priority")||100,o=oe(r,"priority")||100;return s>o?-1:s<o?1:0})}function ET(n){const e=Ig(Dg(n)),t=JL(e.map(r=>r.name));return t.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${t.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function kT(n,e,t){const{from:r,to:s}=e,{blockSeparator:o=`

`,textSerializers:c={}}=t||{};let u="";return n.nodesBetween(r,s,(d,h,m,y)=>{var b;d.isBlock&&h>r&&(u+=o);const v=c?.[d.type.name];if(v)return m&&(u+=v({node:d,pos:h,parent:m,index:y,range:e})),!1;d.isText&&(u+=(b=d?.text)==null?void 0:b.slice(Math.max(r,h)-h,s-h))}),u}function XL(n,e){const t={from:0,to:n.content.size};return kT(n,t,e)}function TT(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}function QL(n,e){const t=ut(e,n.schema),{from:r,to:s}=n.selection,o=[];n.doc.nodesBetween(r,s,u=>{o.push(u)});const c=o.reverse().find(u=>u.type.name===t.name);return c?{...c.attrs}:{}}function CT(n,e){const t=Bf(typeof e=="string"?e:e.name,n.schema);return t==="node"?QL(n,e):t==="mark"?bT(n,e):{}}function ZL(n,e=JSON.stringify){const t={};return n.filter(r=>{const s=e(r);return Object.prototype.hasOwnProperty.call(t,s)?!1:t[s]=!0})}function ez(n){const e=ZL(n);return e.length===1?e:e.filter((t,r)=>!e.filter((o,c)=>c!==r).some(o=>t.oldRange.from>=o.oldRange.from&&t.oldRange.to<=o.oldRange.to&&t.newRange.from>=o.newRange.from&&t.newRange.to<=o.newRange.to))}function wT(n){const{mapping:e,steps:t}=n,r=[];return e.maps.forEach((s,o)=>{const c=[];if(s.ranges.length)s.forEach((u,d)=>{c.push({from:u,to:d})});else{const{from:u,to:d}=t[o];if(u===void 0||d===void 0)return;c.push({from:u,to:d})}c.forEach(({from:u,to:d})=>{const h=e.slice(o).map(u,-1),m=e.slice(o).map(d),y=e.invert().map(h,-1),b=e.invert().map(m);r.push({oldRange:{from:y,to:b},newRange:{from:h,to:m}})})}),ez(r)}function Lg(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(s=>{const o=t.resolve(n),c=Og(o,s.type);c&&r.push({mark:s,...c})}):t.nodesBetween(n,e,(s,o)=>{!s||s?.nodeSize===void 0||r.push(...s.marks.map(c=>({from:o,to:o+s.nodeSize,mark:c})))}),r}var tz=(n,e,t,r=20)=>{const s=n.doc.resolve(t);let o=r,c=null;for(;o>0&&c===null;){const u=s.node(o);u?.type.name===e?c=u:o-=1}return[c,o]};function Up(n,e){return e.nodes[n]||e.marks[n]||null}function mu(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const s=n.find(o=>o.type===e&&o.name===r);return s?s.attribute.keepOnSplit:!1}))}var nz=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(s,o,c,u)=>{var d,h;const m=((h=(d=s.type.spec).toText)==null?void 0:h.call(d,{node:s,pos:o,parent:c,index:u}))||s.textContent||"%leaf%";t+=s.isAtom&&!s.isText?m:m.slice(0,Math.max(0,r-o))}),t};function Om(n,e,t={}){const{empty:r,ranges:s}=n.selection,o=e?wr(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(y=>o?o.name===y.type.name:!0).find(y=>ju(y.attrs,t,{strict:!1}));let c=0;const u=[];if(s.forEach(({$from:y,$to:b})=>{const v=y.pos,x=b.pos;n.doc.nodesBetween(v,x,(T,C)=>{if(!T.isText&&!T.marks.length)return;const w=Math.max(v,C),I=Math.min(x,C+T.nodeSize),j=I-w;c+=j,u.push(...T.marks.map(F=>({mark:F,from:w,to:I})))})}),c===0)return!1;const d=u.filter(y=>o?o.name===y.mark.type.name:!0).filter(y=>ju(y.mark.attrs,t,{strict:!1})).reduce((y,b)=>y+b.to-b.from,0),h=u.filter(y=>o?y.mark.type!==o&&y.mark.type.excludes(o):!0).reduce((y,b)=>y+b.to-b.from,0);return(d>0?d+h:d)>=c}function rz(n,e,t={}){if(!e)return ki(n,null,t)||Om(n,null,t);const r=Bf(e,n.schema);return r==="node"?ki(n,e,t):r==="mark"?Om(n,e,t):!1}var iz=(n,e)=>{const{$from:t,$to:r,$anchor:s}=n.selection;if(e){const o=jf(u=>u.type.name===e)(n.selection);if(!o)return!1;const c=n.doc.resolve(o.pos+1);return s.pos+1===c.end()}return!(r.parentOffset<r.parent.nodeSize-2||t.pos!==r.pos)},sz=n=>{const{$from:e,$to:t}=n.selection;return!(e.parentOffset>0||e.pos!==t.pos)};function tx(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function nx(n,e){const{nodeExtensions:t}=Ea(e),r=t.find(c=>c.name===n);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},o=ze(oe(r,"group",s));return typeof o!="string"?!1:o.split(" ").includes("list")}function Uf(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!=null?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let s=!0;return n.content.forEach(o=>{s!==!1&&(Uf(o,{ignoreWhitespace:t,checkChildren:e})||(s=!1))}),s}return!1}function AT(n){return n instanceof le}function az(n,e,t){var r;const{selection:s}=e;let o=null;if(pT(s)&&(o=s.$cursor),o){const u=(r=n.storedMarks)!=null?r:o.marks();return o.parent.type.allowsMarkType(t)&&(!!t.isInSet(u)||!u.some(h=>h.type.excludes(t)))}const{ranges:c}=s;return c.some(({$from:u,$to:d})=>{let h=u.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(u.pos,d.pos,(m,y,b)=>{if(h)return!1;if(m.isInline){const v=!b||b.type.allowsMarkType(t),x=!!t.isInSet(m.marks)||!m.marks.some(T=>T.type.excludes(t));h=v&&x}return!h}),h})}var oz=(n,e={})=>({tr:t,state:r,dispatch:s})=>{const{selection:o}=t,{empty:c,ranges:u}=o,d=wr(n,r.schema);if(s)if(c){const h=bT(r,d);t.addStoredMark(d.create({...h,...e}))}else u.forEach(h=>{const m=h.$from.pos,y=h.$to.pos;r.doc.nodesBetween(m,y,(b,v)=>{const x=Math.max(v,m),T=Math.min(v+b.nodeSize,y);b.marks.find(w=>w.type===d)?b.marks.forEach(w=>{d===w.type&&t.addMark(x,T,d.create({...w.attrs,...e}))}):t.addMark(x,T,d.create(e))})});return az(r,t,d)},lz=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),cz=(n,e={})=>({state:t,dispatch:r,chain:s})=>{const o=ut(n,t.schema);let c;return t.selection.$anchor.sameParent(t.selection.$head)&&(c=t.selection.$anchor.parent.attrs),o.isTextblock?s().command(({commands:u})=>gS(o,{...c,...e})(t)?!0:u.clearNodes()).command(({state:u})=>gS(o,{...c,...e})(u,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},uz=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,s=es(n,0,r.content.size),o=le.create(r,s);e.setSelection(o)}return!0},fz=(n,e)=>({tr:t,state:r,dispatch:s})=>{const{selection:o}=r;let c,u;return typeof e=="number"?(c=e,u=e):e&&"from"in e&&"to"in e?(c=e.from,u=e.to):(c=o.from,u=o.to),s&&t.doc.nodesBetween(c,u,(d,h)=>{d.isText||t.setNodeMarkup(h,void 0,{...d.attrs,dir:n})}),!0},dz=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:s,to:o}=typeof n=="number"?{from:n,to:n}:n,c=he.atStart(r).from,u=he.atEnd(r).to,d=es(s,c,u),h=es(o,c,u),m=he.create(r,d,h);e.setSelection(m)}return!0},hz=n=>({state:e,dispatch:t})=>{const r=ut(n,e.schema);return c3(r)(e,t)};function rx(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(s=>e?.includes(s.type.name));n.tr.ensureMarks(r)}}var pz=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:s})=>{const{selection:o,doc:c}=e,{$from:u,$to:d}=o,h=s.extensionManager.attributes,m=mu(h,u.node().type.name,u.node().attrs);if(o instanceof le&&o.node.isBlock)return!u.parentOffset||!Sr(c,u.pos)?!1:(r&&(n&&rx(t,s.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const y=d.parentOffset===d.parent.content.size,b=u.depth===0?void 0:qL(u.node(-1).contentMatchAt(u.indexAfter(-1)));let v=y&&b?[{type:b,attrs:m}]:void 0,x=Sr(e.doc,e.mapping.map(u.pos),1,v);if(!v&&!x&&Sr(e.doc,e.mapping.map(u.pos),1,b?[{type:b}]:void 0)&&(x=!0,v=b?[{type:b,attrs:m}]:void 0),r){if(x&&(o instanceof he&&e.deleteSelection(),e.split(e.mapping.map(u.pos),1,v),b&&!y&&!u.parentOffset&&u.parent.type!==b)){const T=e.mapping.map(u.before()),C=e.doc.resolve(T);u.node(-1).canReplaceWith(C.index(),C.index()+1,b)&&e.setNodeMarkup(e.mapping.map(u.before()),b)}n&&rx(t,s.extensionManager.splittableMarks),e.scrollIntoView()}return x},mz=(n,e={})=>({tr:t,state:r,dispatch:s,editor:o})=>{var c;const u=ut(n,r.schema),{$from:d,$to:h}=r.selection,m=r.selection.node;if(m&&m.isBlock||d.depth<2||!d.sameParent(h))return!1;const y=d.node(-1);if(y.type!==u)return!1;const b=o.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==u||d.index(-2)!==d.node(-2).childCount-1)return!1;if(s){let w=K.empty;const I=d.index(-1)?1:d.index(-2)?2:3;for(let ee=d.depth-I;ee>=d.depth-3;ee-=1)w=K.from(d.node(ee).copy(w));const j=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,F={...mu(b,d.node().type.name,d.node().attrs),...e},q=((c=u.contentMatch.defaultType)==null?void 0:c.createAndFill(F))||void 0;w=w.append(K.from(u.createAndFill(null,q)||void 0));const W=d.before(d.depth-(I-1));t.replace(W,d.after(-j),new Z(w,4-I,0));let P=-1;t.doc.nodesBetween(W,t.doc.content.size,(ee,te)=>{if(P>-1)return!1;ee.isTextblock&&ee.content.size===0&&(P=te+1)}),P>-1&&t.setSelection(he.near(t.doc.resolve(P))),t.scrollIntoView()}return!0}const v=h.pos===d.end()?y.contentMatchAt(0).defaultType:null,x={...mu(b,y.type.name,y.attrs),...e},T={...mu(b,d.node().type.name,d.node().attrs),...e};t.delete(d.pos,h.pos);const C=v?[{type:u,attrs:x},{type:v,attrs:T}]:[{type:u,attrs:x}];if(!Sr(t.doc,d.pos,2))return!1;if(s){const{selection:w,storedMarks:I}=r,{splittableMarks:j}=o.extensionManager,F=I||w.$to.parentOffset&&w.$from.marks();if(t.split(d.pos,2,C).scrollIntoView(),!F||!s)return!0;const q=F.filter(W=>j.includes(W.type.name));t.ensureMarks(q)}return!0},Pp=(n,e)=>{const t=jf(c=>c.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const s=n.doc.nodeAt(r);return t.node.type===s?.type&&Ai(n.doc,t.pos)&&n.join(t.pos),!0},Hp=(n,e)=>{const t=jf(c=>c.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const s=n.doc.nodeAt(r);return t.node.type===s?.type&&Ai(n.doc,r)&&n.join(r),!0},gz=(n,e,t,r={})=>({editor:s,tr:o,state:c,dispatch:u,chain:d,commands:h,can:m})=>{const{extensions:y,splittableMarks:b}=s.extensionManager,v=ut(n,c.schema),x=ut(e,c.schema),{selection:T,storedMarks:C}=c,{$from:w,$to:I}=T,j=w.blockRange(I),F=C||T.$to.parentOffset&&T.$from.marks();if(!j)return!1;const q=jf(W=>nx(W.type.name,y))(T);if(j.depth>=1&&q&&j.depth-q.depth<=1){if(q.node.type===v)return h.liftListItem(x);if(nx(q.node.type.name,y)&&v.validContent(q.node.content)&&u)return d().command(()=>(o.setNodeMarkup(q.pos,v),!0)).command(()=>Pp(o,v)).command(()=>Hp(o,v)).run()}return!t||!F||!u?d().command(()=>m().wrapInList(v,r)?!0:h.clearNodes()).wrapInList(v,r).command(()=>Pp(o,v)).command(()=>Hp(o,v)).run():d().command(()=>{const W=m().wrapInList(v,r),P=F.filter(ee=>b.includes(ee.type.name));return o.ensureMarks(P),W?!0:h.clearNodes()}).wrapInList(v,r).command(()=>Pp(o,v)).command(()=>Hp(o,v)).run()},yz=(n,e={},t={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:o=!1}=t,c=wr(n,r.schema);return Om(r,c,e)?s.unsetMark(c,{extendEmptyMarkRange:o}):s.setMark(c,e)},bz=(n,e,t={})=>({state:r,commands:s})=>{const o=ut(n,r.schema),c=ut(e,r.schema),u=ki(r,o,t);let d;return r.selection.$anchor.sameParent(r.selection.$head)&&(d=r.selection.$anchor.parent.attrs),u?s.setNode(c,d):s.setNode(o,{...d,...t})},vz=(n,e={})=>({state:t,commands:r})=>{const s=ut(n,t.schema);return ki(t,s,e)?r.lift(s):r.wrapIn(s,e)},Sz=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const s=t[r];let o;if(s.spec.isInputRules&&(o=s.getState(n))){if(e){const c=n.tr,u=o.transform;for(let d=u.steps.length-1;d>=0;d-=1)c.step(u.steps[d].invert(u.docs[d]));if(o.text){const d=c.doc.resolve(o.from).marks();c.replaceWith(o.from,o.to,n.schema.text(o.text,d))}else c.delete(o.from,o.to)}return!0}}return!1},xz=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:s}=t;return r||e&&s.forEach(o=>{n.removeMark(o.$from.pos,o.$to.pos)}),!0},Ez=(n,e={})=>({tr:t,state:r,dispatch:s})=>{var o;const{extendEmptyMarkRange:c=!1}=e,{selection:u}=t,d=wr(n,r.schema),{$from:h,empty:m,ranges:y}=u;if(!s)return!0;if(m&&c){let{from:b,to:v}=u;const x=(o=h.marks().find(C=>C.type===d))==null?void 0:o.attrs,T=Og(h,d,x);T&&(b=T.from,v=T.to),t.removeMark(b,v,d)}else y.forEach(b=>{t.removeMark(b.$from.pos,b.$to.pos,d)});return t.removeStoredMark(d),!0},kz=n=>({tr:e,state:t,dispatch:r})=>{const{selection:s}=t;let o,c;return typeof n=="number"?(o=n,c=n):n&&"from"in n&&"to"in n?(o=n.from,c=n.to):(o=s.from,c=s.to),r&&e.doc.nodesBetween(o,c,(u,d)=>{if(u.isText)return;const h={...u.attrs};delete h.dir,e.setNodeMarkup(d,void 0,h)}),!0},Tz=(n,e={})=>({tr:t,state:r,dispatch:s})=>{let o=null,c=null;const u=Bf(typeof n=="string"?n:n.name,r.schema);if(!u)return!1;u==="node"&&(o=ut(n,r.schema)),u==="mark"&&(c=wr(n,r.schema));let d=!1;return t.selection.ranges.forEach(h=>{const m=h.$from.pos,y=h.$to.pos;let b,v,x,T;t.selection.empty?r.doc.nodesBetween(m,y,(C,w)=>{o&&o===C.type&&(d=!0,x=Math.max(w,m),T=Math.min(w+C.nodeSize,y),b=w,v=C)}):r.doc.nodesBetween(m,y,(C,w)=>{w<m&&o&&o===C.type&&(d=!0,x=Math.max(w,m),T=Math.min(w+C.nodeSize,y),b=w,v=C),w>=m&&w<=y&&(o&&o===C.type&&(d=!0,s&&t.setNodeMarkup(w,void 0,{...C.attrs,...e})),c&&C.marks.length&&C.marks.forEach(I=>{if(c===I.type&&(d=!0,s)){const j=Math.max(w,m),F=Math.min(w+C.nodeSize,y);t.addMark(j,F,c.create({...I.attrs,...e}))}}))}),v&&(b!==void 0&&s&&t.setNodeMarkup(b,void 0,{...v.attrs,...e}),c&&v.marks.length&&v.marks.forEach(C=>{c===C.type&&s&&t.addMark(x,T,c.create({...C.attrs,...e}))}))}),d},Cz=(n,e={})=>({state:t,dispatch:r})=>{const s=ut(n,t.schema);return n3(s,e)(t,r)},wz=(n,e={})=>({state:t,dispatch:r})=>{const s=ut(n,t.schema);return r3(s,e)(t,r)},Az=class{constructor(){this.callbacks={}}on(n,e){return this.callbacks[n]||(this.callbacks[n]=[]),this.callbacks[n].push(e),this}emit(n,...e){const t=this.callbacks[n];return t&&t.forEach(r=>r.apply(this,e)),this}off(n,e){const t=this.callbacks[n];return t&&(e?this.callbacks[n]=t.filter(r=>r!==e):delete this.callbacks[n]),this}once(n,e){const t=(...r)=>{this.off(n,t),e.apply(this,r)};return this.on(n,t)}removeAllListeners(){this.callbacks={}}},Pf=class{constructor(n){var e;this.find=n.find,this.handler=n.handler,this.undoable=(e=n.undoable)!=null?e:!0}},Nz=(n,e)=>{if(Mg(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function Qc(n){var e;const{editor:t,from:r,to:s,text:o,rules:c,plugin:u}=n,{view:d}=t;if(d.composing)return!1;const h=d.state.doc.resolve(r);if(h.parent.type.spec.code||(e=h.nodeBefore||h.nodeAfter)!=null&&e.marks.find(b=>b.type.spec.code))return!1;let m=!1;const y=nz(h)+o;return c.forEach(b=>{if(m)return;const v=Nz(y,b.find);if(!v)return;const x=d.state.tr,T=Lf({state:d.state,transaction:x}),C={from:r-(v[0].length-o.length),to:s},{commands:w,chain:I,can:j}=new zf({editor:t,state:T});b.handler({state:T,range:C,match:v,commands:w,chain:I,can:j})===null||!x.steps.length||(b.undoable&&x.setMeta(u,{transform:x,from:r,to:s,text:o}),d.dispatch(x),m=!0)}),m}function Mz(n){const{editor:e,rules:t}=n,r=new Je({state:{init(){return null},apply(s,o,c){const u=s.getMeta(r);if(u)return u;const d=s.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:m}=d;typeof m=="string"?m=m:m=_g(K.from(m),c.schema);const{from:y}=d,b=y+m.length;Qc({editor:e,from:y,to:b,text:m,rules:t,plugin:r})}),s.selectionSet||s.docChanged?null:o}},props:{handleTextInput(s,o,c,u){return Qc({editor:e,from:o,to:c,text:u,rules:t,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:o}=s.state.selection;o&&Qc({editor:e,from:o.pos,to:o.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(s,o){if(o.key!=="Enter")return!1;const{$cursor:c}=s.state.selection;return c?Qc({editor:e,from:c.pos,to:c.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function Oz(n){return Object.prototype.toString.call(n).slice(8,-1)}function Zc(n){return Oz(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function NT(n,e){const t={...n};return Zc(n)&&Zc(e)&&Object.keys(e).forEach(r=>{Zc(e[r])&&Zc(n[r])?t[r]=NT(n[r],e[r]):t[r]=e[r]}),t}var zg=class{constructor(n={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...n},this.name=this.config.name}get options(){return{...ze(oe(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...ze(oe(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(n={}){const e=this.extend({...this.config,addOptions:()=>NT(this.options,n)});return e.name=this.name,e.parent=this.parent,e}extend(n={}){const e=new this.constructor({...this.config,...n});return e.parent=this,this.child=e,e.name="name"in n?n.name:e.parent.name,e}},Mi=class MT extends zg{constructor(){super(...arguments),this.type="mark"}static create(e={}){const t=typeof e=="function"?e():e;return new MT(t)}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const c=s.marks();if(!!!c.find(h=>h?.type.name===t.name))return!1;const d=c.find(h=>h?.type.name===t.name);return d&&r.removeStoredMark(d),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}};function Rz(n){return typeof n=="number"}var Dz=class{constructor(n){this.find=n.find,this.handler=n.handler}},_z=(n,e,t)=>{if(Mg(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(s=>{const o=[s.text];return o.index=s.index,o.input=n,o.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(s.replaceWith)),o}):[]};function Iz(n){const{editor:e,state:t,from:r,to:s,rule:o,pasteEvent:c,dropEvent:u}=n,{commands:d,chain:h,can:m}=new zf({editor:e,state:t}),y=[];return t.doc.nodesBetween(r,s,(v,x)=>{var T,C,w,I,j;if((C=(T=v.type)==null?void 0:T.spec)!=null&&C.code||!(v.isText||v.isTextblock||v.isInline))return;const F=(j=(I=(w=v.content)==null?void 0:w.size)!=null?I:v.nodeSize)!=null?j:0,q=Math.max(r,x),W=Math.min(s,x+F);if(q>=W)return;const P=v.isText?v.text||"":v.textBetween(q-x,W-x,void 0,"");_z(P,o.find,c).forEach(te=>{if(te.index===void 0)return;const de=q+te.index+1,Oe=de+te[0].length,Q={from:t.tr.mapping.map(de),to:t.tr.mapping.map(Oe)},Se=o.handler({state:t,range:Q,match:te,commands:d,chain:h,can:m,pasteEvent:c,dropEvent:u});y.push(Se)})}),y.every(v=>v!==null)}var eu=null,Lz=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)==null||e.setData("text/html",n),t};function zz(n){const{editor:e,rules:t}=n;let r=null,s=!1,o=!1,c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u;try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}const d=({state:m,from:y,to:b,rule:v,pasteEvt:x})=>{const T=m.tr,C=Lf({state:m,transaction:T});if(!(!Iz({editor:e,state:C,from:Math.max(y-1,0),to:b.b-1,rule:v,pasteEvent:x,dropEvent:u})||!T.steps.length)){try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}return c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,T}};return t.map(m=>new Je({view(y){const b=x=>{var T;r=(T=y.dom.parentElement)!=null&&T.contains(x.target)?y.dom.parentElement:null,r&&(eu=e)},v=()=>{eu&&(eu=null)};return window.addEventListener("dragstart",b),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",b),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:(y,b)=>{if(o=r===y.dom.parentElement,u=b,!o){const v=eu;v?.isEditable&&setTimeout(()=>{const x=v.state.selection;x&&v.commands.deleteRange({from:x.from,to:x.to})},10)}return!1},paste:(y,b)=>{var v;const x=(v=b.clipboardData)==null?void 0:v.getData("text/html");return c=b,s=!!x?.includes("data-pm-slice"),!1}}},appendTransaction:(y,b,v)=>{const x=y[0],T=x.getMeta("uiEvent")==="paste"&&!s,C=x.getMeta("uiEvent")==="drop"&&!o,w=x.getMeta("applyPasteRules"),I=!!w;if(!T&&!C&&!I)return;if(I){let{text:q}=w;typeof q=="string"?q=q:q=_g(K.from(q),v.schema);const{from:W}=w,P=W+q.length,ee=Lz(q);return d({rule:m,state:v,from:W,to:{b:P},pasteEvt:ee})}const j=b.doc.content.findDiffStart(v.doc.content),F=b.doc.content.findDiffEnd(v.doc.content);if(!(!Rz(j)||!F||j===F.b))return d({rule:m,state:v,from:j,to:F,pasteEvt:c})}}))}var Hf=class{constructor(n,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=n,this.extensions=ET(n),this.schema=WL(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((n,e)=>{const t={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Up(e.name,this.schema)},r=oe(e,"addCommands",t);return r?{...n,...r()}:n},{})}get plugins(){const{editor:n}=this;return Ig([...this.extensions].reverse()).flatMap(r=>{const s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:n,type:Up(r.name,this.schema)},o=[],c=oe(r,"addKeyboardShortcuts",s);let u={};if(r.type==="mark"&&oe(r,"exitable",s)&&(u.ArrowRight=()=>Mi.handleExit({editor:n,mark:r})),c){const b=Object.fromEntries(Object.entries(c()).map(([v,x])=>[v,()=>x({editor:n})]));u={...u,...b}}const d=QI(u);o.push(d);const h=oe(r,"addInputRules",s);if(tx(r,n.options.enableInputRules)&&h){const b=h();if(b&&b.length){const v=Mz({editor:n,rules:b}),x=Array.isArray(v)?v:[v];o.push(...x)}}const m=oe(r,"addPasteRules",s);if(tx(r,n.options.enablePasteRules)&&m){const b=m();if(b&&b.length){const v=zz({editor:n,rules:b});o.push(...v)}}const y=oe(r,"addProseMirrorPlugins",s);if(y){const b=y();o.push(...b)}return o})}get attributes(){return xT(this.extensions)}get nodeViews(){const{editor:n}=this,{nodeExtensions:e}=Ea(this.extensions);return Object.fromEntries(e.filter(t=>!!oe(t,"addNodeView")).map(t=>{const r=this.attributes.filter(d=>d.type===t.name),s={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:n,type:ut(t.name,this.schema)},o=oe(t,"addNodeView",s);if(!o)return[];const c=o();if(!c)return[];const u=(d,h,m,y,b)=>{const v=Uu(d,r);return c({node:d,view:h,getPos:m,decorations:y,innerDecorations:b,editor:n,extension:t,HTMLAttributes:v})};return[t.name,u]}))}get markViews(){const{editor:n}=this,{markExtensions:e}=Ea(this.extensions);return Object.fromEntries(e.filter(t=>!!oe(t,"addMarkView")).map(t=>{const r=this.attributes.filter(u=>u.type===t.name),s={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:n,type:wr(t.name,this.schema)},o=oe(t,"addMarkView",s);if(!o)return[];const c=(u,d,h)=>{const m=Uu(u,r);return o()({mark:u,view:d,inline:h,editor:n,extension:t,HTMLAttributes:m,updateAttributes:y=>{Jz(u,n,y)}})};return[t.name,c]}))}setupExtensions(){const n=this.extensions;this.editor.extensionStorage=Object.fromEntries(n.map(e=>[e.name,e.storage])),n.forEach(e=>{var t;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Up(e.name,this.schema)};e.type==="mark"&&((t=ze(oe(e,"keepOnSplit",r)))==null||t)&&this.splittableMarks.push(e.name);const s=oe(e,"onBeforeCreate",r),o=oe(e,"onCreate",r),c=oe(e,"onUpdate",r),u=oe(e,"onSelectionUpdate",r),d=oe(e,"onTransaction",r),h=oe(e,"onFocus",r),m=oe(e,"onBlur",r),y=oe(e,"onDestroy",r);s&&this.editor.on("beforeCreate",s),o&&this.editor.on("create",o),c&&this.editor.on("update",c),u&&this.editor.on("selectionUpdate",u),d&&this.editor.on("transaction",d),h&&this.editor.on("focus",h),m&&this.editor.on("blur",m),y&&this.editor.on("destroy",y)})}};Hf.resolve=ET;Hf.sort=Ig;Hf.flatten=Dg;var Bz={};Ng(Bz,{ClipboardTextSerializer:()=>RT,Commands:()=>DT,Delete:()=>_T,Drop:()=>IT,Editable:()=>LT,FocusEvents:()=>BT,Keymap:()=>jT,Paste:()=>UT,Tabindex:()=>PT,TextDirection:()=>HT,focusEventsPluginKey:()=>zT});var Pe=class OT extends zg{constructor(){super(...arguments),this.type="extension"}static create(e={}){const t=typeof e=="function"?e():e;return new OT(t)}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}},RT=Pe.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Je({key:new dt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:s}=e,{ranges:o}=s,c=Math.min(...o.map(m=>m.$from.pos)),u=Math.max(...o.map(m=>m.$to.pos)),d=TT(t);return kT(r,{from:c,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),DT=Pe.create({name:"commands",addCommands(){return{...dT}}}),_T=Pe.create({name:"delete",onUpdate({transaction:n,appendedTransactions:e}){var t,r,s;const o=()=>{var c,u,d,h;if((h=(d=(u=(c=this.editor.options.coreExtensionOptions)==null?void 0:c.delete)==null?void 0:u.filterTransaction)==null?void 0:d.call(u,n))!=null?h:n.getMeta("y-sync$"))return;const m=vT(n.before,[n,...e]);wT(m).forEach(v=>{m.mapping.mapResult(v.oldRange.from).deletedAfter&&m.mapping.mapResult(v.oldRange.to).deletedBefore&&m.before.nodesBetween(v.oldRange.from,v.oldRange.to,(x,T)=>{const C=T+x.nodeSize-2,w=v.oldRange.from<=T&&C<=v.oldRange.to;this.editor.emit("delete",{type:"node",node:x,from:T,to:C,newFrom:m.mapping.map(T),newTo:m.mapping.map(C),deletedRange:v.oldRange,newRange:v.newRange,partial:!w,editor:this.editor,transaction:n,combinedTransform:m})})});const b=m.mapping;m.steps.forEach((v,x)=>{var T,C;if(v instanceof Nn){const w=b.slice(x).map(v.from,-1),I=b.slice(x).map(v.to),j=b.invert().map(w,-1),F=b.invert().map(I),q=(T=m.doc.nodeAt(w-1))==null?void 0:T.marks.some(P=>P.eq(v.mark)),W=(C=m.doc.nodeAt(I))==null?void 0:C.marks.some(P=>P.eq(v.mark));this.editor.emit("delete",{type:"mark",mark:v.mark,from:v.from,to:v.to,deletedRange:{from:j,to:F},newRange:{from:w,to:I},partial:!!(W||q),editor:this.editor,transaction:n,combinedTransform:m})}})};(s=(r=(t=this.editor.options.coreExtensionOptions)==null?void 0:t.delete)==null?void 0:r.async)==null||s?setTimeout(o,0):o()}}),IT=Pe.create({name:"drop",addProseMirrorPlugins(){return[new Je({key:new dt("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),LT=Pe.create({name:"editable",addProseMirrorPlugins(){return[new Je({key:new dt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),zT=new dt("focusEvents"),BT=Pe.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new Je({key:zT,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),jT=Pe.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:c})=>[()=>c.undoInputRule(),()=>c.command(({tr:u})=>{const{selection:d,doc:h}=u,{empty:m,$anchor:y}=d,{pos:b,parent:v}=y,x=y.parent.isTextblock&&b>0?u.doc.resolve(b-1):y,T=x.parent.type.spec.isolating,C=y.pos-y.parentOffset,w=T&&x.parent.childCount===1?C===y.pos:ve.atStart(h).from===b;return!m||!v.type.isTextblock||v.textContent.length||!w||w&&y.parent.type.name==="paragraph"?!1:c.clearNodes()}),()=>c.deleteSelection(),()=>c.joinBackward(),()=>c.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:c})=>[()=>c.deleteSelection(),()=>c.deleteCurrentNode(),()=>c.joinForward(),()=>c.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:c})=>[()=>c.newlineInCode(),()=>c.createParagraphNear(),()=>c.liftEmptyBlock(),()=>c.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},o={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Rg()||yT()?o:s},addProseMirrorPlugins(){return[new Je({key:new dt("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(T=>T.getMeta("composition")))return;const r=n.some(T=>T.docChanged)&&!e.doc.eq(t.doc),s=n.some(T=>T.getMeta("preventClearDocument"));if(!r||s)return;const{empty:o,from:c,to:u}=e.selection,d=ve.atStart(e.doc).from,h=ve.atEnd(e.doc).to;if(o||!(c===d&&u===h)||!Uf(t.doc))return;const b=t.tr,v=Lf({state:t,transaction:b}),{commands:x}=new zf({editor:this.editor,state:v});if(x.clearNodes(),!!b.steps.length)return b}})]}}),UT=Pe.create({name:"paste",addProseMirrorPlugins(){return[new Je({key:new dt("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),PT=Pe.create({name:"tabindex",addProseMirrorPlugins(){return[new Je({key:new dt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),HT=Pe.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:n}=Ea(this.extensions);return[{types:n.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const t=e.getAttribute("dir");return t&&(t==="ltr"||t==="rtl"||t==="auto")?t:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new Je({key:new dt("textDirection"),props:{attributes:()=>{const n=this.options.direction;return n?{dir:n}:{}}}})]}}),jz=class sa{constructor(e,t,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new sa(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new sa(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new sa(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const s=t.isBlock&&!t.isTextblock,o=t.isAtom&&!t.isText,c=this.pos+r+(o?0:1);if(c<0||c>this.resolvedPos.doc.nodeSize-2)return;const u=this.resolvedPos.doc.resolve(c);if(!s&&u.depth<=this.depth)return;const d=new sa(u,this.editor,s,s?t:null);s&&(d.actualDepth=this.depth+1),e.push(new sa(u,this.editor,s,s?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===e)if(Object.keys(t).length>0){const o=s.node.attrs,c=Object.keys(t);for(let u=0;u<c.length;u+=1){const d=c[u];if(o[d]!==t[d])break}}else r=s;s=s.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const o=Object.keys(t);return this.children.forEach(c=>{r&&s.length>0||(c.node.type.name===e&&o.every(d=>t[d]===c.node.attrs[d])&&s.push(c),!(r&&s.length>0)&&(s=s.concat(c.querySelectorAll(e,t,r))))}),s}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}},Uz=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function Pz(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(s),s}var Hz=class extends Az{constructor(n={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(n),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:s,moved:o})=>this.options.onDrop(r,s,o)),this.on("paste",({event:r,slice:s})=>this.options.onPaste(r,s)),this.on("delete",this.options.onDelete);const e=this.createDoc(),t=mT(e,this.options.autofocus);this.editorState=la.create({doc:e,schema:this.schema,selection:t||void 0}),this.options.element&&this.mount(this.options.element)}mount(n){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(n),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const n=this.editorView.dom;n?.editor&&delete n.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(n){console.warn("Failed to remove CSS element:",n)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=Pz(Uz,this.options.injectNonce))}setOptions(n={}){this.options={...this.options,...n},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(n,e=!0){this.setOptions({editable:n}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:n=>{this.editorState=n},dispatch:n=>{this.dispatchTransaction(n)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(n,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in n)return Reflect.get(n,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(n,e){const t=ST(e)?e(n,[...this.state.plugins]):[...this.state.plugins,n],r=this.state.reconfigure({plugins:t});return this.view.updateState(r),r}unregisterPlugin(n){if(this.isDestroyed)return;const e=this.state.plugins;let t=e;if([].concat(n).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;t=t.filter(c=>!c.key.startsWith(o))}),e.length===t.length)return;const r=this.state.reconfigure({plugins:t});return this.view.updateState(r),r}createExtensionManager(){var n,e;const r=[...this.options.enableCoreExtensions?[LT,RT.configure({blockSeparator:(e=(n=this.options.coreExtensionOptions)==null?void 0:n.clipboardTextSerializer)==null?void 0:e.blockSeparator}),DT,BT,jT,PT,IT,UT,_T,HT.configure({direction:this.options.textDirection})].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s?.type));this.extensionManager=new Hf(r,this)}createCommandManager(){this.commandManager=new zf({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let n;try{n=Mm(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(t=>t.name!=="collaboration"),this.createExtensionManager()}}),n=Mm(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return n}createView(n){var e;this.editorView=new uT(n,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const t=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(t),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(n){this.isCapturingTransaction=!0,n(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(n){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=n;return}n.steps.forEach(h=>{var m;return(m=this.capturedTransaction)==null?void 0:m.step(h)});return}const{state:e,transactions:t}=this.state.applyTransaction(n),r=!this.state.selection.eq(e.selection),s=t.includes(n),o=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:n,nextState:e}),!s)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:n,appendedTransactions:t.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:n});const c=t.findLast(h=>h.getMeta("focus")||h.getMeta("blur")),u=c?.getMeta("focus"),d=c?.getMeta("blur");u&&this.emit("focus",{editor:this,event:u.event,transaction:c}),d&&this.emit("blur",{editor:this,event:d.event,transaction:c}),!(n.getMeta("preventUpdate")||!t.some(h=>h.docChanged)||o.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:n,appendedTransactions:t.slice(1)})}getAttributes(n){return CT(this.state,n)}isActive(n,e){const t=typeof n=="string"?n:null,r=typeof n=="string"?e:n;return rz(this.state,t,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return _g(this.state.doc.content,this.schema)}getText(n){const{blockSeparator:e=`

`,textSerializers:t={}}=n||{};return XL(this.state.doc,{blockSeparator:e,textSerializers:{...TT(this.schema),...t}})}get isEmpty(){return Uf(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var n,e;return(e=(n=this.editorView)==null?void 0:n.isDestroyed)!=null?e:!0}$node(n,e){var t;return((t=this.$doc)==null?void 0:t.querySelector(n,e))||null}$nodes(n,e){var t;return((t=this.$doc)==null?void 0:t.querySelectorAll(n,e))||null}$pos(n){const e=this.state.doc.resolve(n);return new jz(e,this)}get $doc(){return this.$pos(0)}};function ka(n){return new Pf({find:n.find,handler:({state:e,range:t,match:r})=>{const s=ze(n.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:o}=e,c=r[r.length-1],u=r[0];if(c){const d=u.search(/\S/),h=t.from+u.indexOf(c),m=h+c.length;if(Lg(t.from,t.to,e.doc).filter(v=>v.mark.type.excluded.find(T=>T===n.type&&T!==v.mark.type)).filter(v=>v.to>h).length)return null;m<t.to&&o.delete(m,t.to),h>t.from&&o.delete(t.from+d,h);const b=t.from+d+c.length;o.addMark(t.from+d,b,n.type.create(s||{})),o.removeStoredMark(n.type)}},undoable:n.undoable})}function Vz(n){return new Pf({find:n.find,handler:({state:e,range:t,match:r})=>{const s=ze(n.getAttributes,void 0,r)||{},{tr:o}=e,c=t.from;let u=t.to;const d=n.type.create(s);if(r[1]){const h=r[0].lastIndexOf(r[1]);let m=c+h;m>u?m=u:u=m+r[1].length;const y=r[0][r[0].length-1];o.insertText(y,c+r[0].length-1),o.replaceWith(m,u,d)}else if(r[0]){const h=n.type.isInline?c:c-1;o.insert(h,n.type.create(s)).delete(o.mapping.map(c),o.mapping.map(u))}o.scrollIntoView()},undoable:n.undoable})}function Rm(n){return new Pf({find:n.find,handler:({state:e,range:t,match:r})=>{const s=e.doc.resolve(t.from),o=ze(n.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,o)},undoable:n.undoable})}function Ta(n){return new Pf({find:n.find,handler:({state:e,range:t,match:r,chain:s})=>{const o=ze(n.getAttributes,void 0,r)||{},c=e.tr.delete(t.from,t.to),d=c.doc.resolve(t.from).blockRange(),h=d&&dg(d,n.type,o);if(!h)return null;if(c.wrap(d,h),n.keepMarks&&n.editor){const{selection:y,storedMarks:b}=e,{splittableMarks:v}=n.editor.extensionManager,x=b||y.$to.parentOffset&&y.$from.marks();if(x){const T=x.filter(C=>v.includes(C.type.name));c.ensureMarks(T)}}if(n.keepAttributes){const y=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(y,o).run()}const m=c.doc.resolve(t.from-1).nodeBefore;m&&m.type===n.type&&Ai(c.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,m))&&c.join(t.from-1)},undoable:n.undoable})}function $z(n,e){const{selection:t}=n,{$from:r}=t;if(t instanceof le){const o=r.index();return r.parent.canReplaceWith(o,o+1,e)}let s=r.depth;for(;s>=0;){const o=r.index(s);if(r.node(s).contentMatchAt(o).matchType(e))return!0;s-=1}return!1}var qz={};Ng(qz,{createAtomBlockMarkdownSpec:()=>Fz,createBlockMarkdownSpec:()=>Kz,createInlineMarkdownSpec:()=>Wz,parseAttributes:()=>Bg,parseIndentedBlocks:()=>Dm,renderNestedMarkdownContent:()=>Ug,serializeAttributes:()=>jg});function Bg(n){if(!n?.trim())return{};const e={},t=[],r=n.replace(/["']([^"']*)["']/g,h=>(t.push(h),`__QUOTED_${t.length-1}__`)),s=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(s){const h=s.map(m=>m.trim().slice(1));e.class=h.join(" ")}const o=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);o&&(e.id=o[1]);const c=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(c)).forEach(([,h,m])=>{var y;const b=parseInt(((y=m.match(/__QUOTED_(\d+)__/))==null?void 0:y[1])||"0",10),v=t[b];v&&(e[h]=v.slice(1,-1))});const d=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return d&&d.split(/\s+/).filter(Boolean).forEach(m=>{m.match(/^[a-zA-Z][\w-]*$/)&&(e[m]=!0)}),e}function jg(n){if(!n||Object.keys(n).length===0)return"";const e=[];return n.class&&String(n.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),n.id&&e.push(`#${n.id}`),Object.entries(n).forEach(([t,r])=>{t==="class"||t==="id"||(r===!0?e.push(t):r!==!1&&r!=null&&e.push(`${t}="${String(r)}"`))}),e.join(" ")}function Fz(n){const{nodeName:e,name:t,parseAttributes:r=Bg,serializeAttributes:s=jg,defaultAttributes:o={},requiredAttributes:c=[],allowedAttributes:u}=n,d=t||e,h=m=>{if(!u)return m;const y={};return u.forEach(b=>{b in m&&(y[b]=m[b])}),y};return{parseMarkdown:(m,y)=>{const b={...o,...m.attributes};return y.createNode(e,b,[])},markdownTokenizer:{name:e,level:"block",start(m){var y;const b=new RegExp(`^:::${d}(?:\\s|$)`,"m"),v=(y=m.match(b))==null?void 0:y.index;return v!==void 0?v:-1},tokenize(m,y,b){const v=new RegExp(`^:::${d}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),x=m.match(v);if(!x)return;const T=x[1]||"",C=r(T);if(!c.find(I=>!(I in C)))return{type:e,raw:x[0],attributes:C}}},renderMarkdown:m=>{const y=h(m.attrs||{}),b=s(y),v=b?` {${b}}`:"";return`:::${d}${v} :::`}}}function Kz(n){const{nodeName:e,name:t,getContent:r,parseAttributes:s=Bg,serializeAttributes:o=jg,defaultAttributes:c={},content:u="block",allowedAttributes:d}=n,h=t||e,m=y=>{if(!d)return y;const b={};return d.forEach(v=>{v in y&&(b[v]=y[v])}),b};return{parseMarkdown:(y,b)=>{let v;if(r){const T=r(y);v=typeof T=="string"?[{type:"text",text:T}]:T}else u==="block"?v=b.parseChildren(y.tokens||[]):v=b.parseInline(y.tokens||[]);const x={...c,...y.attributes};return b.createNode(e,x,v)},markdownTokenizer:{name:e,level:"block",start(y){var b;const v=new RegExp(`^:::${h}`,"m"),x=(b=y.match(v))==null?void 0:b.index;return x!==void 0?x:-1},tokenize(y,b,v){var x;const T=new RegExp(`^:::${h}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),C=y.match(T);if(!C)return;const[w,I=""]=C,j=s(I);let F=1;const q=w.length;let W="";const P=/^:::([\w-]*)(\s.*)?/gm,ee=y.slice(q);for(P.lastIndex=0;;){const te=P.exec(ee);if(te===null)break;const de=te.index,Oe=te[1];if(!((x=te[2])!=null&&x.endsWith(":::"))){if(Oe)F+=1;else if(F-=1,F===0){const Q=ee.slice(0,de);W=Q.trim();const Se=y.slice(0,q+de+te[0].length);let _e=[];if(W)if(u==="block")for(_e=v.blockTokens(Q),_e.forEach(xe=>{xe.text&&(!xe.tokens||xe.tokens.length===0)&&(xe.tokens=v.inlineTokens(xe.text))});_e.length>0;){const xe=_e[_e.length-1];if(xe.type==="paragraph"&&(!xe.text||xe.text.trim()===""))_e.pop();else break}else _e=v.inlineTokens(W);return{type:e,raw:Se,attributes:j,content:W,tokens:_e}}}}}},renderMarkdown:(y,b)=>{const v=m(y.attrs||{}),x=o(v),T=x?` {${x}}`:"",C=b.renderChildren(y.content||[],`

`);return`:::${h}${T}

${C}

:::`}}}function Gz(n){if(!n.trim())return{};const e={},t=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=t.exec(n);for(;r!==null;){const[,s,o,c]=r;e[s]=o||c,r=t.exec(n)}return e}function Yz(n){return Object.entries(n).filter(([,e])=>e!=null).map(([e,t])=>`${e}="${t}"`).join(" ")}function Wz(n){const{nodeName:e,name:t,getContent:r,parseAttributes:s=Gz,serializeAttributes:o=Yz,defaultAttributes:c={},selfClosing:u=!1,allowedAttributes:d}=n,h=t||e,m=b=>{if(!d)return b;const v={};return d.forEach(x=>{x in b&&(v[x]=b[x])}),v},y=h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(b,v)=>{const x={...c,...b.attributes};if(u)return v.createNode(e,x);const T=r?r(b):b.content||"";return T?v.createNode(e,x,[v.createTextNode(T)]):v.createNode(e,x,[])},markdownTokenizer:{name:e,level:"inline",start(b){const v=u?new RegExp(`\\[${y}\\s*[^\\]]*\\]`):new RegExp(`\\[${y}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${y}\\]`),x=b.match(v),T=x?.index;return T!==void 0?T:-1},tokenize(b,v,x){const T=u?new RegExp(`^\\[${y}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${y}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${y}\\]`),C=b.match(T);if(!C)return;let w="",I="";if(u){const[,F]=C;I=F}else{const[,F,q]=C;I=F,w=q||""}const j=s(I.trim());return{type:e,raw:C[0],content:w.trim(),attributes:j}}},renderMarkdown:b=>{let v="";r?v=r(b):b.content&&b.content.length>0&&(v=b.content.filter(w=>w.type==="text").map(w=>w.text).join(""));const x=m(b.attrs||{}),T=o(x),C=T?` ${T}`:"";return u?`[${h}${C}]`:`[${h}${C}]${v}[/${h}]`}}}function Dm(n,e,t){var r,s,o,c;const u=n.split(`
`),d=[];let h="",m=0;const y=e.baseIndentSize||2;for(;m<u.length;){const b=u[m],v=b.match(e.itemPattern);if(!v){if(d.length>0)break;if(b.trim()===""){m+=1,h=`${h}${b}
`;continue}else return}const x=e.extractItemData(v),{indentLevel:T,mainContent:C}=x;h=`${h}${b}
`;const w=[C];for(m+=1;m<u.length;){const q=u[m];if(q.trim()===""){const P=u.slice(m+1).findIndex(de=>de.trim()!=="");if(P===-1)break;if((((s=(r=u[m+1+P].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:s.length)||0)>T){w.push(q),h=`${h}${q}
`,m+=1;continue}else break}if((((c=(o=q.match(/^(\s*)/))==null?void 0:o[1])==null?void 0:c.length)||0)>T)w.push(q),h=`${h}${q}
`,m+=1;else break}let I;const j=w.slice(1);if(j.length>0){const q=j.map(W=>W.slice(T+y)).join(`
`);q.trim()&&(e.customNestedParser?I=e.customNestedParser(q):I=t.blockTokens(q))}const F=e.createToken(x,I);d.push(F)}if(d.length!==0)return{items:d,raw:h}}function Ug(n,e,t,r){if(!n||!Array.isArray(n.content))return"";const s=typeof t=="function"?t(r):t,[o,...c]=n.content,u=e.renderChildren([o]),d=[`${s}${u}`];return c&&c.length>0&&c.forEach(h=>{const m=e.renderChildren([h]);if(m){const y=m.split(`
`).map(b=>b?e.indent(b):"").join(`
`);d.push(y)}}),d.join(`
`)}function Jz(n,e,t={}){const{state:r}=e,{doc:s,tr:o}=r,c=n;s.descendants((u,d)=>{const h=o.mapping.map(d),m=o.mapping.map(d)+u.nodeSize;let y=null;if(u.marks.forEach(v=>{if(v!==c)return!1;y=v}),!y)return;let b=!1;if(Object.keys(t).forEach(v=>{t[v]!==y.attrs[v]&&(b=!0)}),b){const v=n.type.create({...n.attrs,...t});o.removeMark(h,m,n.type),o.addMark(h,m,v)}}),o.docChanged&&e.view.dispatch(o)}var an=class VT extends zg{constructor(){super(...arguments),this.type="node"}static create(e={}){const t=typeof e=="function"?e():e;return new VT(t)}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}};function hs(n){return new Dz({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:s})=>{const o=ze(n.getAttributes,void 0,r,s);if(o===!1||o===null)return null;const{tr:c}=e,u=r[r.length-1],d=r[0];let h=t.to;if(u){const m=d.search(/\S/),y=t.from+d.indexOf(u),b=y+u.length;if(Lg(t.from,t.to,e.doc).filter(x=>x.mark.type.excluded.find(C=>C===n.type&&C!==x.mark.type)).filter(x=>x.to>y).length)return null;b<t.to&&c.delete(b,t.to),y>t.from&&c.delete(t.from+m,y),h=t.from+m+u.length,c.addMark(t.from+m,h,n.type.create(o||{})),c.removeStoredMark(n.type)}}})}var Vp,ix;function Xz(){return ix||(ix=1,Vp=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,s,o;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(s=r;s--!==0;)if(!n(e[s],t[s]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s of e.entries())if(!t.has(s[0]))return!1;for(s of e.entries())if(!n(s[1],t.get(s[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s of e.entries())if(!t.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(s=r;s--!==0;)if(e[s]!==t[s])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[s]))return!1;for(s=r;s--!==0;){var c=o[s];if(!(c==="_owner"&&e.$$typeof)&&!n(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}),Vp}var Qz=Xz();const Zz=gf(Qz);var $p={exports:{}},qp={};var sx;function e4(){if(sx)return qp;sx=1;var n=dl(),e=zE();function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,o=n.useRef,c=n.useEffect,u=n.useMemo,d=n.useDebugValue;return qp.useSyncExternalStoreWithSelector=function(h,m,y,b,v){var x=o(null);if(x.current===null){var T={hasValue:!1,value:null};x.current=T}else T=x.current;x=u(function(){function w(W){if(!I){if(I=!0,j=W,W=b(W),v!==void 0&&T.hasValue){var P=T.value;if(v(P,W))return F=P}return F=W}if(P=F,r(j,W))return P;var ee=b(W);return v!==void 0&&v(P,ee)?(j=W,P):(j=W,F=ee)}var I=!1,j,F,q=y===void 0?null:y;return[function(){return w(m())},q===null?void 0:function(){return w(q())}]},[m,y,b,v]);var C=s(h,x[0],x[1]);return c(function(){T.hasValue=!0,T.value=C},[C]),d(C),C},qp}var ax;function t4(){return ax||(ax=1,$p.exports=e4()),$p.exports}var n4=t4(),r4=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},i4=({contentComponent:n})=>{const e=BE.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return E.jsx(E.Fragment,{children:Object.values(e)})};function s4(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:kM.createPortal(r.reactElement,r.element,t)},n.forEach(s=>s())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(s=>s())}}}var a4=class extends xi.Component{constructor(n){var e;super(n),this.editorContentRef=xi.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=n.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const n=this.props.editor;if(n&&!n.isDestroyed&&n.options.element){if(n.contentComponent)return;const e=this.editorContentRef.current;e.append(n.view.dom),n.setOptions({element:e}),n.contentComponent=s4(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=n.contentComponent.subscribe(()=>{this.setState(t=>t.hasContentComponentInitialized?t:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),n.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var n;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((n=e.view.dom)!=null&&n.firstChild))return;const t=document.createElement("div");t.append(e.view.dom),e.setOptions({element:t})}catch{}}}render(){const{editor:n,innerRef:e,...t}=this.props;return E.jsxs(E.Fragment,{children:[E.jsx("div",{ref:r4(e,this.editorContentRef),...t}),n?.contentComponent&&E.jsx(i4,{contentComponent:n.contentComponent})]})}},o4=O.forwardRef((n,e)=>{const t=xi.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return xi.createElement(a4,{key:t,innerRef:e,...n})}),l4=xi.memo(o4),c4=typeof window<"u"?O.useLayoutEffect:O.useEffect,u4=class{constructor(n){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=n,this.lastSnapshot={editor:n,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(n){return this.subscribers.add(n),()=>{this.subscribers.delete(n)}}watch(n){if(this.editor=n,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},t=this.editor;return t.on("transaction",e),()=>{t.off("transaction",e)}}}};function f4(n){var e;const[t]=O.useState(()=>new u4(n.editor)),r=n4.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!=null?e:Zz);return c4(()=>t.watch(n.editor),[n.editor,t]),O.useDebugValue(r),r}var d4=!1,_m=typeof window>"u",h4=_m||!!(typeof window<"u"&&window.next),p4=class $T{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?_m||h4?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var s,o;return(o=(s=this.options.current).onBeforeCreate)==null?void 0:o.call(s,...r)},onBlur:(...r)=>{var s,o;return(o=(s=this.options.current).onBlur)==null?void 0:o.call(s,...r)},onCreate:(...r)=>{var s,o;return(o=(s=this.options.current).onCreate)==null?void 0:o.call(s,...r)},onDestroy:(...r)=>{var s,o;return(o=(s=this.options.current).onDestroy)==null?void 0:o.call(s,...r)},onFocus:(...r)=>{var s,o;return(o=(s=this.options.current).onFocus)==null?void 0:o.call(s,...r)},onSelectionUpdate:(...r)=>{var s,o;return(o=(s=this.options.current).onSelectionUpdate)==null?void 0:o.call(s,...r)},onTransaction:(...r)=>{var s,o;return(o=(s=this.options.current).onTransaction)==null?void 0:o.call(s,...r)},onUpdate:(...r)=>{var s,o;return(o=(s=this.options.current).onUpdate)==null?void 0:o.call(s,...r)},onContentError:(...r)=>{var s,o;return(o=(s=this.options.current).onContentError)==null?void 0:o.call(s,...r)},onDrop:(...r)=>{var s,o;return(o=(s=this.options.current).onDrop)==null?void 0:o.call(s,...r)},onPaste:(...r)=>{var s,o;return(o=(s=this.options.current).onPaste)==null?void 0:o.call(s,...r)},onDelete:(...r)=>{var s,o;return(o=(s=this.options.current).onDelete)==null?void 0:o.call(s,...r)}};return new Hz(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((s,o)=>{var c;return s===((c=t.extensions)==null?void 0:c[o])}):e[r]===t[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?$T.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,s)=>r===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function m4(n={},e=[]){const t=O.useRef(n);t.current=n;const[r]=O.useState(()=>new p4(t)),s=BE.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return O.useDebugValue(s),O.useEffect(r.onRender(e)),f4({editor:s,selector:({transactionNumber:o})=>n.shouldRerenderOnTransaction===!1||n.shouldRerenderOnTransaction===void 0?null:n.immediatelyRender&&o===0?0:o+1}),s}var g4=O.createContext({editor:null});g4.Consumer;var y4=O.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),b4=()=>O.useContext(y4);xi.forwardRef((n,e)=>{const{onDragStart:t}=b4(),r=n.as||"div";return E.jsx(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});xi.createContext({markViewContentRef:()=>{}});var Pu=(n,e)=>{if(n==="slot")return 0;if(n instanceof Function)return n(e);const{children:t,...r}=e??{};if(n==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[n,r,t]},v4=/^\s*>\s$/,S4=an.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return Pu("blockquote",{...it(this.options.HTMLAttributes,n),children:Pu("slot",{})})},parseMarkdown:(n,e)=>e.createNode("blockquote",void 0,e.parseChildren(n.tokens||[])),renderMarkdown:(n,e)=>{if(!n.content)return"";const t=">",r=[];return n.content.forEach(s=>{const u=e.renderChildren([s]).split(`
`).map(d=>d.trim()===""?t:`${t} ${d}`);r.push(u.join(`
`))}),r.join(`
${t}
`)},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Ta({find:v4,type:this.type})]}}),x4=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,E4=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,k4=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,T4=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,C4=Mi.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return Pu("strong",{...it(this.options.HTMLAttributes,n),children:Pu("slot",{})})},markdownTokenName:"strong",parseMarkdown:(n,e)=>e.applyMark("bold",e.parseInline(n.tokens||[])),renderMarkdown:(n,e)=>`**${e.renderChildren(n)}**`,addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[ka({find:x4,type:this.type}),ka({find:k4,type:this.type})]},addPasteRules(){return[hs({find:E4,type:this.type}),hs({find:T4,type:this.type})]}}),w4=/(^|[^`])`([^`]+)`(?!`)$/,A4=/(^|[^`])`([^`]+)`(?!`)/g,N4=Mi.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",it(this.options.HTMLAttributes,n),0]},markdownTokenName:"codespan",parseMarkdown:(n,e)=>e.applyMark("code",[{type:"text",text:n.text||""}]),renderMarkdown:(n,e)=>n.content?`\`${e.renderChildren(n.content)}\``:"",addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[ka({find:w4,type:this.type})]},addPasteRules(){return[hs({find:A4,type:this.type})]}}),Fp=4,M4=/^```([a-z]+)?[\s\n]$/,O4=/^~~~([a-z]+)?[\s\n]$/,R4=an.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Fp,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options;if(!t)return null;const o=[...((e=n.firstElementChild)==null?void 0:e.classList)||[]].filter(c=>c.startsWith(t)).map(c=>c.replace(t,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",it(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(n,e)=>{var t;return((t=n.raw)==null?void 0:t.startsWith("```"))===!1&&n.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:n.lang||null},n.text?[e.createTextNode(n.text)]:[])},renderMarkdown:(n,e)=>{var t;let r="";const s=((t=n.attrs)==null?void 0:t.language)||"";return n.content?r=[`\`\`\`${s}`,e.renderChildren(n.content),"```"].join(`
`):r=`\`\`\`${s}

\`\`\``,r},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:n})=>{var e;if(!this.options.enableTabIndentation)return!1;const t=(e=this.options.tabSize)!=null?e:Fp,{state:r}=n,{selection:s}=r,{$from:o,empty:c}=s;if(o.parent.type!==this.type)return!1;const u=" ".repeat(t);return c?n.commands.insertContent(u):n.commands.command(({tr:d})=>{const{from:h,to:m}=s,v=r.doc.textBetween(h,m,`
`,`
`).split(`
`).map(x=>u+x).join(`
`);return d.replaceWith(h,m,r.schema.text(v)),!0})},"Shift-Tab":({editor:n})=>{var e;if(!this.options.enableTabIndentation)return!1;const t=(e=this.options.tabSize)!=null?e:Fp,{state:r}=n,{selection:s}=r,{$from:o,empty:c}=s;return o.parent.type!==this.type?!1:c?n.commands.command(({tr:u})=>{var d;const{pos:h}=o,m=o.start(),y=o.end(),v=r.doc.textBetween(m,y,`
`,`
`).split(`
`);let x=0,T=0;const C=h-m;for(let W=0;W<v.length;W+=1){if(T+v[W].length>=C){x=W;break}T+=v[W].length+1}const I=((d=v[x].match(/^ */))==null?void 0:d[0])||"",j=Math.min(I.length,t);if(j===0)return!0;let F=m;for(let W=0;W<x;W+=1)F+=v[W].length+1;return u.delete(F,F+j),h-F<=j&&u.setSelection(he.create(u.doc,F)),!0}):n.commands.command(({tr:u})=>{const{from:d,to:h}=s,b=r.doc.textBetween(d,h,`
`,`
`).split(`
`).map(v=>{var x;const T=((x=v.match(/^ */))==null?void 0:x[0])||"",C=Math.min(T.length,t);return v.slice(C)}).join(`
`);return u.replaceWith(d,h,r.schema.text(b)),!0})},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:s}=t;if(!s||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,c=r.parent.textContent.endsWith(`

`);return!o||!c?!1:n.chain().command(({tr:u})=>(u.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:s,empty:o}=t;if(!o||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const u=s.after();return u===void 0?!1:r.nodeAt(u)?n.commands.command(({tr:h})=>(h.setSelection(ve.near(r.resolve(u))),!0)):n.commands.exitCode()}}},addInputRules(){return[Rm({find:M4,type:this.type,getAttributes:n=>({language:n[1]})}),Rm({find:O4,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new Je({key:new dt("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,o=s?.mode;if(!t||!o)return!1;const{tr:c,schema:u}=n.state,d=u.text(t.replace(/\r\n?/g,`
`));return c.replaceSelectionWith(this.type.create({language:o},d)),c.selection.$from.parent.type!==this.type&&c.setSelection(he.near(c.doc.resolve(Math.max(0,c.selection.from-2)))),c.setMeta("paste",!0),n.dispatch(c),!0}}})]}}),D4=an.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(n,e)=>n.content?e.renderChildren(n.content,`

`):""}),_4=an.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",it(this.options.HTMLAttributes,n)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:s,storedMarks:o}=t;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:c}=this.options,{splittableMarks:u}=r.extensionManager,d=o||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:m})=>{if(m&&d&&c){const y=d.filter(b=>u.includes(b.type.name));h.ensureMarks(y)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),I4=an.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,it(this.options.HTMLAttributes,e),0]},parseMarkdown:(n,e)=>e.createNode("heading",{level:n.depth||1},e.parseInline(n.tokens||[])),renderMarkdown:(n,e)=>{var t;const r=(t=n.attrs)!=null&&t.level?parseInt(n.attrs.level,10):1,s="#".repeat(r);return n.content?`${s} ${e.renderChildren(n.content)}`:""},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>Rm({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}}),L4=an.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",it(this.options.HTMLAttributes,n)]},markdownTokenName:"hr",parseMarkdown:(n,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{if(!$z(e,e.schema.nodes[this.name]))return!1;const{selection:t}=e,{$to:r}=t,s=n();return AT(t)?s.insertContentAt(r.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({state:o,tr:c,dispatch:u})=>{if(u){const{$to:d}=c.selection,h=d.end();if(d.nodeAfter)d.nodeAfter.isTextblock?c.setSelection(he.create(c.doc,d.pos+1)):d.nodeAfter.isBlock?c.setSelection(le.create(c.doc,d.pos)):c.setSelection(he.create(c.doc,d.pos));else{const m=o.schema.nodes[this.options.nextNodeType]||d.parent.type.contentMatch.defaultType,y=m?.create();y&&(c.insert(h,y),c.setSelection(he.create(c.doc,h+1)))}c.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Vz({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),z4=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,B4=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,j4=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,U4=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,P4=Mi.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",it(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(n,e)=>e.applyMark("italic",e.parseInline(n.tokens||[])),renderMarkdown:(n,e)=>`*${e.renderChildren(n)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[ka({find:z4,type:this.type}),ka({find:j4,type:this.type})]},addPasteRules(){return[hs({find:B4,type:this.type}),hs({find:U4,type:this.type})]}});const H4="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",V4="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Im="numeric",Lm="ascii",zm="alpha",qo="asciinumeric",Bo="alphanumeric",Bm="domain",qT="emoji",$4="scheme",q4="slashscheme",Kp="whitespace";function F4(n,e){return n in e||(e[n]=[]),e[n]}function ts(n,e,t){e[Im]&&(e[qo]=!0,e[Bo]=!0),e[Lm]&&(e[qo]=!0,e[zm]=!0),e[qo]&&(e[Bo]=!0),e[zm]&&(e[Bo]=!0),e[Bo]&&(e[Bm]=!0),e[qT]&&(e[Bm]=!0);for(const r in e){const s=F4(r,t);s.indexOf(n)<0&&s.push(n)}}function K4(n,e){const t={};for(const r in e)e[r].indexOf(n)>=0&&(t[r]=!0);return t}function qt(n=null){this.j={},this.jr=[],this.jd=null,this.t=n}qt.groups={};qt.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],o=e.jr[r][1];if(o&&s.test(n))return o}return e.jd},has(n,e=!1){return e?n in this.j:!!this.go(n)},ta(n,e,t,r){for(let s=0;s<n.length;s++)this.tt(n[s],e,t,r)},tr(n,e,t,r){r=r||qt.groups;let s;return e&&e.j?s=e:(s=new qt(e),t&&r&&ts(e,t,r)),this.jr.push([n,s]),s},ts(n,e,t,r){let s=this;const o=n.length;if(!o)return s;for(let c=0;c<o-1;c++)s=s.tt(n[c]);return s.tt(n[o-1],e,t,r)},tt(n,e,t,r){r=r||qt.groups;const s=this;if(e&&e.j)return s.j[n]=e,e;const o=e;let c,u=s.go(n);if(u?(c=new qt,Object.assign(c.j,u.j),c.jr.push.apply(c.jr,u.jr),c.jd=u.jd,c.t=u.t):c=new qt,o){if(r)if(c.t&&typeof c.t=="string"){const d=Object.assign(K4(c.t,r),t);ts(o,d,r)}else t&&ts(o,t,r);c.t=o}return s.j[n]=c,c}};const be=(n,e,t,r,s)=>n.ta(e,t,r,s),Ze=(n,e,t,r,s)=>n.tr(e,t,r,s),ox=(n,e,t,r,s)=>n.ts(e,t,r,s),G=(n,e,t,r,s)=>n.tt(e,t,r,s),pr="WORD",jm="UWORD",FT="ASCIINUMERICAL",KT="ALPHANUMERICAL",ul="LOCALHOST",Um="TLD",Pm="UTLD",gu="SCHEME",aa="SLASH_SCHEME",Pg="NUM",Hm="WS",Hg="NL",Fo="OPENBRACE",Ko="CLOSEBRACE",Hu="OPENBRACKET",Vu="CLOSEBRACKET",$u="OPENPAREN",qu="CLOSEPAREN",Fu="OPENANGLEBRACKET",Ku="CLOSEANGLEBRACKET",Gu="FULLWIDTHLEFTPAREN",Yu="FULLWIDTHRIGHTPAREN",Wu="LEFTCORNERBRACKET",Ju="RIGHTCORNERBRACKET",Xu="LEFTWHITECORNERBRACKET",Qu="RIGHTWHITECORNERBRACKET",Zu="FULLWIDTHLESSTHAN",ef="FULLWIDTHGREATERTHAN",tf="AMPERSAND",nf="APOSTROPHE",rf="ASTERISK",ri="AT",sf="BACKSLASH",af="BACKTICK",of="CARET",ui="COLON",Vg="COMMA",lf="DOLLAR",Un="DOT",cf="EQUALS",$g="EXCLAMATION",bn="HYPHEN",Go="PERCENT",uf="PIPE",ff="PLUS",df="POUND",Yo="QUERY",qg="QUOTE",GT="FULLWIDTHMIDDLEDOT",Fg="SEMI",Pn="SLASH",Wo="TILDE",hf="UNDERSCORE",YT="EMOJI",pf="SYM";var WT=Object.freeze({__proto__:null,ALPHANUMERICAL:KT,AMPERSAND:tf,APOSTROPHE:nf,ASCIINUMERICAL:FT,ASTERISK:rf,AT:ri,BACKSLASH:sf,BACKTICK:af,CARET:of,CLOSEANGLEBRACKET:Ku,CLOSEBRACE:Ko,CLOSEBRACKET:Vu,CLOSEPAREN:qu,COLON:ui,COMMA:Vg,DOLLAR:lf,DOT:Un,EMOJI:YT,EQUALS:cf,EXCLAMATION:$g,FULLWIDTHGREATERTHAN:ef,FULLWIDTHLEFTPAREN:Gu,FULLWIDTHLESSTHAN:Zu,FULLWIDTHMIDDLEDOT:GT,FULLWIDTHRIGHTPAREN:Yu,HYPHEN:bn,LEFTCORNERBRACKET:Wu,LEFTWHITECORNERBRACKET:Xu,LOCALHOST:ul,NL:Hg,NUM:Pg,OPENANGLEBRACKET:Fu,OPENBRACE:Fo,OPENBRACKET:Hu,OPENPAREN:$u,PERCENT:Go,PIPE:uf,PLUS:ff,POUND:df,QUERY:Yo,QUOTE:qg,RIGHTCORNERBRACKET:Ju,RIGHTWHITECORNERBRACKET:Qu,SCHEME:gu,SEMI:Fg,SLASH:Pn,SLASH_SCHEME:aa,SYM:pf,TILDE:Wo,TLD:Um,UNDERSCORE:hf,UTLD:Pm,UWORD:jm,WORD:pr,WS:Hm});const dr=/[a-z]/,Oo=new RegExp("\\p{L}","u"),Gp=new RegExp("\\p{Emoji}","u"),hr=/\d/,Yp=/\s/,lx="\r",Wp=`
`,G4="",Y4="",Jp="";let tu=null,nu=null;function W4(n=[]){const e={};qt.groups=e;const t=new qt;tu==null&&(tu=cx(H4)),nu==null&&(nu=cx(V4)),G(t,"'",nf),G(t,"{",Fo),G(t,"}",Ko),G(t,"[",Hu),G(t,"]",Vu),G(t,"(",$u),G(t,")",qu),G(t,"<",Fu),G(t,">",Ku),G(t,"",Gu),G(t,"",Yu),G(t,"",Wu),G(t,"",Ju),G(t,"",Xu),G(t,"",Qu),G(t,"",Zu),G(t,"",ef),G(t,"&",tf),G(t,"*",rf),G(t,"@",ri),G(t,"`",af),G(t,"^",of),G(t,":",ui),G(t,",",Vg),G(t,"$",lf),G(t,".",Un),G(t,"=",cf),G(t,"!",$g),G(t,"-",bn),G(t,"%",Go),G(t,"|",uf),G(t,"+",ff),G(t,"#",df),G(t,"?",Yo),G(t,'"',qg),G(t,"/",Pn),G(t,";",Fg),G(t,"~",Wo),G(t,"_",hf),G(t,"\\",sf),G(t,"",GT);const r=Ze(t,hr,Pg,{[Im]:!0});Ze(r,hr,r);const s=Ze(r,dr,FT,{[qo]:!0}),o=Ze(r,Oo,KT,{[Bo]:!0}),c=Ze(t,dr,pr,{[Lm]:!0});Ze(c,hr,s),Ze(c,dr,c),Ze(s,hr,s),Ze(s,dr,s);const u=Ze(t,Oo,jm,{[zm]:!0});Ze(u,dr),Ze(u,hr,o),Ze(u,Oo,u),Ze(o,hr,o),Ze(o,dr),Ze(o,Oo,o);const d=G(t,Wp,Hg,{[Kp]:!0}),h=G(t,lx,Hm,{[Kp]:!0}),m=Ze(t,Yp,Hm,{[Kp]:!0});G(t,Jp,m),G(h,Wp,d),G(h,Jp,m),Ze(h,Yp,m),G(m,lx),G(m,Wp),Ze(m,Yp,m),G(m,Jp,m);const y=Ze(t,Gp,YT,{[qT]:!0});G(y,"#"),Ze(y,Gp,y),G(y,G4,y);const b=G(y,Y4);G(b,"#"),Ze(b,Gp,y);const v=[[dr,c],[hr,s]],x=[[dr,null],[Oo,u],[hr,o]];for(let T=0;T<tu.length;T++)Zr(t,tu[T],Um,pr,v);for(let T=0;T<nu.length;T++)Zr(t,nu[T],Pm,jm,x);ts(Um,{tld:!0,ascii:!0},e),ts(Pm,{utld:!0,alpha:!0},e),Zr(t,"file",gu,pr,v),Zr(t,"mailto",gu,pr,v),Zr(t,"http",aa,pr,v),Zr(t,"https",aa,pr,v),Zr(t,"ftp",aa,pr,v),Zr(t,"ftps",aa,pr,v),ts(gu,{scheme:!0,ascii:!0},e),ts(aa,{slashscheme:!0,ascii:!0},e),n=n.sort((T,C)=>T[0]>C[0]?1:-1);for(let T=0;T<n.length;T++){const C=n[T][0],I=n[T][1]?{[$4]:!0}:{[q4]:!0};C.indexOf("-")>=0?I[Bm]=!0:dr.test(C)?hr.test(C)?I[qo]=!0:I[Lm]=!0:I[Im]=!0,ox(t,C,C,I)}return ox(t,"localhost",ul,{ascii:!0}),t.jd=new qt(pf),{start:t,tokens:Object.assign({groups:e},WT)}}function JT(n,e){const t=J4(e.replace(/[A-Z]/g,u=>u.toLowerCase())),r=t.length,s=[];let o=0,c=0;for(;c<r;){let u=n,d=null,h=0,m=null,y=-1,b=-1;for(;c<r&&(d=u.go(t[c]));)u=d,u.accepts()?(y=0,b=0,m=u):y>=0&&(y+=t[c].length,b++),h+=t[c].length,o+=t[c].length,c++;o-=y,c-=b,h-=y,s.push({t:m.t,v:e.slice(o-h,o),s:o-h,e:o})}return s}function J4(n){const e=[],t=n.length;let r=0;for(;r<t;){let s=n.charCodeAt(r),o,c=s<55296||s>56319||r+1===t||(o=n.charCodeAt(r+1))<56320||o>57343?n[r]:n.slice(r,r+2);e.push(c),r+=c.length}return e}function Zr(n,e,t,r,s){let o;const c=e.length;for(let u=0;u<c-1;u++){const d=e[u];n.j[d]?o=n.j[d]:(o=new qt(r),o.jr=s.slice(),n.j[d]=o),n=o}return o=new qt(t),o.jr=s.slice(),n.j[e[c-1]]=o,o}function cx(n){const e=[],t=[];let r=0,s="0123456789";for(;r<n.length;){let o=0;for(;s.indexOf(n[r+o])>=0;)o++;if(o>0){e.push(t.join(""));for(let c=parseInt(n.substring(r,r+o),10);c>0;c--)t.pop();r+=o}else t.push(n[r]),r++}return e}const fl={defaultProtocol:"http",events:null,format:ux,formatHref:ux,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Kg(n,e=null){let t=Object.assign({},fl);n&&(t=Object.assign(t,n instanceof Kg?n.o:n));const r=t.ignoreTags,s=[];for(let o=0;o<r.length;o++)s.push(r[o].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=s}Kg.prototype={o:fl,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const r=e!=null;let s=this.o[n];return s&&(typeof s=="object"?(s=t.t in s?s[t.t]:fl[n],typeof s=="function"&&r&&(s=s(e,t))):typeof s=="function"&&r&&(s=s(e,t.t,t)),s)},getObj(n,e,t){let r=this.o[n];return typeof r=="function"&&e!=null&&(r=r(e,t.t,t)),r},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function ux(n){return n}function XT(n,e){this.t="token",this.v=n,this.tk=e}XT.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),r=n.get("format",e,this);return t&&r.length>t?r.substring(0,t)+"":r},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n=fl.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toHref(n.get("defaultProtocol")),r=n.get("formatHref",t,this),s=n.get("tagName",t,e),o=this.toFormattedString(n),c={},u=n.get("className",t,e),d=n.get("target",t,e),h=n.get("rel",t,e),m=n.getObj("attributes",t,e),y=n.getObj("events",t,e);return c.href=r,u&&(c.class=u),d&&(c.target=d),h&&(c.rel=h),m&&Object.assign(c,m),{tagName:s,attributes:c,content:o,eventListeners:y}}};function Vf(n,e){class t extends XT{constructor(s,o){super(s,o),this.t=n}}for(const r in e)t.prototype[r]=e[r];return t.t=n,t}const fx=Vf("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),dx=Vf("text"),X4=Vf("nl"),ru=Vf("url",{isLink:!0,toHref(n=fl.defaultProtocol){return this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==ul&&n[1].t===ui}}),yn=n=>new qt(n);function Q4({groups:n}){const e=n.domain.concat([tf,rf,ri,sf,af,of,lf,cf,bn,Pg,Go,uf,ff,df,Pn,pf,Wo,hf]),t=[nf,ui,Vg,Un,$g,Go,Yo,qg,Fg,Fu,Ku,Fo,Ko,Vu,Hu,$u,qu,Gu,Yu,Wu,Ju,Xu,Qu,Zu,ef],r=[tf,nf,rf,sf,af,of,lf,cf,bn,Fo,Ko,Go,uf,ff,df,Yo,Pn,pf,Wo,hf],s=yn(),o=G(s,Wo);be(o,r,o),be(o,n.domain,o);const c=yn(),u=yn(),d=yn();be(s,n.domain,c),be(s,n.scheme,u),be(s,n.slashscheme,d),be(c,r,o),be(c,n.domain,c);const h=G(c,ri);G(o,ri,h),G(u,ri,h),G(d,ri,h);const m=G(o,Un);be(m,r,o),be(m,n.domain,o);const y=yn();be(h,n.domain,y),be(y,n.domain,y);const b=G(y,Un);be(b,n.domain,y);const v=yn(fx);be(b,n.tld,v),be(b,n.utld,v),G(h,ul,v);const x=G(y,bn);G(x,bn,x),be(x,n.domain,y),be(v,n.domain,y),G(v,Un,b),G(v,bn,x);const T=G(v,ui);be(T,n.numeric,fx);const C=G(c,bn),w=G(c,Un);G(C,bn,C),be(C,n.domain,c),be(w,r,o),be(w,n.domain,c);const I=yn(ru);be(w,n.tld,I),be(w,n.utld,I),be(I,n.domain,c),be(I,r,o),G(I,Un,w),G(I,bn,C),G(I,ri,h);const j=G(I,ui),F=yn(ru);be(j,n.numeric,F);const q=yn(ru),W=yn();be(q,e,q),be(q,t,W),be(W,e,q),be(W,t,W),G(I,Pn,q),G(F,Pn,q);const P=G(u,ui),ee=G(d,ui),te=G(ee,Pn),de=G(te,Pn);be(u,n.domain,c),G(u,Un,w),G(u,bn,C),be(d,n.domain,c),G(d,Un,w),G(d,bn,C),be(P,n.domain,q),G(P,Pn,q),G(P,Yo,q),be(de,n.domain,q),be(de,e,q),G(de,Pn,q);const Oe=[[Fo,Ko],[Hu,Vu],[$u,qu],[Fu,Ku],[Gu,Yu],[Wu,Ju],[Xu,Qu],[Zu,ef]];for(let Q=0;Q<Oe.length;Q++){const[Se,_e]=Oe[Q],xe=G(q,Se);G(W,Se,xe),G(xe,_e,q);const z=yn(ru);be(xe,e,z);const J=yn();be(xe,t),be(z,e,z),be(z,t,J),be(J,e,z),be(J,t,J),G(z,_e,q),G(J,_e,q)}return G(s,ul,I),G(s,Hg,X4),{start:s,tokens:WT}}function Z4(n,e,t){let r=t.length,s=0,o=[],c=[];for(;s<r;){let u=n,d=null,h=null,m=0,y=null,b=-1;for(;s<r&&!(d=u.go(t[s].t));)c.push(t[s++]);for(;s<r&&(h=d||u.go(t[s].t));)d=null,u=h,u.accepts()?(b=0,y=u):b>=0&&b++,s++,m++;if(b<0)s-=m,s<r&&(c.push(t[s]),s++);else{c.length>0&&(o.push(Xp(dx,e,c)),c=[]),s-=b,m-=b;const v=y.t,x=t.slice(s-m,s);o.push(Xp(v,e,x))}}return c.length>0&&o.push(Xp(dx,e,c)),o}function Xp(n,e,t){const r=t[0].s,s=t[t.length-1].e,o=e.slice(r,s);return new n(o,t)}const e6=typeof console<"u"&&console&&console.warn||(()=>{}),t6="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ke={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function n6(){return qt.groups={},Ke.scanner=null,Ke.parser=null,Ke.tokenQueue=[],Ke.pluginQueue=[],Ke.customSchemes=[],Ke.initialized=!1,Ke}function hx(n,e=!1){if(Ke.initialized&&e6(`linkifyjs: already initialized - will not register custom scheme "${n}" ${t6}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Ke.customSchemes.push([n,e])}function r6(){Ke.scanner=W4(Ke.customSchemes);for(let n=0;n<Ke.tokenQueue.length;n++)Ke.tokenQueue[n][1]({scanner:Ke.scanner});Ke.parser=Q4(Ke.scanner.tokens);for(let n=0;n<Ke.pluginQueue.length;n++)Ke.pluginQueue[n][1]({scanner:Ke.scanner,parser:Ke.parser});return Ke.initialized=!0,Ke}function Gg(n){return Ke.initialized||r6(),Z4(Ke.parser.start,n,JT(Ke.scanner.start,n))}Gg.scan=JT;function QT(n,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const r=new Kg(t),s=Gg(n),o=[];for(let c=0;c<s.length;c++){const u=s[c];u.isLink&&(!e||u.t===e)&&r.check(u)&&o.push(u.toFormattedObject(r))}return o}var Yg="[\0- -\u2029]",i6=new RegExp(Yg),s6=new RegExp(`${Yg}$`),a6=new RegExp(Yg,"g");function o6(n){return n.length===1?n[0].isLink:n.length===3&&n[1].isLink?["()","[]"].includes(n[0].value+n[2].value):!1}function l6(n){return new Je({key:new dt("autolink"),appendTransaction:(e,t,r)=>{const s=e.some(h=>h.docChanged)&&!t.doc.eq(r.doc),o=e.some(h=>h.getMeta("preventAutolink"));if(!s||o)return;const{tr:c}=r,u=vT(t.doc,[...e]);if(wT(u).forEach(({newRange:h})=>{const m=FL(r.doc,h,v=>v.isTextblock);let y,b;if(m.length>1)y=m[0],b=r.doc.textBetween(y.pos,y.pos+y.node.nodeSize,void 0," ");else if(m.length){const v=r.doc.textBetween(h.from,h.to," "," ");if(!s6.test(v))return;y=m[0],b=r.doc.textBetween(y.pos,h.to,void 0," ")}if(y&&b){const v=b.split(i6).filter(Boolean);if(v.length<=0)return!1;const x=v[v.length-1],T=y.pos+b.lastIndexOf(x);if(!x)return!1;const C=Gg(x).map(w=>w.toObject(n.defaultProtocol));if(!o6(C))return!1;C.filter(w=>w.isLink).map(w=>({...w,from:T+w.start+1,to:T+w.end+1})).filter(w=>r.schema.marks.code?!r.doc.rangeHasMark(w.from,w.to,r.schema.marks.code):!0).filter(w=>n.validate(w.value)).filter(w=>n.shouldAutoLink(w.value)).forEach(w=>{Lg(w.from,w.to,r.doc).some(I=>I.mark.type===n.type)||c.addMark(w.from,w.to,n.type.create({href:w.href}))})}}),!!c.steps.length)return c}})}function c6(n){return new Je({key:new dt("handleClickLink"),props:{handleClick:(e,t,r)=>{var s,o;if(r.button!==0||!e.editable)return!1;let c=null;if(r.target instanceof HTMLAnchorElement)c=r.target;else{let m=r.target;const y=[];for(;m.nodeName!=="DIV";)y.push(m),m=m.parentNode;c=y.find(b=>b.nodeName==="A")}if(!c)return!1;const u=CT(e.state,n.type.name),d=(s=c?.href)!=null?s:u.href,h=(o=c?.target)!=null?o:u.target;return n.enableClickSelection&&n.editor.commands.extendMarkRange(n.type.name),c&&d?(window.open(d,h),!0):!1}}})}function u6(n){return new Je({key:new dt("handlePasteLink"),props:{handlePaste:(e,t,r)=>{const{shouldAutoLink:s}=n,{state:o}=e,{selection:c}=o,{empty:u}=c;if(u)return!1;let d="";r.content.forEach(m=>{d+=m.textContent});const h=QT(d,{defaultProtocol:n.defaultProtocol}).find(m=>m.isLink&&m.value===d);return!d||!h||s!==void 0&&!s(h.href)?!1:n.editor.commands.setMark(n.type,{href:h.href})}}})}function Wi(n,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const s=typeof r=="string"?r:r.scheme;s&&t.push(s)}),!n||n.replace(a6,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var ZT=Mi.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(n=>{if(typeof n=="string"){hx(n);return}hx(n.scheme,n.optionalSlashes)})},onDestroy(){n6()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(n,e)=>!!Wi(n,e.protocols),validate:n=>!!n,shouldAutoLink:n=>!!n}},addAttributes(){return{href:{default:null,parseHTML(n){return n.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:n=>{const e=n.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!Wi(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:n}){return this.options.isAllowedUri(n.href,{defaultValidate:e=>!!Wi(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",it(this.options.HTMLAttributes,n),0]:["a",it(this.options.HTMLAttributes,{...n,href:""}),0]},markdownTokenName:"link",parseMarkdown:(n,e)=>e.applyMark("link",e.parseInline(n.tokens||[]),{href:n.href,title:n.title||null}),renderMarkdown:(n,e)=>{var t;const r=((t=n.attrs)==null?void 0:t.href)||"";return`[${e.renderChildren(n)}](${r})`},addCommands(){return{setLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!Wi(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,n).setMeta("preventAutolink",!0).run():!1},toggleLink:n=>({chain:e})=>{const{href:t}=n||{};return t&&!this.options.isAllowedUri(t,{defaultValidate:r=>!!Wi(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,n,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[hs({find:n=>{const e=[];if(n){const{protocols:t,defaultProtocol:r}=this.options,s=QT(n).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:c=>!!Wi(c,t),protocols:t,defaultProtocol:r}));s.length&&s.forEach(o=>{this.options.shouldAutoLink(o.value)&&e.push({text:o.value,data:{href:o.href},index:o.start})})}return e},type:this.type,getAttributes:n=>{var e;return{href:(e=n.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const n=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&n.push(l6({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:s=>!!Wi(s,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&n.push(c6({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&n.push(u6({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),n}}),f6=ZT,d6=Object.defineProperty,h6=(n,e)=>{for(var t in e)d6(n,t,{get:e[t],enumerable:!0})},p6="listItem",px="textStyle",mx=/^\s*([-+*])\s$/,eC=an.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",it(this.options.HTMLAttributes,n),0]},markdownTokenName:"list",parseMarkdown:(n,e)=>n.type!=="list"||n.ordered?[]:{type:"bulletList",content:n.items?e.parseChildren(n.items):[]},renderMarkdown:(n,e)=>n.content?e.renderChildren(n.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(p6,this.editor.getAttributes(px)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=Ta({find:mx,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Ta({find:mx,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(px),editor:this.editor})),[n]}}),tC=an.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",it(this.options.HTMLAttributes,n),0]},markdownTokenName:"list_item",parseMarkdown:(n,e)=>{if(n.type!=="list_item")return[];let t=[];if(n.tokens&&n.tokens.length>0)if(n.tokens.some(s=>s.type==="paragraph"))t=e.parseChildren(n.tokens);else{const s=n.tokens[0];if(s&&s.type==="text"&&s.tokens&&s.tokens.length>0){if(t=[{type:"paragraph",content:e.parseInline(s.tokens)}],n.tokens.length>1){const c=n.tokens.slice(1),u=e.parseChildren(c);t.push(...u)}}else t=e.parseChildren(n.tokens)}return t.length===0&&(t=[{type:"paragraph",content:[]}]),{type:"listItem",content:t}},renderMarkdown:(n,e,t)=>Ug(n,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",t),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),m6={};h6(m6,{findListItemPos:()=>Al,getNextListDepth:()=>Wg,handleBackspace:()=>Vm,handleDelete:()=>$m,hasListBefore:()=>nC,hasListItemAfter:()=>g6,hasListItemBefore:()=>rC,listItemHasSubList:()=>iC,nextListIsDeeper:()=>sC,nextListIsHigher:()=>aC});var Al=(n,e)=>{const{$from:t}=e.selection,r=ut(n,e.schema);let s=null,o=t.depth,c=t.pos,u=null;for(;o>0&&u===null;)s=t.node(o),s.type===r?u=o:(o-=1,c-=1);return u===null?null:{$pos:e.doc.resolve(c),depth:u}},Wg=(n,e)=>{const t=Al(n,e);if(!t)return!1;const[,r]=tz(e,n,t.$pos.pos+4);return r},nC=(n,e,t)=>{const{$anchor:r}=n.selection,s=Math.max(0,r.pos-2),o=n.doc.resolve(s).node();return!(!o||!t.includes(o.type.name))},rC=(n,e)=>{var t;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-2);return!(s.index()===0||((t=s.nodeBefore)==null?void 0:t.type.name)!==n)},iC=(n,e,t)=>{if(!t)return!1;const r=ut(n,e.schema);let s=!1;return t.descendants(o=>{o.type===r&&(s=!0)}),s},Vm=(n,e,t)=>{if(n.commands.undoInputRule())return!0;if(n.state.selection.from!==n.state.selection.to)return!1;if(!ki(n.state,e)&&nC(n.state,e,t)){const{$anchor:u}=n.state.selection,d=n.state.doc.resolve(u.before()-1),h=[];d.node().descendants((b,v)=>{b.type.name===e&&h.push({node:b,pos:v})});const m=h.at(-1);if(!m)return!1;const y=n.state.doc.resolve(d.start()+m.pos+1);return n.chain().cut({from:u.start()-1,to:u.end()+1},y.end()).joinForward().run()}if(!ki(n.state,e)||!sz(n.state))return!1;const r=Al(e,n.state);if(!r)return!1;const o=n.state.doc.resolve(r.$pos.pos-2).node(r.depth),c=iC(e,n.state,o);return rC(e,n.state)&&!c?n.commands.joinItemBackward():n.chain().liftListItem(e).run()},sC=(n,e)=>{const t=Wg(n,e),r=Al(n,e);return!r||!t?!1:t>r.depth},aC=(n,e)=>{const t=Wg(n,e),r=Al(n,e);return!r||!t?!1:t<r.depth},$m=(n,e)=>{if(!ki(n.state,e)||!iz(n.state,e))return!1;const{selection:t}=n.state,{$from:r,$to:s}=t;return!t.empty&&r.sameParent(s)?!1:sC(e,n.state)?n.chain().focus(n.state.selection.from+4).lift(e).joinBackward().run():aC(e,n.state)?n.chain().joinForward().joinBackward().run():n.commands.joinItemForward()},g6=(n,e)=>{var t;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-r.parentOffset-2);return!(s.index()===s.parent.childCount-1||((t=s.nodeAfter)==null?void 0:t.type.name)!==n)},oC=Pe.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t})=>{n.state.schema.nodes[t]!==void 0&&$m(n,t)&&(e=!0)}),e},"Mod-Delete":({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t})=>{n.state.schema.nodes[t]!==void 0&&$m(n,t)&&(e=!0)}),e},Backspace:({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t,wrapperNames:r})=>{n.state.schema.nodes[t]!==void 0&&Vm(n,t,r)&&(e=!0)}),e},"Mod-Backspace":({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t,wrapperNames:r})=>{n.state.schema.nodes[t]!==void 0&&Vm(n,t,r)&&(e=!0)}),e}}}}),gx=/^(\s*)(\d+)\.\s+(.*)$/,y6=/^\s/;function b6(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t],o=s.match(gx);if(!o)break;const[,c,u,d]=o,h=c.length;let m=d,y=t+1;const b=[s];for(;y<n.length;){const v=n[y];if(v.match(gx))break;if(v.trim()==="")b.push(v),m+=`
`,y+=1;else if(v.match(y6))b.push(v),m+=`
${v.slice(h+2)}`,y+=1;else break}e.push({indent:h,number:parseInt(u,10),content:m.trim(),raw:b.join(`
`)}),r=y,t=y}return[e,r]}function lC(n,e,t){var r;const s=[];let o=0;for(;o<n.length;){const c=n[o];if(c.indent===e){const u=c.content.split(`
`),d=((r=u[0])==null?void 0:r.trim())||"",h=[];d&&h.push({type:"paragraph",raw:d,tokens:t.inlineTokens(d)});const m=u.slice(1).join(`
`).trim();if(m){const v=t.blockTokens(m);h.push(...v)}let y=o+1;const b=[];for(;y<n.length&&n[y].indent>e;)b.push(n[y]),y+=1;if(b.length>0){const v=Math.min(...b.map(T=>T.indent)),x=lC(b,v,t);h.push({type:"list",ordered:!0,start:b[0].number,items:x,raw:b.map(T=>T.raw).join(`
`)})}s.push({type:"list_item",raw:c.raw,tokens:h}),o=y}else o+=1}return s}function v6(n,e){return n.map(t=>{if(t.type!=="list_item")return e.parseChildren([t])[0];const r=[];return t.tokens&&t.tokens.length>0&&t.tokens.forEach(s=>{if(s.type==="paragraph"||s.type==="list"||s.type==="blockquote"||s.type==="code")r.push(...e.parseChildren([s]));else if(s.type==="text"&&s.tokens){const o=e.parseChildren([s]);r.push({type:"paragraph",content:o})}else{const o=e.parseChildren([s]);o.length>0&&r.push(...o)}}),{type:"listItem",content:r}})}var S6="listItem",yx="textStyle",bx=/^(\d+)\.\s$/,cC=an.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",it(this.options.HTMLAttributes,t),0]:["ol",it(this.options.HTMLAttributes,n),0]},markdownTokenName:"list",parseMarkdown:(n,e)=>{if(n.type!=="list"||!n.ordered)return[];const t=n.start||1,r=n.items?v6(n.items,e):[];return t!==1?{type:"orderedList",attrs:{start:t},content:r}:{type:"orderedList",content:r}},renderMarkdown:(n,e)=>n.content?e.renderChildren(n.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:n=>{const e=n.match(/^(\s*)(\d+)\.\s+/),t=e?.index;return t!==void 0?t:-1},tokenize:(n,e,t)=>{var r;const s=n.split(`
`),[o,c]=b6(s);if(o.length===0)return;const u=lC(o,0,t);return u.length===0?void 0:{type:"list",ordered:!0,start:((r=o[0])==null?void 0:r.number)||1,items:u,raw:s.slice(0,c).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(S6,this.editor.getAttributes(yx)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=Ta({find:bx,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Ta({find:bx,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(yx)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),x6=/^\s*(\[([( |x])?\])\s$/,E6=an.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:n=>{const e=n.getAttribute("data-checked");return e===""||e==="true"},renderHTML:n=>({"data-checked":n.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:n,HTMLAttributes:e}){return["li",it(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:n.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(n,e)=>{const t=[];if(n.tokens&&n.tokens.length>0?t.push(e.createNode("paragraph",{},e.parseInline(n.tokens))):n.text?t.push(e.createNode("paragraph",{},[e.createNode("text",{text:n.text})])):t.push(e.createNode("paragraph",{},[])),n.nestedTokens&&n.nestedTokens.length>0){const r=e.parseChildren(n.nestedTokens);t.push(...r)}return e.createNode("taskItem",{checked:n.checked||!1},t)},renderMarkdown:(n,e)=>{var t;const s=`- [${(t=n.attrs)!=null&&t.checked?"x":" "}] `;return Ug(n,e,s)},addKeyboardShortcuts(){const n={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...n,Tab:()=>this.editor.commands.sinkListItem(this.name)}:n},addNodeView(){return({node:n,HTMLAttributes:e,getPos:t,editor:r})=>{const s=document.createElement("li"),o=document.createElement("label"),c=document.createElement("span"),u=document.createElement("input"),d=document.createElement("div"),h=m=>{var y,b;u.ariaLabel=((b=(y=this.options.a11y)==null?void 0:y.checkboxLabel)==null?void 0:b.call(y,m,u.checked))||`Task item checkbox for ${m.textContent||"empty task item"}`};return h(n),o.contentEditable="false",u.type="checkbox",u.addEventListener("mousedown",m=>m.preventDefault()),u.addEventListener("change",m=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){u.checked=!u.checked;return}const{checked:y}=m.target;r.isEditable&&typeof t=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:b})=>{const v=t();if(typeof v!="number")return!1;const x=b.doc.nodeAt(v);return b.setNodeMarkup(v,void 0,{...x?.attrs,checked:y}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(n,y)||(u.checked=!u.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([m,y])=>{s.setAttribute(m,y)}),s.dataset.checked=n.attrs.checked,u.checked=n.attrs.checked,o.append(u,c),s.append(o,d),Object.entries(e).forEach(([m,y])=>{s.setAttribute(m,y)}),{dom:s,contentDOM:d,update:m=>m.type!==this.type?!1:(s.dataset.checked=m.attrs.checked,u.checked=m.attrs.checked,h(m),!0)}}},addInputRules(){return[Ta({find:x6,type:this.type,getAttributes:n=>({checked:n[n.length-1]==="x"})})]}}),k6=an.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:n}){return["ul",it(this.options.HTMLAttributes,n,{"data-type":this.name}),0]},parseMarkdown:(n,e)=>e.createNode("taskList",{},e.parseChildren(n.items||[])),renderMarkdown:(n,e)=>n.content?e.renderChildren(n.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(n){var e;const t=(e=n.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return t!==void 0?t:-1},tokenize(n,e,t){const r=o=>{const c=Dm(o,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:u=>({indentLevel:u[1].length,mainContent:u[4],checked:u[3].toLowerCase()==="x"}),createToken:(u,d)=>({type:"taskItem",raw:"",mainContent:u.mainContent,indentLevel:u.indentLevel,checked:u.checked,text:u.mainContent,tokens:t.inlineTokens(u.mainContent),nestedTokens:d}),customNestedParser:r},t);return c?[{type:"taskList",raw:c.raw,items:c.items}]:t.blockTokens(o)},s=Dm(n,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:o=>({indentLevel:o[1].length,mainContent:o[4],checked:o[3].toLowerCase()==="x"}),createToken:(o,c)=>({type:"taskItem",raw:"",mainContent:o.mainContent,indentLevel:o.indentLevel,checked:o.checked,text:o.mainContent,tokens:t.inlineTokens(o.mainContent),nestedTokens:c}),customNestedParser:r},t);if(s)return{type:"taskList",raw:s.raw,items:s.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:n})=>n.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Pe.create({name:"listKit",addExtensions(){const n=[];return this.options.bulletList!==!1&&n.push(eC.configure(this.options.bulletList)),this.options.listItem!==!1&&n.push(tC.configure(this.options.listItem)),this.options.listKeymap!==!1&&n.push(oC.configure(this.options.listKeymap)),this.options.orderedList!==!1&&n.push(cC.configure(this.options.orderedList)),this.options.taskItem!==!1&&n.push(E6.configure(this.options.taskItem)),this.options.taskList!==!1&&n.push(k6.configure(this.options.taskList)),n}});var T6=an.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",it(this.options.HTMLAttributes,n),0]},parseMarkdown:(n,e)=>{const t=n.tokens||[];return t.length===1&&t[0].type==="image"?e.parseChildren([t[0]]):e.createNode("paragraph",void 0,e.parseInline(t))},renderMarkdown:(n,e)=>!n||!Array.isArray(n.content)?"":e.renderChildren(n.content),addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),C6=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,w6=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,A6=Mi.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",it(this.options.HTMLAttributes,n),0]},markdownTokenName:"del",parseMarkdown:(n,e)=>e.applyMark("strike",e.parseInline(n.tokens||[])),renderMarkdown:(n,e)=>`~~${e.renderChildren(n)}~~`,addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[ka({find:C6,type:this.type})]},addPasteRules(){return[hs({find:w6,type:this.type})]}}),N6=an.create({name:"text",group:"inline",parseMarkdown:n=>({type:"text",text:n.text||""}),renderMarkdown:n=>n.text||""}),M6=Mi.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",it(this.options.HTMLAttributes,n),0]},parseMarkdown(n,e){return e.applyMark(this.name||"underline",e.parseInline(n.tokens||[]))},renderMarkdown(n,e){return`++${e.renderChildren(n)}++`},markdownTokenizer:{name:"underline",level:"inline",start(n){return n.indexOf("++")},tokenize(n,e,t){const s=/^(\+\+)([\s\S]+?)(\+\+)/.exec(n);if(!s)return;const o=s[2].trim();return{type:"underline",raw:s[0],text:o,tokens:t.inlineTokens(o)}}},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function O6(n={}){return new Je({view(e){return new R6(e,n)}})}class R6{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let o=c=>{this[s](c)};return e.dom.addEventListener(s,o),{name:s,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r,s=this.editorView.dom,o=s.getBoundingClientRect(),c=o.width/s.offsetWidth,u=o.height/s.offsetHeight;if(t){let y=e.nodeBefore,b=e.nodeAfter;if(y||b){let v=this.editorView.nodeDOM(this.cursorPos-(y?y.nodeSize:0));if(v){let x=v.getBoundingClientRect(),T=y?x.bottom:x.top;y&&b&&(T=(T+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let C=this.width/2*u;r={left:x.left,right:x.right,top:T-C,bottom:T+C}}}}if(!r){let y=this.editorView.coordsAtPos(this.cursorPos),b=this.width/2*c;r={left:y.left-b,right:y.left+b,top:y.top,bottom:y.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let h,m;if(!d||d==document.body&&getComputedStyle(d).position=="static")h=-pageXOffset,m=-pageYOffset;else{let y=d.getBoundingClientRect(),b=y.width/d.offsetWidth,v=y.height/d.offsetHeight;h=y.left-d.scrollLeft*b,m=y.top-d.scrollTop*v}this.element.style.left=(r.left-h)/c+"px",this.element.style.top=(r.top-m)/u+"px",this.element.style.width=(r.right-r.left)/c+"px",this.element.style.height=(r.bottom-r.top)/u+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),s=r&&r.type.spec.disableDropCursor,o=typeof s=="function"?s(this.editorView,t,e):s;if(t&&!o){let c=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=uk(this.editorView.state.doc,c,this.editorView.dragging.slice);u!=null&&(c=u)}this.setCursor(c),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class et extends ve{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return et.valid(r)?new et(r):ve.near(r)}content(){return Z.empty}eq(e){return e instanceof et&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new et(e.resolve(t.pos))}getBookmark(){return new Jg(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!D6(e)||!_6(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let s=t.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&et.valid(e))return e;let s=e.pos,o=null;for(let c=e.depth;;c--){let u=e.node(c);if(t>0?e.indexAfter(c)<u.childCount:e.index(c)>0){o=u.child(t>0?e.indexAfter(c):e.index(c)-1);break}else if(c==0)return null;s+=t;let d=e.doc.resolve(s);if(et.valid(d))return d}for(;;){let c=t>0?o.firstChild:o.lastChild;if(!c){if(o.isAtom&&!o.isText&&!le.isSelectable(o)){e=e.doc.resolve(s+o.nodeSize*t),r=!1;continue e}break}o=c,s+=t;let u=e.doc.resolve(s);if(et.valid(u))return u}return null}}}et.prototype.visible=!1;et.findFrom=et.findGapCursorFrom;ve.jsonID("gapcursor",et);class Jg{constructor(e){this.pos=e}map(e){return new Jg(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return et.valid(t)?new et(t):ve.near(t)}}function uC(n){return n.isAtom||n.spec.isolating||n.spec.createGapCursor}function D6(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(t-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||uC(s.type))return!0;if(s.inlineContent)return!1}}return!0}function _6(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(t);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||uC(s.type))return!0;if(s.inlineContent)return!1}}return!0}function I6(){return new Je({props:{decorations:j6,createSelectionBetween(n,e,t){return e.pos==t.pos&&et.valid(t)?new et(t):null},handleClick:z6,handleKeyDown:L6,handleDOMEvents:{beforeinput:B6}}})}const L6=fT({ArrowLeft:iu("horiz",-1),ArrowRight:iu("horiz",1),ArrowUp:iu("vert",-1),ArrowDown:iu("vert",1)});function iu(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,o){let c=r.selection,u=e>0?c.$to:c.$from,d=c.empty;if(c instanceof he){if(!o.endOfTextblock(t)||u.depth==0)return!1;d=!1,u=r.doc.resolve(e>0?u.after():u.before())}let h=et.findGapCursorFrom(u,e,d);return h?(s&&s(r.tr.setSelection(new et(h))),!0):!1}}function z6(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!et.valid(r))return!1;let s=n.posAtCoords({left:t.clientX,top:t.clientY});return s&&s.inside>-1&&le.isSelectable(n.state.doc.nodeAt(s.inside))?!1:(n.dispatch(n.state.tr.setSelection(new et(r))),!0)}function B6(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof et))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let s=K.empty;for(let c=r.length-1;c>=0;c--)s=K.from(r[c].createAndFill(null,s));let o=n.state.tr.replace(t.pos,t.pos,new Z(s,0,0));return o.setSelection(he.near(o.doc.resolve(t.pos+1))),n.dispatch(o),!1}function j6(n){if(!(n.selection instanceof et))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",We.create(n.doc,[_t.widget(n.selection.head,e,{key:"gapcursor"})])}var mf=200,bt=function(){};bt.prototype.append=function(e){return e.length?(e=bt.from(e),!this.length&&e||e.length<mf&&this.leafAppend(e)||this.length<mf&&e.leafPrepend(this)||this.appendInner(e)):this};bt.prototype.prepend=function(e){return e.length?bt.from(e).append(this):this};bt.prototype.appendInner=function(e){return new U6(this,e)};bt.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?bt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};bt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};bt.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};bt.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(o,c){return s.push(e(o,c))},t,r),s};bt.from=function(e){return e instanceof bt?e:e&&e.length?new fC(e):bt.empty};var fC=(function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,o){return s==0&&o==this.length?this:new e(this.values.slice(s,o))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,o,c,u){for(var d=o;d<c;d++)if(s(this.values[d],u+d)===!1)return!1},e.prototype.forEachInvertedInner=function(s,o,c,u){for(var d=o-1;d>=c;d--)if(s(this.values[d],u+d)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=mf)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=mf)return new e(s.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e})(bt);bt.empty=new fC([]);var U6=(function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,o,c){var u=this.left.length;if(s<u&&this.left.forEachInner(r,s,Math.min(o,u),c)===!1||o>u&&this.right.forEachInner(r,Math.max(s-u,0),Math.min(this.length,o)-u,c+u)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,o,c){var u=this.left.length;if(s>u&&this.right.forEachInvertedInner(r,s-u,Math.max(o,u)-u,c+u)===!1||o<u&&this.left.forEachInvertedInner(r,Math.min(s,u),o,c)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var o=this.left.length;return s<=o?this.left.slice(r,s):r>=o?this.right.slice(r-o,s-o):this.left.slice(r,o).append(this.right.slice(0,s-o))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(bt);const P6=500;class wn{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,o;t&&(s=this.remapping(r,this.items.length),o=s.maps.length);let c=e.tr,u,d,h=[],m=[];return this.items.forEach((y,b)=>{if(!y.step){s||(s=this.remapping(r,b+1),o=s.maps.length),o--,m.push(y);return}if(s){m.push(new Hn(y.map));let v=y.step.map(s.slice(o)),x;v&&c.maybeStep(v).doc&&(x=c.mapping.maps[c.mapping.maps.length-1],h.push(new Hn(x,void 0,void 0,h.length+m.length))),o--,x&&s.appendMap(x,o)}else c.maybeStep(y.step);if(y.selection)return u=s?y.selection.map(s.slice(o)):y.selection,d=new wn(this.items.slice(0,r).append(m.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:c,selection:u}}addTransform(e,t,r,s){let o=[],c=this.eventCount,u=this.items,d=!s&&u.length?u.get(u.length-1):null;for(let m=0;m<e.steps.length;m++){let y=e.steps[m].invert(e.docs[m]),b=new Hn(e.mapping.maps[m],y,t),v;(v=d&&d.merge(b))&&(b=v,m?o.pop():u=u.slice(0,u.length-1)),o.push(b),t&&(c++,t=void 0),s||(d=b)}let h=c-r.depth;return h>V6&&(u=H6(u,h),c-=h),new wn(u.append(o),c)}remapping(e,t){let r=new il;return this.items.forEach((s,o)=>{let c=s.mirrorOffset!=null&&o-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,c)},e,t),r}addMaps(e){return this.eventCount==0?this:new wn(this.items.append(e.map(t=>new Hn(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-t),o=e.mapping,c=e.steps.length,u=this.eventCount;this.items.forEach(b=>{b.selection&&u--},s);let d=t;this.items.forEach(b=>{let v=o.getMirror(--d);if(v==null)return;c=Math.min(c,v);let x=o.maps[v];if(b.step){let T=e.steps[v].invert(e.docs[v]),C=b.selection&&b.selection.map(o.slice(d+1,v));C&&u++,r.push(new Hn(x,T,C))}else r.push(new Hn(x))},s);let h=[];for(let b=t;b<c;b++)h.push(new Hn(o.maps[b]));let m=this.items.slice(0,s).append(h).append(r),y=new wn(m,u);return y.emptyItemCount()>P6&&(y=y.compress(this.items.length-r.length)),y}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,s=[],o=0;return this.items.forEach((c,u)=>{if(u>=e)s.push(c),c.selection&&o++;else if(c.step){let d=c.step.map(t.slice(r)),h=d&&d.getMap();if(r--,h&&t.appendMap(h,r),d){let m=c.selection&&c.selection.map(t.slice(r));m&&o++;let y=new Hn(h.invert(),d,m),b,v=s.length-1;(b=s.length&&s[v].merge(y))?s[v]=b:s.push(y)}}else c.map&&r--},this.items.length,0),new wn(bt.from(s.reverse()),o)}}wn.empty=new wn(bt.empty,0);function H6(n,e){let t;return n.forEach((r,s)=>{if(r.selection&&e--==0)return t=s,!1}),n.slice(t)}class Hn{constructor(e,t,r,s){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Hn(t.getMap().invert(),t,this.selection)}}}class ii{constructor(e,t,r,s,o){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=s,this.prevComposition=o}}const V6=20;function $6(n,e,t,r){let s=t.getMeta(as),o;if(s)return s.historyState;t.getMeta(K6)&&(n=new ii(n.done,n.undone,null,0,-1));let c=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(c&&c.getMeta(as))return c.getMeta(as).redo?new ii(n.done.addTransform(t,void 0,r,yu(e)),n.undone,vx(t.mapping.maps),n.prevTime,n.prevComposition):new ii(n.done,n.undone.addTransform(t,void 0,r,yu(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(c&&c.getMeta("addToHistory")===!1)){let u=t.getMeta("composition"),d=n.prevTime==0||!c&&n.prevComposition!=u&&(n.prevTime<(t.time||0)-r.newGroupDelay||!q6(t,n.prevRanges)),h=c?Qp(n.prevRanges,t.mapping):vx(t.mapping.maps);return new ii(n.done.addTransform(t,d?e.selection.getBookmark():void 0,r,yu(e)),wn.empty,h,t.time,u??n.prevComposition)}else return(o=t.getMeta("rebased"))?new ii(n.done.rebased(t,o),n.undone.rebased(t,o),Qp(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new ii(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),Qp(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function q6(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,s)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&s>=e[o]&&(t=!0)}),t}function vx(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,s,o,c)=>e.push(o,c));return e}function Qp(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let s=e.map(n[r],1),o=e.map(n[r+1],-1);s<=o&&t.push(s,o)}return t}function F6(n,e,t){let r=yu(e),s=as.get(e).spec.config,o=(t?n.undone:n.done).popEvent(e,r);if(!o)return null;let c=o.selection.resolve(o.transform.doc),u=(t?n.done:n.undone).addTransform(o.transform,e.selection.getBookmark(),s,r),d=new ii(t?u:o.remaining,t?o.remaining:u,null,0,-1);return o.transform.setSelection(c).setMeta(as,{redo:t,historyState:d})}let Zp=!1,Sx=null;function yu(n){let e=n.plugins;if(Sx!=e){Zp=!1,Sx=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){Zp=!0;break}}return Zp}const as=new dt("history"),K6=new dt("closeHistory");function G6(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new Je({key:as,state:{init(){return new ii(wn.empty,wn.empty,null,0,-1)},apply(e,t,r){return $6(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,s=r=="historyUndo"?hC:r=="historyRedo"?pC:null;return!s||!e.editable?!1:(t.preventDefault(),s(e.state,e.dispatch))}}}})}function dC(n,e){return(t,r)=>{let s=as.getState(t);if(!s||(n?s.undone:s.done).eventCount==0)return!1;if(r){let o=F6(s,t,n);o&&r(e?o.scrollIntoView():o)}return!0}}const hC=dC(!1,!0),pC=dC(!0,!0);Pe.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:n=>n.length,wordCounter:n=>n.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=n=>{const e=n?.node||this.editor.state.doc;if((n?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=n=>{const e=n?.node||this.editor.state.doc,t=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(t)}},addProseMirrorPlugins(){let n=!1;return[new Je({key:new dt("characterCount"),appendTransaction:(e,t,r)=>{if(n)return;const s=this.options.limit;if(s==null||s===0){n=!0;return}const o=this.storage.characters({node:r.doc});if(o>s){const c=o-s,u=0,d=c;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const h=r.tr.deleteRange(u,d);return n=!0,h}n=!0},filterTransaction:(e,t)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const s=this.storage.characters({node:t.doc}),o=this.storage.characters({node:e.doc});if(o<=r||s>r&&o>r&&o<=s)return!0;if(s>r&&o>r&&o>s||!e.getMeta("paste"))return!1;const u=e.selection.$head.pos,d=o-r,h=u-d,m=u;return e.deleteRange(h,m),!(this.storage.characters({node:e.doc})>r)}})]}});var Y6=Pe.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[O6(this.options)]}});Pe.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Je({key:new dt("focus"),props:{decorations:({doc:n,selection:e})=>{const{isEditable:t,isFocused:r}=this.editor,{anchor:s}=e,o=[];if(!t||!r)return We.create(n,[]);let c=0;this.options.mode==="deepest"&&n.descendants((d,h)=>{if(d.isText)return;if(!(s>=h&&s<=h+d.nodeSize-1))return!1;c+=1});let u=0;return n.descendants((d,h)=>{if(d.isText||!(s>=h&&s<=h+d.nodeSize-1))return!1;if(u+=1,this.options.mode==="deepest"&&c-u>0||this.options.mode==="shallowest"&&u>1)return this.options.mode==="deepest";o.push(_t.node(h,h+d.nodeSize,{class:this.options.className}))}),We.create(n,o)}}})]}});var W6=Pe.create({name:"gapCursor",addProseMirrorPlugins(){return[I6()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=ze(oe(n,"allowGapCursor",t)))!=null?e:null}}}),J6=Pe.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Je({key:new dt("placeholder"),props:{decorations:({doc:n,selection:e})=>{const t=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,s=[];if(!t)return null;const o=this.editor.isEmpty;return n.descendants((c,u)=>{const d=r>=u&&r<=u+c.nodeSize,h=!c.isLeaf&&Uf(c);if((d||!this.options.showOnlyCurrent)&&h){const m=[this.options.emptyNodeClass];o&&m.push(this.options.emptyEditorClass);const y=_t.node(u,u+c.nodeSize,{class:m.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:c,pos:u,hasAnchor:d}):this.options.placeholder});s.push(y)}return this.options.includeChildren}),We.create(n,s)}}})]}});Pe.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:n,options:e}=this;return[new Je({key:new dt("selection"),props:{decorations(t){return t.selection.empty||n.isFocused||!n.isEditable||AT(t.selection)||n.view.dragging?null:We.create(t.doc,[_t.inline(t.selection.from,t.selection.to,{class:e.className})])}}})]}});function xx({types:n,node:e}){return e&&Array.isArray(n)&&n.includes(e.type)||e?.type===n}var X6=Pe.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var n;const e=new dt(this.name),t=this.options.node||((n=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:n.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,s])=>s).filter(s=>(this.options.notAfter||[]).concat(t).includes(s.name));return[new Je({key:e,appendTransaction:(s,o,c)=>{const{doc:u,tr:d,schema:h}=c,m=e.getState(c),y=u.content.size,b=h.nodes[t];if(m)return d.insert(y,b.create())},state:{init:(s,o)=>{const c=o.tr.doc.lastChild;return!xx({node:c,types:r})},apply:(s,o)=>{if(!s.docChanged||s.getMeta("__uniqueIDTransaction"))return o;const c=s.doc.lastChild;return!xx({node:c,types:r})}}})]}}),Q6=Pe.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>hC(n,e),redo:()=>({state:n,dispatch:e})=>pC(n,e)}},addProseMirrorPlugins(){return[G6(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Z6=Pe.create({name:"starterKit",addExtensions(){var n,e,t,r;const s=[];return this.options.bold!==!1&&s.push(C4.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(S4.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(eC.configure(this.options.bulletList)),this.options.code!==!1&&s.push(N4.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(R4.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(D4.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(Y6.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(W6.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(_4.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(I4.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(Q6.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(L4.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(P4.configure(this.options.italic)),this.options.listItem!==!1&&s.push(tC.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(oC.configure((n=this.options)==null?void 0:n.listKeymap)),this.options.link!==!1&&s.push(ZT.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&s.push(cC.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(T6.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(A6.configure(this.options.strike)),this.options.text!==!1&&s.push(N6.configure(this.options.text)),this.options.underline!==!1&&s.push(M6.configure((t=this.options)==null?void 0:t.underline)),this.options.trailingNode!==!1&&s.push(X6.configure((r=this.options)==null?void 0:r.trailingNode)),s}}),e5=Z6,t5=J6,n5=20,mC=(n,e=0)=>{const t=[];return!n.children.length||e>n5||Array.from(n.children).forEach(r=>{r.tagName==="SPAN"?t.push(r):r.children.length&&t.push(...mC(r,e+1))}),t},r5=n=>{if(!n.children.length)return;const e=mC(n);e&&e.forEach(t=>{var r,s;const o=t.getAttribute("style"),c=(s=(r=t.parentElement)==null?void 0:r.closest("span"))==null?void 0:s.getAttribute("style");t.setAttribute("style",`${c};${o}`)})},gC=Mi.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:n=>n.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&r5(n),{}):!1}]},renderHTML({HTMLAttributes:n}){return["span",it(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleTextStyle:n=>({commands:e})=>e.toggleMark(this.name,n),removeEmptyTextStyle:()=>({tr:n})=>{const{selection:e}=n;return n.doc.nodesBetween(e.from,e.to,(t,r)=>{if(t.isTextblock)return!0;t.marks.filter(s=>s.type===this.type).some(s=>Object.values(s.attrs).some(o=>!!o))||n.removeMark(r,r+t.nodeSize,this.type)}),!0}}}}),i5=Pe.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:n=>{var e;const t=n.getAttribute("style");if(t){const r=t.split(";").map(s=>s.trim()).filter(Boolean);for(let s=r.length-1;s>=0;s-=1){const o=r[s].split(":");if(o.length>=2){const c=o[0].trim().toLowerCase(),u=o.slice(1).join(":").trim();if(c==="background-color")return u.replace(/['"]+/g,"")}}}return(e=n.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:n=>n.backgroundColor?{style:`background-color: ${n.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:n=>({chain:e})=>e().setMark("textStyle",{backgroundColor:n}).run(),unsetBackgroundColor:()=>({chain:n})=>n().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),yC=Pe.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:n=>{var e;const t=n.getAttribute("style");if(t){const r=t.split(";").map(s=>s.trim()).filter(Boolean);for(let s=r.length-1;s>=0;s-=1){const o=r[s].split(":");if(o.length>=2){const c=o[0].trim().toLowerCase(),u=o.slice(1).join(":").trim();if(c==="color")return u.replace(/['"]+/g,"")}}}return(e=n.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:n=>n.color?{style:`color: ${n.color}`}:{}}}}]},addCommands(){return{setColor:n=>({chain:e})=>e().setMark("textStyle",{color:n}).run(),unsetColor:()=>({chain:n})=>n().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),s5=Pe.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:n=>n.style.fontFamily,renderHTML:n=>n.fontFamily?{style:`font-family: ${n.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:n=>({chain:e})=>e().setMark("textStyle",{fontFamily:n}).run(),unsetFontFamily:()=>({chain:n})=>n().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),a5=Pe.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:n=>n.style.fontSize,renderHTML:n=>n.fontSize?{style:`font-size: ${n.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:n=>({chain:e})=>e().setMark("textStyle",{fontSize:n}).run(),unsetFontSize:()=>({chain:n})=>n().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),o5=Pe.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:n=>n.style.lineHeight,renderHTML:n=>n.lineHeight?{style:`line-height: ${n.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:n=>({chain:e})=>e().setMark("textStyle",{lineHeight:n}).run(),unsetLineHeight:()=>({chain:n})=>n().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});Pe.create({name:"textStyleKit",addExtensions(){const n=[];return this.options.backgroundColor!==!1&&n.push(i5.configure(this.options.backgroundColor)),this.options.color!==!1&&n.push(yC.configure(this.options.color)),this.options.fontFamily!==!1&&n.push(s5.configure(this.options.fontFamily)),this.options.fontSize!==!1&&n.push(a5.configure(this.options.fontSize)),this.options.lineHeight!==!1&&n.push(o5.configure(this.options.lineHeight)),this.options.textStyle!==!1&&n.push(gC.configure(this.options.textStyle)),n}});var l5=yC,c5=Pe.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:n=>{const e=n.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:n=>n.textAlign?{style:`text-align: ${n.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:n=>({commands:e})=>this.options.alignments.includes(n)?this.options.types.map(t=>e.updateAttributes(t,{textAlign:n})).some(t=>t):!1,unsetTextAlign:()=>({commands:n})=>this.options.types.map(e=>n.resetAttributes(e,"textAlign")).some(e=>e),toggleTextAlign:n=>({editor:e,commands:t})=>this.options.alignments.includes(n)?e.isActive({textAlign:n})?t.unsetTextAlign():t.setTextAlign(n):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),u5=c5;const f5=[{label:"",value:""},{label:"",value:"#DC2626"},{label:"",value:"#F97316"},{label:"",value:"#16A34A"},{label:"",value:"#2563EB"},{label:"",value:"#7C3AED"}];function d5({value:n,onChange:e,placeholder:t=" .",disabled:r=!1}){const s=m4({extensions:[l5.configure({types:["textStyle"]}),gC,u5.configure({types:["heading","paragraph"],alignments:["left","center","right","justify"]}),e5.configure({heading:{levels:[1,2,3]},bulletList:{keepMarks:!0,keepAttributes:!1},orderedList:{keepMarks:!0,keepAttributes:!1}}),f6.configure({openOnClick:!0,linkOnPaste:!0}),t5.configure({placeholder:t})],content:n||"",editable:!r,onUpdate:({editor:d})=>{e(d.getHTML())}});if(O.useEffect(()=>{s&&s.setEditable(!r)},[r,s]),O.useEffect(()=>{s&&s.getHTML()!==(n||"")&&s.commands.setContent(n||"")},[n,s]),!s)return null;const o=d=>h=>{h.preventDefault(),!r&&d()},c=d=>{r||(d?s.chain().focus().setColor(d).run():s.chain().focus().unsetColor().run())},u=d=>{r||s.chain().focus().setTextAlign(d).run()};return E.jsxs("div",{className:"rounded-lg border border-slate-300 bg-white text-sm dark:border-slate-700 dark:bg-slate-900",children:[E.jsxs("div",{className:"flex flex-wrap items-center gap-1 border-b border-slate-200 bg-slate-50 px-2 py-1 text-xs dark:border-slate-800 dark:bg-slate-800",children:[E.jsx("button",{type:"button",onClick:o(()=>s.chain().focus().toggleBold().run()),className:`rounded px-2 py-1 ${s.isActive("bold")?"bg-slate-800 text-white dark:bg-slate-100 dark:text-slate-900":"text-slate-600 hover:bg-slate-200 dark:text-slate-300 dark:hover:bg-slate-700"}`,disabled:r,children:"B"}),E.jsx("button",{type:"button",onClick:o(()=>s.chain().focus().toggleItalic().run()),className:`rounded px-2 py-1 ${s.isActive("italic")?"bg-slate-800 text-white dark:bg-slate-100 dark:text-slate-900":"text-slate-600 hover:bg-slate-200 dark:text-slate-300 dark:hover:bg-slate-700"}`,disabled:r,children:"I"}),E.jsx("span",{className:"mx-1 h-4 w-px bg-slate-300 dark:bg-slate-600"}),E.jsx("button",{type:"button",onClick:o(()=>s.chain().focus().toggleBulletList().run()),className:`rounded px-2 py-1 ${s.isActive("bulletList")?"bg-slate-800 text-white dark:bg-slate-100 dark:text-slate-900":"text-slate-600 hover:bg-slate-200 dark:text-slate-300 dark:hover:bg-slate-700"}`,disabled:r,children:" List"}),E.jsx("button",{type:"button",onClick:o(()=>s.chain().focus().toggleOrderedList().run()),className:`rounded px-2 py-1 ${s.isActive("orderedList")?"bg-slate-800 text-white dark:bg-slate-100 dark:text-slate-900":"text-slate-600 hover:bg-slate-200 dark:text-slate-300 dark:hover:bg-slate-700"}`,disabled:r,children:"1. List"}),E.jsx("span",{className:"mx-1 h-4 w-px bg-slate-300 dark:bg-slate-600"}),E.jsx("button",{type:"button",onClick:o(()=>s.chain().focus().setParagraph().run()),className:`rounded px-2 py-1 ${s.isActive("paragraph")?"bg-slate-800 text-white dark:bg-slate-100 dark:text-slate-900":"text-slate-600 hover:bg-slate-200 dark:text-slate-300 dark:hover:bg-slate-700"}`,disabled:r,children:""}),E.jsx("button",{type:"button",onClick:o(()=>s.chain().focus().toggleHeading({level:2}).run()),className:`rounded px-2 py-1 ${s.isActive("heading",{level:2})?"bg-slate-800 text-white dark:bg-slate-100 dark:text-slate-900":"text-slate-600 hover:bg-slate-200 dark:text-slate-300 dark:hover:bg-slate-700"}`,disabled:r,children:"H2"}),E.jsx("button",{type:"button",onClick:o(()=>s.chain().focus().toggleHeading({level:3}).run()),className:`rounded px-2 py-1 ${s.isActive("heading",{level:3})?"bg-slate-800 text-white dark:bg-slate-100 dark:text-slate-900":"text-slate-600 hover:bg-slate-200 dark:text-slate-300 dark:hover:bg-slate-700"}`,disabled:r,children:"H3"}),E.jsx("span",{className:"mx-1 h-4 w-px bg-slate-300 dark:bg-slate-600"}),E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx("button",{type:"button",onClick:()=>u("left"),className:`rounded px-2 py-1 ${s.isActive({textAlign:"left"})||!s.isActive({textAlign:"center"})&&!s.isActive({textAlign:"right"})&&!s.isActive({textAlign:"justify"})?"bg-slate-800 text-white dark:bg-slate-100 dark:text-slate-900":"text-slate-600 hover:bg-slate-200 dark:text-slate-300 dark:hover:bg-slate-700"}`,disabled:r,children:""}),E.jsx("button",{type:"button",onClick:()=>u("center"),className:`rounded px-2 py-1 ${s.isActive({textAlign:"center"})?"bg-slate-800 text-white dark:bg-slate-100 dark:text-slate-900":"text-slate-600 hover:bg-slate-200 dark:text-slate-300 dark:hover:bg-slate-700"}`,disabled:r,children:""}),E.jsx("button",{type:"button",onClick:()=>u("right"),className:`rounded px-2 py-1 ${s.isActive({textAlign:"right"})?"bg-slate-800 text-white dark:bg-slate-100 dark:text-slate-900":"text-slate-600 hover:bg-slate-200 dark:text-slate-300 dark:hover:bg-slate-700"}`,disabled:r,children:""})]}),E.jsx("span",{className:"mx-1 h-4 w-px bg-slate-300 dark:bg-slate-600"}),E.jsx("div",{className:"flex items-center gap-1",children:f5.map(d=>E.jsx("button",{type:"button",onClick:()=>c(d.value),className:`flex h-7 items-center rounded px-2 ${d.value?"border border-slate-200 dark:border-slate-600":"border border-slate-200 text-[11px] text-slate-500 dark:border-slate-600"}`,disabled:r,children:d.value?E.jsx("span",{className:"text-xs font-semibold",style:{color:d.value},children:"A"}):E.jsx("span",{className:"text-[11px]",children:""})},d.label))})]}),E.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:E.jsx(l4,{editor:s,className:"prose prose-sm max-w-none px-3 py-2 text-slate-800 focus:outline-none dark:prose-invert dark:text-slate-100"})})]})}function h5(){const[n,e]=O.useState(""),[t,r]=O.useState(""),[s,o]=O.useState(!1),[c,u]=O.useState(!0),[d,h]=O.useState(!1),[m,y]=O.useState(!1),[b,v]=O.useState(null),x=Ti(),[T]=Bx(),C=T.get("id"),w=!!C;O.useEffect(()=>{if(!w||!C)return;async function F(){y(!0),v(null);const q=await wf();if(!q.ok){v(`   : ${q.error}`),y(!1);return}const P=Af(q.data).find(ee=>ee.id===C);if(!P){v("    ."),y(!1);return}e(P.title),r(P.body||""),o(P.isPinned),u(P.isActive),y(!1)}F()},[w,C]);const I=async F=>{if(F.preventDefault(),v(null),!n||!t){v("  .");return}h(!0);const q={title:n,body:t,isPinned:s,isActive:c},W=w&&C?await H2(C,q):await U2(q);if(h(!1),!W.ok){v(`${w?"":""} : ${W.error}`);return}alert(` ${w?"":""}.`),x("/notices")},j=d||m;return E.jsxs("div",{className:"page-shell",children:[E.jsxs("header",{className:"page-header",children:[E.jsx("h1",{className:"page-title",children:w?" ":" "}),E.jsx("p",{className:"page-subtitle",children:w?"   .":"    ."})]}),E.jsxs("form",{onSubmit:I,className:"space-y-6",children:[b&&E.jsx("div",{className:"rounded-lg bg-red-50 p-4 text-sm text-red-600 dark:bg-red-900/20 dark:text-red-400",children:b}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"form-label",children:""}),E.jsx("input",{type:"text",value:n,onChange:F=>e(F.target.value),className:"form-input",placeholder:") 12    ",disabled:j})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"form-label",children:""}),E.jsx(d5,{value:t,onChange:r,placeholder:"  .",disabled:j})]}),E.jsxs("div",{className:"flex gap-6 rounded-xl border border-slate-200 p-4 dark:border-slate-800",children:[E.jsxs("label",{className:"flex cursor-pointer items-center gap-2 text-sm text-slate-700 dark:text-slate-300",children:[E.jsx("input",{type:"checkbox",checked:s,onChange:F=>o(F.target.checked),className:"form-check",disabled:j}),E.jsx("span",{children:"  ( )"})]}),E.jsxs("label",{className:"flex cursor-pointer items-center gap-2 text-sm text-slate-700 dark:text-slate-300",children:[E.jsx("input",{type:"checkbox",checked:c,onChange:F=>u(F.target.checked),className:"form-check",disabled:j}),E.jsx("span",{children:"  (   )"})]})]}),E.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[E.jsx("button",{type:"button",onClick:()=>x("/notices"),className:"btn btn-ghost",disabled:j,children:""}),E.jsx("button",{type:"submit",disabled:j,className:"btn btn-primary disabled:opacity-50",children:w?d?" ...":" ":d?" ...":" "})]})]})]})}function p5(){const{id:n}=AN(),e=Ti(),{isAdmin:t}=Cf(),[r,s]=O.useState(!0),[o,c]=O.useState(null),[u,d]=O.useState(null),[h,m]=O.useState(!1);O.useEffect(()=>{async function v(){if(!n){c(" ."),s(!1);return}s(!0),c(null);const x=await wf();if(!x.ok){c(`   : ${x.error}`),s(!1);return}const C=Af(x.data).find(w=>w.id===n);if(!C){c("    ."),s(!1);return}d(C),s(!1)}v()},[n]);const y=()=>{u&&e(`/admin/notices/new?id=${encodeURIComponent(u.id)}`)},b=async()=>{if(!u||h||!window.confirm("   ?"))return;m(!0);const x=await V2(u.id);if(m(!1),!x.ok){alert(` : ${x.error}`);return}alert(" ."),e("/notices")};return E.jsxs("div",{className:"page-shell",children:[E.jsxs("header",{className:"page-header flex items-start justify-between gap-4",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"page-title",children:u?u.title:""}),u&&E.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-xs text-slate-400 dark:text-slate-500",children:[E.jsx("span",{children:u.createdAt.slice(0,10)}),u.isPinned&&E.jsx("span",{className:"badge-teal",children:" "}),!u.isActive&&E.jsx("span",{className:"badge-muted",children:""})]})]}),E.jsxs("div",{className:"flex shrink-0 flex-col gap-2 sm:flex-row",children:[E.jsx(On,{to:"/notices",className:"btn btn-outline btn-sm",children:""}),t&&E.jsxs(E.Fragment,{children:[E.jsx("button",{type:"button",onClick:y,disabled:!u,className:"btn btn-primary btn-sm disabled:opacity-50",children:""}),E.jsx("button",{type:"button",onClick:b,disabled:!u||h,className:"btn btn-danger btn-sm disabled:opacity-50",children:h?" ...":""})]})]})]}),r&&E.jsx("div",{className:"py-20 text-center text-slate-500",children:"  ..."}),o&&E.jsx("div",{className:"py-20 text-center text-red-500",children:o}),!r&&!o&&u&&E.jsx("article",{className:"notice-body prose prose-sm max-w-none text-sm leading-relaxed text-slate-700 dark:prose-invert dark:text-slate-200",children:E.jsx("div",{dangerouslySetInnerHTML:{__html:u.body}})})]})}function m5(){const[n,e]=O.useState(""),[t,r]=O.useState(""),[s,o]=O.useState(!1),[c,u]=O.useState(null),{isAdmin:d}=Cf(),h=Ti(),m=In();O.useEffect(()=>{if(d){const b=m.state?.from?.pathname||"/admin";h(b,{replace:!0})}},[d,h,m.state]);const y=async b=>{b.preventDefault(),u(null),o(!0);try{await iD(Tf,n,t)}catch(v){console.error(v),u(" .   .")}finally{o(!1)}};return E.jsxs("div",{className:"flex items-center justify-center bg-slate-50 px-4 py-12 transition-colors dark:bg-slate-950 sm:px-6 lg:px-8",children:[E.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[E.jsx("div",{className:"absolute -top-[20%] -left-[10%] h-[500px] w-[500px] rounded-full bg-teal-400/10 blur-3xl dark:bg-teal-900/20"}),E.jsx("div",{className:"absolute top-[20%] -right-[10%] h-[400px] w-[400px] rounded-full bg-indigo-400/10 blur-3xl dark:bg-indigo-900/20"})]}),E.jsxs("div",{className:"relative w-full max-w-md space-y-8",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-teal-100 text-teal-600 dark:bg-teal-900/30 dark:text-teal-400",children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"h-6 w-6",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})})}),E.jsx("h2",{className:"mt-6 text-3xl font-extrabold tracking-tight text-slate-900 dark:text-white",children:"Admin Access"}),E.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:"  ."})]}),E.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-8 shadow-xl shadow-slate-200/50 dark:border-slate-800 dark:bg-slate-900 dark:shadow-none",children:[E.jsxs("form",{className:"space-y-6",onSubmit:y,children:[c&&E.jsx("div",{className:"rounded-lg bg-red-50 p-4 text-sm text-red-600 dark:bg-red-900/20 dark:text-red-400",children:E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("svg",{className:"h-5 w-5 flex-shrink-0 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),c]})}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:" "}),E.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:b=>e(b.target.value),className:"block w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-slate-900 placeholder-slate-400 focus:border-teal-500 focus:outline-none focus:ring-1 focus:ring-teal-500 dark:border-slate-700 dark:bg-slate-950 dark:text-white dark:placeholder-slate-500 disabled:opacity-50",disabled:s})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:""}),E.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:t,onChange:b=>r(b.target.value),className:"block w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-slate-900 placeholder-slate-400 focus:border-teal-500 focus:outline-none focus:ring-1 focus:ring-teal-500 dark:border-slate-700 dark:bg-slate-950 dark:text-white dark:placeholder-slate-500 disabled:opacity-50",disabled:s})]}),E.jsx("button",{type:"submit",disabled:s,className:"flex w-full justify-center rounded-lg bg-teal-600 px-4 py-2.5 text-sm font-bold text-white shadow-md hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-70 transition-all dark:focus:ring-offset-slate-900",children:s?E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsxs("svg",{className:"h-4 w-4 animate-spin text-white",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})," ..."]}):""})]}),E.jsx("div",{className:"mt-6 border-t border-slate-100 pt-6 text-center text-xs dark:border-slate-800",children:E.jsx(On,{to:"/",className:"font-medium text-slate-500 hover:text-teal-600 transition-colors dark:text-slate-400 dark:hover:text-teal-400",children:"   "})})]})]})]})}function em({children:n}){const{loading:e,isAdmin:t}=Cf(),r=In();return e?E.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center bg-slate-50 dark:bg-slate-950",children:[E.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-4 border-slate-200 border-t-teal-500 dark:border-slate-800 dark:border-t-teal-400"}),E.jsx("p",{className:"mt-4 text-sm font-medium text-slate-500 dark:text-slate-400",children:"  ..."})]}):t?n:E.jsx(HN,{to:"/admin/login",replace:!0,state:{from:r}})}function g5(){return E.jsx(hM,{children:E.jsx(C2,{children:E.jsx(w2,{children:E.jsxs($N,{children:[E.jsx(ei,{path:"/",element:E.jsx(q2,{})}),E.jsx(ei,{path:"/notices",element:E.jsx(F2,{})}),E.jsx(ei,{path:"/notices/:id",element:E.jsx(p5,{})}),E.jsx(ei,{path:"/admin/login",element:E.jsx(m5,{})}),E.jsx(ei,{path:"/admin",element:E.jsx(em,{children:E.jsx(K2,{})})}),E.jsx(ei,{path:"/admin/new",element:E.jsx(em,{children:E.jsx(G2,{})})}),E.jsx(ei,{path:"/admin/notices/new",element:E.jsx(em,{children:E.jsx(h5,{})})})]})})})})}JA.createRoot(document.getElementById("root")).render(E.jsx(xi.StrictMode,{children:E.jsx(g5,{})}));
