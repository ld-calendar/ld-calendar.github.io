(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function gf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var lp={exports:{}},Cl={};var Qv;function HA(){if(Qv)return Cl;Qv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var u in s)u!=="key"&&(l[u]=s[u])}else l=s;return s=l.ref,{$$typeof:n,type:r,key:c,ref:s!==void 0?s:null,props:l}}return Cl.Fragment=e,Cl.jsx=t,Cl.jsxs=t,Cl}var Zv;function VA(){return Zv||(Zv=1,lp.exports=HA()),lp.exports}var E=VA(),op={exports:{}},me={};var e1;function $A(){if(e1)return me;e1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function v(N){return N===null||typeof N!="object"?null:(N=b&&N[b]||N["@@iterator"],typeof N=="function"?N:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,C={};function w(N,H,X){this.props=N,this.context=H,this.refs=C,this.updater=X||S}w.prototype.isReactComponent={},w.prototype.setState=function(N,H){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,H,"setState")},w.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function I(){}I.prototype=w.prototype;function B(N,H,X){this.props=N,this.context=H,this.refs=C,this.updater=X||S}var F=B.prototype=new I;F.constructor=B,T(F,w.prototype),F.isPureReactComponent=!0;var q=Array.isArray;function W(){}var P={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function ne(N,H,X){var ie=X.ref;return{$$typeof:n,type:N,key:H,ref:ie!==void 0?ie:null,props:X}}function de(N,H){return ne(N.type,H,N.props)}function Oe(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function Q(N){var H={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(X){return H[X]})}var xe=/\/+/g;function _e(N,H){return typeof N=="object"&&N!==null&&N.key!=null?Q(""+N.key):H.toString(36)}function Se(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(W,W):(N.status="pending",N.then(function(H){N.status==="pending"&&(N.status="fulfilled",N.value=H)},function(H){N.status==="pending"&&(N.status="rejected",N.reason=H)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function z(N,H,X,ie,pe){var Ee=typeof N;(Ee==="undefined"||Ee==="boolean")&&(N=null);var De=!1;if(N===null)De=!0;else switch(Ee){case"bigint":case"string":case"number":De=!0;break;case"object":switch(N.$$typeof){case n:case e:De=!0;break;case m:return De=N._init,z(De(N._payload),H,X,ie,pe)}}if(De)return pe=pe(N),De=ie===""?"."+_e(N,0):ie,q(pe)?(X="",De!=null&&(X=De.replace(xe,"$&/")+"/"),z(pe,H,X,"",function(Da){return Da})):pe!=null&&(Oe(pe)&&(pe=de(pe,X+(pe.key==null||N&&N.key===pe.key?"":(""+pe.key).replace(xe,"$&/")+"/")+De)),H.push(pe)),1;De=0;var Rt=ie===""?".":ie+":";if(q(N))for(var tt=0;tt<N.length;tt++)ie=N[tt],Ee=Rt+_e(ie,tt),De+=z(ie,H,X,Ee,pe);else if(tt=v(N),typeof tt=="function")for(N=tt.call(N),tt=0;!(ie=N.next()).done;)ie=ie.value,Ee=Rt+_e(ie,tt++),De+=z(ie,H,X,Ee,pe);else if(Ee==="object"){if(typeof N.then=="function")return z(Se(N),H,X,ie,pe);throw H=String(N),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return De}function J(N,H,X){if(N==null)return N;var ie=[],pe=0;return z(N,ie,"","",function(Ee){return H.call(X,Ee,pe++)}),ie}function ae(N){if(N._status===-1){var H=N._result;H=H(),H.then(function(X){(N._status===0||N._status===-1)&&(N._status=1,N._result=X)},function(X){(N._status===0||N._status===-1)&&(N._status=2,N._result=X)}),N._status===-1&&(N._status=0,N._result=H)}if(N._status===1)return N._result.default;throw N._result}var K=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},te={map:J,forEach:function(N,H,X){J(N,function(){H.apply(this,arguments)},X)},count:function(N){var H=0;return J(N,function(){H++}),H},toArray:function(N){return J(N,function(H){return H})||[]},only:function(N){if(!Oe(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return me.Activity=y,me.Children=te,me.Component=w,me.Fragment=t,me.Profiler=s,me.PureComponent=B,me.StrictMode=r,me.Suspense=d,me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,me.__COMPILER_RUNTIME={__proto__:null,c:function(N){return P.H.useMemoCache(N)}},me.cache=function(N){return function(){return N.apply(null,arguments)}},me.cacheSignal=function(){return null},me.cloneElement=function(N,H,X){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ie=T({},N.props),pe=N.key;if(H!=null)for(Ee in H.key!==void 0&&(pe=""+H.key),H)!ee.call(H,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&H.ref===void 0||(ie[Ee]=H[Ee]);var Ee=arguments.length-2;if(Ee===1)ie.children=X;else if(1<Ee){for(var De=Array(Ee),Rt=0;Rt<Ee;Rt++)De[Rt]=arguments[Rt+2];ie.children=De}return ne(N.type,pe,ie)},me.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:l,_context:N},N},me.createElement=function(N,H,X){var ie,pe={},Ee=null;if(H!=null)for(ie in H.key!==void 0&&(Ee=""+H.key),H)ee.call(H,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(pe[ie]=H[ie]);var De=arguments.length-2;if(De===1)pe.children=X;else if(1<De){for(var Rt=Array(De),tt=0;tt<De;tt++)Rt[tt]=arguments[tt+2];pe.children=Rt}if(N&&N.defaultProps)for(ie in De=N.defaultProps,De)pe[ie]===void 0&&(pe[ie]=De[ie]);return ne(N,Ee,pe)},me.createRef=function(){return{current:null}},me.forwardRef=function(N){return{$$typeof:u,render:N}},me.isValidElement=Oe,me.lazy=function(N){return{$$typeof:m,_payload:{_status:-1,_result:N},_init:ae}},me.memo=function(N,H){return{$$typeof:h,type:N,compare:H===void 0?null:H}},me.startTransition=function(N){var H=P.T,X={};P.T=X;try{var ie=N(),pe=P.S;pe!==null&&pe(X,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(W,K)}catch(Ee){K(Ee)}finally{H!==null&&X.types!==null&&(H.types=X.types),P.T=H}},me.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},me.use=function(N){return P.H.use(N)},me.useActionState=function(N,H,X){return P.H.useActionState(N,H,X)},me.useCallback=function(N,H){return P.H.useCallback(N,H)},me.useContext=function(N){return P.H.useContext(N)},me.useDebugValue=function(){},me.useDeferredValue=function(N,H){return P.H.useDeferredValue(N,H)},me.useEffect=function(N,H){return P.H.useEffect(N,H)},me.useEffectEvent=function(N){return P.H.useEffectEvent(N)},me.useId=function(){return P.H.useId()},me.useImperativeHandle=function(N,H,X){return P.H.useImperativeHandle(N,H,X)},me.useInsertionEffect=function(N,H){return P.H.useInsertionEffect(N,H)},me.useLayoutEffect=function(N,H){return P.H.useLayoutEffect(N,H)},me.useMemo=function(N,H){return P.H.useMemo(N,H)},me.useOptimistic=function(N,H){return P.H.useOptimistic(N,H)},me.useReducer=function(N,H,X){return P.H.useReducer(N,H,X)},me.useRef=function(N){return P.H.useRef(N)},me.useState=function(N){return P.H.useState(N)},me.useSyncExternalStore=function(N,H,X){return P.H.useSyncExternalStore(N,H,X)},me.useTransition=function(){return P.H.useTransition()},me.version="19.2.0",me}var t1;function fo(){return t1||(t1=1,op.exports=$A()),op.exports}var O=fo();const Ei=gf(O);var cp={exports:{}},wl={},up={exports:{}},fp={};var n1;function qA(){return n1||(n1=1,(function(n){function e(z,J){var ae=z.length;z.push(J);e:for(;0<ae;){var K=ae-1>>>1,te=z[K];if(0<s(te,J))z[K]=J,z[ae]=te,ae=K;else break e}}function t(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var J=z[0],ae=z.pop();if(ae!==J){z[0]=ae;e:for(var K=0,te=z.length,N=te>>>1;K<N;){var H=2*(K+1)-1,X=z[H],ie=H+1,pe=z[ie];if(0>s(X,ae))ie<te&&0>s(pe,X)?(z[K]=pe,z[ie]=ae,K=ie):(z[K]=X,z[H]=ae,K=H);else if(ie<te&&0>s(pe,ae))z[K]=pe,z[ie]=ae,K=ie;else break e}}return J}function s(z,J){var ae=z.sortIndex-J.sortIndex;return ae!==0?ae:z.id-J.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();n.unstable_now=function(){return c.now()-u}}var d=[],h=[],m=1,y=null,b=3,v=!1,S=!1,T=!1,C=!1,w=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function F(z){for(var J=t(h);J!==null;){if(J.callback===null)r(h);else if(J.startTime<=z)r(h),J.sortIndex=J.expirationTime,e(d,J);else break;J=t(h)}}function q(z){if(T=!1,F(z),!S)if(t(d)!==null)S=!0,W||(W=!0,Q());else{var J=t(h);J!==null&&Se(q,J.startTime-z)}}var W=!1,P=-1,ee=5,ne=-1;function de(){return C?!0:!(n.unstable_now()-ne<ee)}function Oe(){if(C=!1,W){var z=n.unstable_now();ne=z;var J=!0;try{e:{S=!1,T&&(T=!1,I(P),P=-1),v=!0;var ae=b;try{t:{for(F(z),y=t(d);y!==null&&!(y.expirationTime>z&&de());){var K=y.callback;if(typeof K=="function"){y.callback=null,b=y.priorityLevel;var te=K(y.expirationTime<=z);if(z=n.unstable_now(),typeof te=="function"){y.callback=te,F(z),J=!0;break t}y===t(d)&&r(d),F(z)}else r(d);y=t(d)}if(y!==null)J=!0;else{var N=t(h);N!==null&&Se(q,N.startTime-z),J=!1}}break e}finally{y=null,b=ae,v=!1}J=void 0}}finally{J?Q():W=!1}}}var Q;if(typeof B=="function")Q=function(){B(Oe)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,_e=xe.port2;xe.port1.onmessage=Oe,Q=function(){_e.postMessage(null)}}else Q=function(){w(Oe,0)};function Se(z,J){P=w(function(){z(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(z){switch(b){case 1:case 2:case 3:var J=3;break;default:J=b}var ae=b;b=J;try{return z()}finally{b=ae}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(z,J){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ae=b;b=z;try{return J()}finally{b=ae}},n.unstable_scheduleCallback=function(z,J,ae){var K=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?K+ae:K):ae=K,z){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=ae+te,z={id:m++,callback:J,priorityLevel:z,startTime:ae,expirationTime:te,sortIndex:-1},ae>K?(z.sortIndex=ae,e(h,z),t(d)===null&&z===t(h)&&(T?(I(P),P=-1):T=!0,Se(q,ae-K))):(z.sortIndex=te,e(d,z),S||v||(S=!0,W||(W=!0,Q()))),z},n.unstable_shouldYield=de,n.unstable_wrapCallback=function(z){var J=b;return function(){var ae=b;b=J;try{return z.apply(this,arguments)}finally{b=ae}}}})(fp)),fp}var r1;function FA(){return r1||(r1=1,up.exports=qA()),up.exports}var dp={exports:{}},At={};var i1;function KA(){if(i1)return At;i1=1;var n=fo();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(d,h,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:d,containerInfo:h,implementation:m}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return At.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,At.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return l(d,h,null,m)},At.flushSync=function(d){var h=c.T,m=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=h,r.p=m,r.d.f()}},At.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},At.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},At.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,y=u(m,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:v}):m==="script"&&r.d.X(d,{crossOrigin:y,integrity:b,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},At.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=u(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},At.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,y=u(m,h.crossOrigin);r.d.L(d,m,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},At.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=u(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},At.requestFormReset=function(d){r.d.r(d)},At.unstable_batchedUpdates=function(d,h){return d(h)},At.useFormState=function(d,h,m){return c.H.useFormState(d,h,m)},At.useFormStatus=function(){return c.H.useHostTransitionStatus()},At.version="19.2.0",At}var s1;function ES(){if(s1)return dp.exports;s1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),dp.exports=KA(),dp.exports}var a1;function GA(){if(a1)return wl;a1=1;var n=FA(),e=fo(),t=ES();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var a=i,o=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(o=a.return),i=a.return;while(i)}return a.tag===3?o:null}function c(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function u(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(r(188))}function h(i){var a=i.alternate;if(!a){if(a=l(i),a===null)throw Error(r(188));return a!==i?null:i}for(var o=i,f=a;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(f=p.return,f!==null){o=f;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return d(p),i;if(g===f)return d(p),a;g=g.sibling}throw Error(r(188))}if(o.return!==f.return)o=p,f=g;else{for(var x=!1,k=p.child;k;){if(k===o){x=!0,o=p,f=g;break}if(k===f){x=!0,f=p,o=g;break}k=k.sibling}if(!x){for(k=g.child;k;){if(k===o){x=!0,o=g,f=p;break}if(k===f){x=!0,f=g,o=p;break}k=k.sibling}if(!x)throw Error(r(189))}}if(o.alternate!==f)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:a}function m(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=m(i),a!==null)return a;i=i.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),B=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),de=Symbol.for("react.memo_cache_sentinel"),Oe=Symbol.iterator;function Q(i){return i===null||typeof i!="object"?null:(i=Oe&&i[Oe]||i["@@iterator"],typeof i=="function"?i:null)}var xe=Symbol.for("react.client.reference");function _e(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===xe?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case T:return"Fragment";case w:return"Profiler";case C:return"StrictMode";case q:return"Suspense";case W:return"SuspenseList";case ne:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case B:return i.displayName||"Context";case I:return(i._context.displayName||"Context")+".Consumer";case F:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return a=i.displayName||null,a!==null?a:_e(i.type)||"Memo";case ee:a=i._payload,i=i._init;try{return _e(i(a))}catch{}}return null}var Se=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},K=[],te=-1;function N(i){return{current:i}}function H(i){0>te||(i.current=K[te],K[te]=null,te--)}function X(i,a){te++,K[te]=i.current,i.current=a}var ie=N(null),pe=N(null),Ee=N(null),De=N(null);function Rt(i,a){switch(X(Ee,a),X(pe,i),X(ie,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?Sv(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=Sv(a),i=Ev(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}H(ie),X(ie,i)}function tt(){H(ie),H(pe),H(Ee)}function Da(i){i.memoizedState!==null&&X(De,i);var a=ie.current,o=Ev(a,i.type);a!==o&&(X(pe,i),X(ie,o))}function No(i){pe.current===i&&(H(ie),H(pe)),De.current===i&&(H(De),Sl._currentValue=ae)}var $f,Xg;function Ri(i){if($f===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);$f=a&&a[1]||"",Xg=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$f+i+Xg}var qf=!1;function Ff(i,a){if(!i||qf)return"";qf=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(j){var L=j}Reflect.construct(i,[],$)}else{try{$.call()}catch(j){L=j}i.call($.prototype)}}else{try{throw Error()}catch(j){L=j}($=i())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(j){if(j&&L&&typeof j.stack=="string")return[j.stack,L.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=f.DetermineComponentFrameRoot(),x=g[0],k=g[1];if(x&&k){var A=x.split(`
`),_=k.split(`
`);for(p=f=0;f<A.length&&!A[f].includes("DetermineComponentFrameRoot");)f++;for(;p<_.length&&!_[p].includes("DetermineComponentFrameRoot");)p++;if(f===A.length||p===_.length)for(f=A.length-1,p=_.length-1;1<=f&&0<=p&&A[f]!==_[p];)p--;for(;1<=f&&0<=p;f--,p--)if(A[f]!==_[p]){if(f!==1||p!==1)do if(f--,p--,0>p||A[f]!==_[p]){var U=`
`+A[f].replace(" at new "," at ");return i.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",i.displayName)),U}while(1<=f&&0<=p);break}}}finally{qf=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ri(o):""}function bC(i,a){switch(i.tag){case 26:case 27:case 5:return Ri(i.type);case 16:return Ri("Lazy");case 13:return i.child!==a&&a!==null?Ri("Suspense Fallback"):Ri("Suspense");case 19:return Ri("SuspenseList");case 0:case 15:return Ff(i.type,!1);case 11:return Ff(i.type.render,!1);case 1:return Ff(i.type,!0);case 31:return Ri("Activity");default:return""}}function Qg(i){try{var a="",o=null;do a+=bC(i,o),o=i,i=i.return;while(i);return a}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Kf=Object.prototype.hasOwnProperty,Gf=n.unstable_scheduleCallback,Yf=n.unstable_cancelCallback,vC=n.unstable_shouldYield,xC=n.unstable_requestPaint,Kt=n.unstable_now,SC=n.unstable_getCurrentPriorityLevel,Zg=n.unstable_ImmediatePriority,e0=n.unstable_UserBlockingPriority,Mo=n.unstable_NormalPriority,EC=n.unstable_LowPriority,t0=n.unstable_IdlePriority,kC=n.log,TC=n.unstable_setDisableYieldValue,_a=null,Gt=null;function Ar(i){if(typeof kC=="function"&&TC(i),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(_a,i)}catch{}}var Yt=Math.clz32?Math.clz32:AC,CC=Math.log,wC=Math.LN2;function AC(i){return i>>>=0,i===0?32:31-(CC(i)/wC|0)|0}var Oo=256,Ro=262144,Do=4194304;function Di(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function _o(i,a,o){var f=i.pendingLanes;if(f===0)return 0;var p=0,g=i.suspendedLanes,x=i.pingedLanes;i=i.warmLanes;var k=f&134217727;return k!==0?(f=k&~g,f!==0?p=Di(f):(x&=k,x!==0?p=Di(x):o||(o=k&~i,o!==0&&(p=Di(o))))):(k=f&~g,k!==0?p=Di(k):x!==0?p=Di(x):o||(o=f&~i,o!==0&&(p=Di(o)))),p===0?0:a!==0&&a!==p&&(a&g)===0&&(g=p&-p,o=a&-a,g>=o||g===32&&(o&4194048)!==0)?a:p}function Ia(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function NC(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n0(){var i=Do;return Do<<=1,(Do&62914560)===0&&(Do=4194304),i}function Wf(i){for(var a=[],o=0;31>o;o++)a.push(i);return a}function La(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function MC(i,a,o,f,p,g){var x=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var k=i.entanglements,A=i.expirationTimes,_=i.hiddenUpdates;for(o=x&~o;0<o;){var U=31-Yt(o),$=1<<U;k[U]=0,A[U]=-1;var L=_[U];if(L!==null)for(_[U]=null,U=0;U<L.length;U++){var j=L[U];j!==null&&(j.lane&=-536870913)}o&=~$}f!==0&&r0(i,f,0),g!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=g&~(x&~a))}function r0(i,a,o){i.pendingLanes|=a,i.suspendedLanes&=~a;var f=31-Yt(a);i.entangledLanes|=a,i.entanglements[f]=i.entanglements[f]|1073741824|o&261930}function i0(i,a){var o=i.entangledLanes|=a;for(i=i.entanglements;o;){var f=31-Yt(o),p=1<<f;p&a|i[f]&a&&(i[f]|=a),o&=~p}}function s0(i,a){var o=a&-a;return o=(o&42)!==0?1:Jf(o),(o&(i.suspendedLanes|a))!==0?0:o}function Jf(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Xf(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function a0(){var i=J.p;return i!==0?i:(i=window.event,i===void 0?32:Fv(i.type))}function l0(i,a){var o=J.p;try{return J.p=i,a()}finally{J.p=o}}var Nr=Math.random().toString(36).slice(2),vt="__reactFiber$"+Nr,jt="__reactProps$"+Nr,bs="__reactContainer$"+Nr,Qf="__reactEvents$"+Nr,OC="__reactListeners$"+Nr,RC="__reactHandles$"+Nr,o0="__reactResources$"+Nr,za="__reactMarker$"+Nr;function Zf(i){delete i[vt],delete i[jt],delete i[Qf],delete i[OC],delete i[RC]}function vs(i){var a=i[vt];if(a)return a;for(var o=i.parentNode;o;){if(a=o[bs]||o[vt]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(i=Mv(i);i!==null;){if(o=i[vt])return o;i=Mv(i)}return a}i=o,o=i.parentNode}return null}function xs(i){if(i=i[vt]||i[bs]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function ja(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function Ss(i){var a=i[o0];return a||(a=i[o0]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ht(i){i[za]=!0}var c0=new Set,u0={};function _i(i,a){Es(i,a),Es(i+"Capture",a)}function Es(i,a){for(u0[i]=a,i=0;i<a.length;i++)c0.add(a[i])}var DC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),f0={},d0={};function _C(i){return Kf.call(d0,i)?!0:Kf.call(f0,i)?!1:DC.test(i)?d0[i]=!0:(f0[i]=!0,!1)}function Io(i,a,o){if(_C(a))if(o===null)i.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+o)}}function Lo(i,a,o){if(o===null)i.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+o)}}function Gn(i,a,o,f){if(f===null)i.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(a,o,""+f)}}function ln(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function h0(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function IC(i,a,o){var f=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var p=f.get,g=f.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return p.call(this)},set:function(x){o=""+x,g.call(this,x)}}),Object.defineProperty(i,a,{enumerable:f.enumerable}),{getValue:function(){return o},setValue:function(x){o=""+x},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function ed(i){if(!i._valueTracker){var a=h0(i)?"checked":"value";i._valueTracker=IC(i,a,""+i[a])}}function p0(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var o=a.getValue(),f="";return i&&(f=h0(i)?i.checked?"true":"false":i.value),i=f,i!==o?(a.setValue(i),!0):!1}function zo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var LC=/[\n"\\]/g;function on(i){return i.replace(LC,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function td(i,a,o,f,p,g,x,k){i.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.type=x:i.removeAttribute("type"),a!=null?x==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+ln(a)):i.value!==""+ln(a)&&(i.value=""+ln(a)):x!=="submit"&&x!=="reset"||i.removeAttribute("value"),a!=null?nd(i,x,ln(a)):o!=null?nd(i,x,ln(o)):f!=null&&i.removeAttribute("value"),p==null&&g!=null&&(i.defaultChecked=!!g),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.name=""+ln(k):i.removeAttribute("name")}function m0(i,a,o,f,p,g,x,k){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),a!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||a!=null)){ed(i);return}o=o!=null?""+ln(o):"",a=a!=null?""+ln(a):o,k||a===i.value||(i.value=a),i.defaultValue=a}f=f??p,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=k?i.checked:!!f,i.defaultChecked=!!f,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.name=x),ed(i)}function nd(i,a,o){a==="number"&&zo(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function ks(i,a,o,f){if(i=i.options,a){a={};for(var p=0;p<o.length;p++)a["$"+o[p]]=!0;for(o=0;o<i.length;o++)p=a.hasOwnProperty("$"+i[o].value),i[o].selected!==p&&(i[o].selected=p),p&&f&&(i[o].defaultSelected=!0)}else{for(o=""+ln(o),a=null,p=0;p<i.length;p++){if(i[p].value===o){i[p].selected=!0,f&&(i[p].defaultSelected=!0);return}a!==null||i[p].disabled||(a=i[p])}a!==null&&(a.selected=!0)}}function g0(i,a,o){if(a!=null&&(a=""+ln(a),a!==i.value&&(i.value=a),o==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=o!=null?""+ln(o):""}function y0(i,a,o,f){if(a==null){if(f!=null){if(o!=null)throw Error(r(92));if(Se(f)){if(1<f.length)throw Error(r(93));f=f[0]}o=f}o==null&&(o=""),a=o}o=ln(a),i.defaultValue=o,f=i.textContent,f===o&&f!==""&&f!==null&&(i.value=f),ed(i)}function Ts(i,a){if(a){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=a;return}}i.textContent=a}var zC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function b0(i,a,o){var f=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?f?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":f?i.setProperty(a,o):typeof o!="number"||o===0||zC.has(a)?a==="float"?i.cssFloat=o:i[a]=(""+o).trim():i[a]=o+"px"}function v0(i,a,o){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,o!=null){for(var f in o)!o.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var p in a)f=a[p],a.hasOwnProperty(p)&&o[p]!==f&&b0(i,p,f)}else for(var g in a)a.hasOwnProperty(g)&&b0(i,g,a[g])}function rd(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),BC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jo(i){return BC.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Yn(){}var id=null;function sd(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Cs=null,ws=null;function x0(i){var a=xs(i);if(a&&(i=a.stateNode)){var o=i[jt]||null;e:switch(i=a.stateNode,a.type){case"input":if(td(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+on(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var f=o[a];if(f!==i&&f.form===i.form){var p=f[jt]||null;if(!p)throw Error(r(90));td(f,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<o.length;a++)f=o[a],f.form===i.form&&p0(f)}break e;case"textarea":g0(i,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&ks(i,!!o.multiple,a,!1)}}}var ad=!1;function S0(i,a,o){if(ad)return i(a,o);ad=!0;try{var f=i(a);return f}finally{if(ad=!1,(Cs!==null||ws!==null)&&(Tc(),Cs&&(a=Cs,i=ws,ws=Cs=null,x0(a),i)))for(a=0;a<i.length;a++)x0(i[a])}}function Ba(i,a){var o=i.stateNode;if(o===null)return null;var f=o[jt]||null;if(f===null)return null;o=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,a,typeof o));return o}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ld=!1;if(Wn)try{var Ua={};Object.defineProperty(Ua,"passive",{get:function(){ld=!0}}),window.addEventListener("test",Ua,Ua),window.removeEventListener("test",Ua,Ua)}catch{ld=!1}var Mr=null,od=null,Bo=null;function E0(){if(Bo)return Bo;var i,a=od,o=a.length,f,p="value"in Mr?Mr.value:Mr.textContent,g=p.length;for(i=0;i<o&&a[i]===p[i];i++);var x=o-i;for(f=1;f<=x&&a[o-f]===p[g-f];f++);return Bo=p.slice(i,1<f?1-f:void 0)}function Uo(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Po(){return!0}function k0(){return!1}function Bt(i){function a(o,f,p,g,x){this._reactName=o,this._targetInst=p,this.type=f,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var k in i)i.hasOwnProperty(k)&&(o=i[k],this[k]=o?o(g):g[k]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Po:k0,this.isPropagationStopped=k0,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Po)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Po)},persist:function(){},isPersistent:Po}),a}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ho=Bt(Ii),Pa=y({},Ii,{view:0,detail:0}),UC=Bt(Pa),cd,ud,Ha,Vo=y({},Pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ha&&(Ha&&i.type==="mousemove"?(cd=i.screenX-Ha.screenX,ud=i.screenY-Ha.screenY):ud=cd=0,Ha=i),cd)},movementY:function(i){return"movementY"in i?i.movementY:ud}}),T0=Bt(Vo),PC=y({},Vo,{dataTransfer:0}),HC=Bt(PC),VC=y({},Pa,{relatedTarget:0}),fd=Bt(VC),$C=y({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),qC=Bt($C),FC=y({},Ii,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),KC=Bt(FC),GC=y({},Ii,{data:0}),C0=Bt(GC),YC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XC(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=JC[i])?!!a[i]:!1}function dd(){return XC}var QC=y({},Pa,{key:function(i){if(i.key){var a=YC[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Uo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?WC[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dd,charCode:function(i){return i.type==="keypress"?Uo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Uo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ZC=Bt(QC),ew=y({},Vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w0=Bt(ew),tw=y({},Pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dd}),nw=Bt(tw),rw=y({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),iw=Bt(rw),sw=y({},Vo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),aw=Bt(sw),lw=y({},Ii,{newState:0,oldState:0}),ow=Bt(lw),cw=[9,13,27,32],hd=Wn&&"CompositionEvent"in window,Va=null;Wn&&"documentMode"in document&&(Va=document.documentMode);var uw=Wn&&"TextEvent"in window&&!Va,A0=Wn&&(!hd||Va&&8<Va&&11>=Va),N0=" ",M0=!1;function O0(i,a){switch(i){case"keyup":return cw.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function R0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var As=!1;function fw(i,a){switch(i){case"compositionend":return R0(a);case"keypress":return a.which!==32?null:(M0=!0,N0);case"textInput":return i=a.data,i===N0&&M0?null:i;default:return null}}function dw(i,a){if(As)return i==="compositionend"||!hd&&O0(i,a)?(i=E0(),Bo=od=Mr=null,As=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return A0&&a.locale!=="ko"?null:a.data;default:return null}}var hw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function D0(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!hw[i.type]:a==="textarea"}function _0(i,a,o,f){Cs?ws?ws.push(f):ws=[f]:Cs=f,a=Rc(a,"onChange"),0<a.length&&(o=new Ho("onChange","change",null,o,f),i.push({event:o,listeners:a}))}var $a=null,qa=null;function pw(i){mv(i,0)}function $o(i){var a=ja(i);if(p0(a))return i}function I0(i,a){if(i==="change")return a}var L0=!1;if(Wn){var pd;if(Wn){var md="oninput"in document;if(!md){var z0=document.createElement("div");z0.setAttribute("oninput","return;"),md=typeof z0.oninput=="function"}pd=md}else pd=!1;L0=pd&&(!document.documentMode||9<document.documentMode)}function j0(){$a&&($a.detachEvent("onpropertychange",B0),qa=$a=null)}function B0(i){if(i.propertyName==="value"&&$o(qa)){var a=[];_0(a,qa,i,sd(i)),S0(pw,a)}}function mw(i,a,o){i==="focusin"?(j0(),$a=a,qa=o,$a.attachEvent("onpropertychange",B0)):i==="focusout"&&j0()}function gw(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return $o(qa)}function yw(i,a){if(i==="click")return $o(a)}function bw(i,a){if(i==="input"||i==="change")return $o(a)}function vw(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Wt=typeof Object.is=="function"?Object.is:vw;function Fa(i,a){if(Wt(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var o=Object.keys(i),f=Object.keys(a);if(o.length!==f.length)return!1;for(f=0;f<o.length;f++){var p=o[f];if(!Kf.call(a,p)||!Wt(i[p],a[p]))return!1}return!0}function U0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function P0(i,a){var o=U0(i);i=0;for(var f;o;){if(o.nodeType===3){if(f=i+o.textContent.length,i<=a&&f>=a)return{node:o,offset:a-i};i=f}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=U0(o)}}function H0(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?H0(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function V0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=zo(i.document);a instanceof i.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)i=a.contentWindow;else break;a=zo(i.document)}return a}function gd(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var xw=Wn&&"documentMode"in document&&11>=document.documentMode,Ns=null,yd=null,Ka=null,bd=!1;function $0(i,a,o){var f=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;bd||Ns==null||Ns!==zo(f)||(f=Ns,"selectionStart"in f&&gd(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ka&&Fa(Ka,f)||(Ka=f,f=Rc(yd,"onSelect"),0<f.length&&(a=new Ho("onSelect","select",null,a,o),i.push({event:a,listeners:f}),a.target=Ns)))}function Li(i,a){var o={};return o[i.toLowerCase()]=a.toLowerCase(),o["Webkit"+i]="webkit"+a,o["Moz"+i]="moz"+a,o}var Ms={animationend:Li("Animation","AnimationEnd"),animationiteration:Li("Animation","AnimationIteration"),animationstart:Li("Animation","AnimationStart"),transitionrun:Li("Transition","TransitionRun"),transitionstart:Li("Transition","TransitionStart"),transitioncancel:Li("Transition","TransitionCancel"),transitionend:Li("Transition","TransitionEnd")},vd={},q0={};Wn&&(q0=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function zi(i){if(vd[i])return vd[i];if(!Ms[i])return i;var a=Ms[i],o;for(o in a)if(a.hasOwnProperty(o)&&o in q0)return vd[i]=a[o];return i}var F0=zi("animationend"),K0=zi("animationiteration"),G0=zi("animationstart"),Sw=zi("transitionrun"),Ew=zi("transitionstart"),kw=zi("transitioncancel"),Y0=zi("transitionend"),W0=new Map,xd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xd.push("scrollEnd");function kn(i,a){W0.set(i,a),_i(a,[i])}var qo=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},cn=[],Os=0,Sd=0;function Fo(){for(var i=Os,a=Sd=Os=0;a<i;){var o=cn[a];cn[a++]=null;var f=cn[a];cn[a++]=null;var p=cn[a];cn[a++]=null;var g=cn[a];if(cn[a++]=null,f!==null&&p!==null){var x=f.pending;x===null?p.next=p:(p.next=x.next,x.next=p),f.pending=p}g!==0&&J0(o,p,g)}}function Ko(i,a,o,f){cn[Os++]=i,cn[Os++]=a,cn[Os++]=o,cn[Os++]=f,Sd|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function Ed(i,a,o,f){return Ko(i,a,o,f),Go(i)}function ji(i,a){return Ko(i,null,null,a),Go(i)}function J0(i,a,o){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o);for(var p=!1,g=i.return;g!==null;)g.childLanes|=o,f=g.alternate,f!==null&&(f.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(p=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,p&&a!==null&&(p=31-Yt(o),i=g.hiddenUpdates,f=i[p],f===null?i[p]=[a]:f.push(a),a.lane=o|536870912),g):null}function Go(i){if(50<pl)throw pl=0,Rh=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Rs={};function Tw(i,a,o,f){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(i,a,o,f){return new Tw(i,a,o,f)}function kd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Jn(i,a){var o=i.alternate;return o===null?(o=Jt(i.tag,a,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=a,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,a=i.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function X0(i,a){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,a=o.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Yo(i,a,o,f,p,g){var x=0;if(f=i,typeof i=="function")kd(i)&&(x=1);else if(typeof i=="string")x=MA(i,o,ie.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case ne:return i=Jt(31,o,a,p),i.elementType=ne,i.lanes=g,i;case T:return Bi(o.children,p,g,a);case C:x=8,p|=24;break;case w:return i=Jt(12,o,a,p|2),i.elementType=w,i.lanes=g,i;case q:return i=Jt(13,o,a,p),i.elementType=q,i.lanes=g,i;case W:return i=Jt(19,o,a,p),i.elementType=W,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case B:x=10;break e;case I:x=9;break e;case F:x=11;break e;case P:x=14;break e;case ee:x=16,f=null;break e}x=29,o=Error(r(130,i===null?"null":typeof i,"")),f=null}return a=Jt(x,o,a,p),a.elementType=i,a.type=f,a.lanes=g,a}function Bi(i,a,o,f){return i=Jt(7,i,f,a),i.lanes=o,i}function Td(i,a,o){return i=Jt(6,i,null,a),i.lanes=o,i}function Q0(i){var a=Jt(18,null,null,0);return a.stateNode=i,a}function Cd(i,a,o){return a=Jt(4,i.children!==null?i.children:[],i.key,a),a.lanes=o,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Z0=new WeakMap;function un(i,a){if(typeof i=="object"&&i!==null){var o=Z0.get(i);return o!==void 0?o:(a={value:i,source:a,stack:Qg(a)},Z0.set(i,a),a)}return{value:i,source:a,stack:Qg(a)}}var Ds=[],_s=0,Wo=null,Ga=0,fn=[],dn=0,Or=null,Ln=1,zn="";function Xn(i,a){Ds[_s++]=Ga,Ds[_s++]=Wo,Wo=i,Ga=a}function ey(i,a,o){fn[dn++]=Ln,fn[dn++]=zn,fn[dn++]=Or,Or=i;var f=Ln;i=zn;var p=32-Yt(f)-1;f&=~(1<<p),o+=1;var g=32-Yt(a)+p;if(30<g){var x=p-p%5;g=(f&(1<<x)-1).toString(32),f>>=x,p-=x,Ln=1<<32-Yt(a)+p|o<<p|f,zn=g+i}else Ln=1<<g|o<<p|f,zn=i}function wd(i){i.return!==null&&(Xn(i,1),ey(i,1,0))}function Ad(i){for(;i===Wo;)Wo=Ds[--_s],Ds[_s]=null,Ga=Ds[--_s],Ds[_s]=null;for(;i===Or;)Or=fn[--dn],fn[dn]=null,zn=fn[--dn],fn[dn]=null,Ln=fn[--dn],fn[dn]=null}function ty(i,a){fn[dn++]=Ln,fn[dn++]=zn,fn[dn++]=Or,Ln=a.id,zn=a.overflow,Or=i}var xt=null,qe=null,Ae=!1,Rr=null,hn=!1,Nd=Error(r(519));function Dr(i){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ya(un(a,i)),Nd}function ny(i){var a=i.stateNode,o=i.type,f=i.memoizedProps;switch(a[vt]=i,a[jt]=f,o){case"dialog":Te("cancel",a),Te("close",a);break;case"iframe":case"object":case"embed":Te("load",a);break;case"video":case"audio":for(o=0;o<gl.length;o++)Te(gl[o],a);break;case"source":Te("error",a);break;case"img":case"image":case"link":Te("error",a),Te("load",a);break;case"details":Te("toggle",a);break;case"input":Te("invalid",a),m0(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Te("invalid",a);break;case"textarea":Te("invalid",a),y0(a,f.value,f.defaultValue,f.children)}o=f.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||f.suppressHydrationWarning===!0||vv(a.textContent,o)?(f.popover!=null&&(Te("beforetoggle",a),Te("toggle",a)),f.onScroll!=null&&Te("scroll",a),f.onScrollEnd!=null&&Te("scrollend",a),f.onClick!=null&&(a.onclick=Yn),a=!0):a=!1,a||Dr(i,!0)}function ry(i){for(xt=i.return;xt;)switch(xt.tag){case 5:case 31:case 13:hn=!1;return;case 27:case 3:hn=!0;return;default:xt=xt.return}}function Is(i){if(i!==xt)return!1;if(!Ae)return ry(i),Ae=!0,!1;var a=i.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Kh(i.type,i.memoizedProps)),o=!o),o&&qe&&Dr(i),ry(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));qe=Nv(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));qe=Nv(i)}else a===27?(a=qe,Kr(i.type)?(i=Xh,Xh=null,qe=i):qe=a):qe=xt?mn(i.stateNode.nextSibling):null;return!0}function Ui(){qe=xt=null,Ae=!1}function Md(){var i=Rr;return i!==null&&(Vt===null?Vt=i:Vt.push.apply(Vt,i),Rr=null),i}function Ya(i){Rr===null?Rr=[i]:Rr.push(i)}var Od=N(null),Pi=null,Qn=null;function _r(i,a,o){X(Od,a._currentValue),a._currentValue=o}function Zn(i){i._currentValue=Od.current,H(Od)}function Rd(i,a,o){for(;i!==null;){var f=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),i===o)break;i=i.return}}function Dd(i,a,o,f){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var g=p.dependencies;if(g!==null){var x=p.child;g=g.firstContext;e:for(;g!==null;){var k=g;g=p;for(var A=0;A<a.length;A++)if(k.context===a[A]){g.lanes|=o,k=g.alternate,k!==null&&(k.lanes|=o),Rd(g.return,o,i),f||(x=null);break e}g=k.next}}else if(p.tag===18){if(x=p.return,x===null)throw Error(r(341));x.lanes|=o,g=x.alternate,g!==null&&(g.lanes|=o),Rd(x,o,i),x=null}else x=p.child;if(x!==null)x.return=p;else for(x=p;x!==null;){if(x===i){x=null;break}if(p=x.sibling,p!==null){p.return=x.return,x=p;break}x=x.return}p=x}}function Ls(i,a,o,f){i=null;for(var p=a,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var x=p.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var k=p.type;Wt(p.pendingProps.value,x.value)||(i!==null?i.push(k):i=[k])}}else if(p===De.current){if(x=p.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Sl):i=[Sl])}p=p.return}i!==null&&Dd(a,i,o,f),a.flags|=262144}function Jo(i){for(i=i.firstContext;i!==null;){if(!Wt(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Hi(i){Pi=i,Qn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function St(i){return iy(Pi,i)}function Xo(i,a){return Pi===null&&Hi(i),iy(i,a)}function iy(i,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},Qn===null){if(i===null)throw Error(r(308));Qn=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Qn=Qn.next=a;return o}var Cw=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(o,f){i.push(f)}};this.abort=function(){a.aborted=!0,i.forEach(function(o){return o()})}},ww=n.unstable_scheduleCallback,Aw=n.unstable_NormalPriority,st={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _d(){return{controller:new Cw,data:new Map,refCount:0}}function Wa(i){i.refCount--,i.refCount===0&&ww(Aw,function(){i.controller.abort()})}var Ja=null,Id=0,zs=0,js=null;function Nw(i,a){if(Ja===null){var o=Ja=[];Id=0,zs=jh(),js={status:"pending",value:void 0,then:function(f){o.push(f)}}}return Id++,a.then(sy,sy),a}function sy(){if(--Id===0&&Ja!==null){js!==null&&(js.status="fulfilled");var i=Ja;Ja=null,zs=0,js=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function Mw(i,a){var o=[],f={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return i.then(function(){f.status="fulfilled",f.value=a;for(var p=0;p<o.length;p++)(0,o[p])(a)},function(p){for(f.status="rejected",f.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),f}var ay=z.S;z.S=function(i,a){$b=Kt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&Nw(i,a),ay!==null&&ay(i,a)};var Vi=N(null);function Ld(){var i=Vi.current;return i!==null?i:He.pooledCache}function Qo(i,a){a===null?X(Vi,Vi.current):X(Vi,a.pool)}function ly(){var i=Ld();return i===null?null:{parent:st._currentValue,pool:i}}var Bs=Error(r(460)),zd=Error(r(474)),Zo=Error(r(542)),ec={then:function(){}};function oy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function cy(i,a,o){switch(o=i[o],o===void 0?i.push(a):o!==a&&(a.then(Yn,Yn),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,fy(i),i;default:if(typeof a.status=="string")a.then(Yn,Yn);else{if(i=He,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(f){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=f}},function(f){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,fy(i),i}throw qi=a,Bs}}function $i(i){try{var a=i._init;return a(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(qi=o,Bs):o}}var qi=null;function uy(){if(qi===null)throw Error(r(459));var i=qi;return qi=null,i}function fy(i){if(i===Bs||i===Zo)throw Error(r(483))}var Us=null,Xa=0;function tc(i){var a=Xa;return Xa+=1,Us===null&&(Us=[]),cy(Us,i,a)}function Qa(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function nc(i,a){throw a.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function dy(i){function a(R,M){if(i){var D=R.deletions;D===null?(R.deletions=[M],R.flags|=16):D.push(M)}}function o(R,M){if(!i)return null;for(;M!==null;)a(R,M),M=M.sibling;return null}function f(R){for(var M=new Map;R!==null;)R.key!==null?M.set(R.key,R):M.set(R.index,R),R=R.sibling;return M}function p(R,M){return R=Jn(R,M),R.index=0,R.sibling=null,R}function g(R,M,D){return R.index=D,i?(D=R.alternate,D!==null?(D=D.index,D<M?(R.flags|=67108866,M):D):(R.flags|=67108866,M)):(R.flags|=1048576,M)}function x(R){return i&&R.alternate===null&&(R.flags|=67108866),R}function k(R,M,D,V){return M===null||M.tag!==6?(M=Td(D,R.mode,V),M.return=R,M):(M=p(M,D),M.return=R,M)}function A(R,M,D,V){var le=D.type;return le===T?U(R,M,D.props.children,V,D.key):M!==null&&(M.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===ee&&$i(le)===M.type)?(M=p(M,D.props),Qa(M,D),M.return=R,M):(M=Yo(D.type,D.key,D.props,null,R.mode,V),Qa(M,D),M.return=R,M)}function _(R,M,D,V){return M===null||M.tag!==4||M.stateNode.containerInfo!==D.containerInfo||M.stateNode.implementation!==D.implementation?(M=Cd(D,R.mode,V),M.return=R,M):(M=p(M,D.children||[]),M.return=R,M)}function U(R,M,D,V,le){return M===null||M.tag!==7?(M=Bi(D,R.mode,V,le),M.return=R,M):(M=p(M,D),M.return=R,M)}function $(R,M,D){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Td(""+M,R.mode,D),M.return=R,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case v:return D=Yo(M.type,M.key,M.props,null,R.mode,D),Qa(D,M),D.return=R,D;case S:return M=Cd(M,R.mode,D),M.return=R,M;case ee:return M=$i(M),$(R,M,D)}if(Se(M)||Q(M))return M=Bi(M,R.mode,D,null),M.return=R,M;if(typeof M.then=="function")return $(R,tc(M),D);if(M.$$typeof===B)return $(R,Xo(R,M),D);nc(R,M)}return null}function L(R,M,D,V){var le=M!==null?M.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return le!==null?null:k(R,M,""+D,V);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case v:return D.key===le?A(R,M,D,V):null;case S:return D.key===le?_(R,M,D,V):null;case ee:return D=$i(D),L(R,M,D,V)}if(Se(D)||Q(D))return le!==null?null:U(R,M,D,V,null);if(typeof D.then=="function")return L(R,M,tc(D),V);if(D.$$typeof===B)return L(R,M,Xo(R,D),V);nc(R,D)}return null}function j(R,M,D,V,le){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return R=R.get(D)||null,k(M,R,""+V,le);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case v:return R=R.get(V.key===null?D:V.key)||null,A(M,R,V,le);case S:return R=R.get(V.key===null?D:V.key)||null,_(M,R,V,le);case ee:return V=$i(V),j(R,M,D,V,le)}if(Se(V)||Q(V))return R=R.get(D)||null,U(M,R,V,le,null);if(typeof V.then=="function")return j(R,M,D,tc(V),le);if(V.$$typeof===B)return j(R,M,D,Xo(M,V),le);nc(M,V)}return null}function re(R,M,D,V){for(var le=null,Ne=null,se=M,ye=M=0,we=null;se!==null&&ye<D.length;ye++){se.index>ye?(we=se,se=null):we=se.sibling;var Me=L(R,se,D[ye],V);if(Me===null){se===null&&(se=we);break}i&&se&&Me.alternate===null&&a(R,se),M=g(Me,M,ye),Ne===null?le=Me:Ne.sibling=Me,Ne=Me,se=we}if(ye===D.length)return o(R,se),Ae&&Xn(R,ye),le;if(se===null){for(;ye<D.length;ye++)se=$(R,D[ye],V),se!==null&&(M=g(se,M,ye),Ne===null?le=se:Ne.sibling=se,Ne=se);return Ae&&Xn(R,ye),le}for(se=f(se);ye<D.length;ye++)we=j(se,R,ye,D[ye],V),we!==null&&(i&&we.alternate!==null&&se.delete(we.key===null?ye:we.key),M=g(we,M,ye),Ne===null?le=we:Ne.sibling=we,Ne=we);return i&&se.forEach(function(Xr){return a(R,Xr)}),Ae&&Xn(R,ye),le}function ue(R,M,D,V){if(D==null)throw Error(r(151));for(var le=null,Ne=null,se=M,ye=M=0,we=null,Me=D.next();se!==null&&!Me.done;ye++,Me=D.next()){se.index>ye?(we=se,se=null):we=se.sibling;var Xr=L(R,se,Me.value,V);if(Xr===null){se===null&&(se=we);break}i&&se&&Xr.alternate===null&&a(R,se),M=g(Xr,M,ye),Ne===null?le=Xr:Ne.sibling=Xr,Ne=Xr,se=we}if(Me.done)return o(R,se),Ae&&Xn(R,ye),le;if(se===null){for(;!Me.done;ye++,Me=D.next())Me=$(R,Me.value,V),Me!==null&&(M=g(Me,M,ye),Ne===null?le=Me:Ne.sibling=Me,Ne=Me);return Ae&&Xn(R,ye),le}for(se=f(se);!Me.done;ye++,Me=D.next())Me=j(se,R,ye,Me.value,V),Me!==null&&(i&&Me.alternate!==null&&se.delete(Me.key===null?ye:Me.key),M=g(Me,M,ye),Ne===null?le=Me:Ne.sibling=Me,Ne=Me);return i&&se.forEach(function(PA){return a(R,PA)}),Ae&&Xn(R,ye),le}function Ue(R,M,D,V){if(typeof D=="object"&&D!==null&&D.type===T&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case v:e:{for(var le=D.key;M!==null;){if(M.key===le){if(le=D.type,le===T){if(M.tag===7){o(R,M.sibling),V=p(M,D.props.children),V.return=R,R=V;break e}}else if(M.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===ee&&$i(le)===M.type){o(R,M.sibling),V=p(M,D.props),Qa(V,D),V.return=R,R=V;break e}o(R,M);break}else a(R,M);M=M.sibling}D.type===T?(V=Bi(D.props.children,R.mode,V,D.key),V.return=R,R=V):(V=Yo(D.type,D.key,D.props,null,R.mode,V),Qa(V,D),V.return=R,R=V)}return x(R);case S:e:{for(le=D.key;M!==null;){if(M.key===le)if(M.tag===4&&M.stateNode.containerInfo===D.containerInfo&&M.stateNode.implementation===D.implementation){o(R,M.sibling),V=p(M,D.children||[]),V.return=R,R=V;break e}else{o(R,M);break}else a(R,M);M=M.sibling}V=Cd(D,R.mode,V),V.return=R,R=V}return x(R);case ee:return D=$i(D),Ue(R,M,D,V)}if(Se(D))return re(R,M,D,V);if(Q(D)){if(le=Q(D),typeof le!="function")throw Error(r(150));return D=le.call(D),ue(R,M,D,V)}if(typeof D.then=="function")return Ue(R,M,tc(D),V);if(D.$$typeof===B)return Ue(R,M,Xo(R,D),V);nc(R,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,M!==null&&M.tag===6?(o(R,M.sibling),V=p(M,D),V.return=R,R=V):(o(R,M),V=Td(D,R.mode,V),V.return=R,R=V),x(R)):o(R,M)}return function(R,M,D,V){try{Xa=0;var le=Ue(R,M,D,V);return Us=null,le}catch(se){if(se===Bs||se===Zo)throw se;var Ne=Jt(29,se,null,R.mode);return Ne.lanes=V,Ne.return=R,Ne}finally{}}}var Fi=dy(!0),hy=dy(!1),Ir=!1;function jd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bd(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Lr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function zr(i,a,o){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Re&2)!==0){var p=f.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),f.pending=a,a=Go(i),J0(i,null,o),a}return Ko(i,f,a,o),Go(i)}function Za(i,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var f=a.lanes;f&=i.pendingLanes,o|=f,a.lanes=o,i0(i,o)}}function Ud(i,a){var o=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,o===f)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var x={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=x:g=g.next=x,o=o.next}while(o!==null);g===null?p=g=a:g=g.next=a}else p=g=a;o={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:f.shared,callbacks:f.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=a:i.next=a,o.lastBaseUpdate=a}var Pd=!1;function el(){if(Pd){var i=js;if(i!==null)throw i}}function tl(i,a,o,f){Pd=!1;var p=i.updateQueue;Ir=!1;var g=p.firstBaseUpdate,x=p.lastBaseUpdate,k=p.shared.pending;if(k!==null){p.shared.pending=null;var A=k,_=A.next;A.next=null,x===null?g=_:x.next=_,x=A;var U=i.alternate;U!==null&&(U=U.updateQueue,k=U.lastBaseUpdate,k!==x&&(k===null?U.firstBaseUpdate=_:k.next=_,U.lastBaseUpdate=A))}if(g!==null){var $=p.baseState;x=0,U=_=A=null,k=g;do{var L=k.lane&-536870913,j=L!==k.lane;if(j?(Ce&L)===L:(f&L)===L){L!==0&&L===zs&&(Pd=!0),U!==null&&(U=U.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var re=i,ue=k;L=a;var Ue=o;switch(ue.tag){case 1:if(re=ue.payload,typeof re=="function"){$=re.call(Ue,$,L);break e}$=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ue.payload,L=typeof re=="function"?re.call(Ue,$,L):re,L==null)break e;$=y({},$,L);break e;case 2:Ir=!0}}L=k.callback,L!==null&&(i.flags|=64,j&&(i.flags|=8192),j=p.callbacks,j===null?p.callbacks=[L]:j.push(L))}else j={lane:L,tag:k.tag,payload:k.payload,callback:k.callback,next:null},U===null?(_=U=j,A=$):U=U.next=j,x|=L;if(k=k.next,k===null){if(k=p.shared.pending,k===null)break;j=k,k=j.next,j.next=null,p.lastBaseUpdate=j,p.shared.pending=null}}while(!0);U===null&&(A=$),p.baseState=A,p.firstBaseUpdate=_,p.lastBaseUpdate=U,g===null&&(p.shared.lanes=0),Hr|=x,i.lanes=x,i.memoizedState=$}}function py(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function my(i,a){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)py(o[i],a)}var Ps=N(null),rc=N(0);function gy(i,a){i=or,X(rc,i),X(Ps,a),or=i|a.baseLanes}function Hd(){X(rc,or),X(Ps,Ps.current)}function Vd(){or=rc.current,H(Ps),H(rc)}var Xt=N(null),pn=null;function jr(i){var a=i.alternate;X(nt,nt.current&1),X(Xt,i),pn===null&&(a===null||Ps.current!==null||a.memoizedState!==null)&&(pn=i)}function $d(i){X(nt,nt.current),X(Xt,i),pn===null&&(pn=i)}function yy(i){i.tag===22?(X(nt,nt.current),X(Xt,i),pn===null&&(pn=i)):Br()}function Br(){X(nt,nt.current),X(Xt,Xt.current)}function Qt(i){H(Xt),pn===i&&(pn=null),H(nt)}var nt=N(0);function ic(i){for(var a=i;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Wh(o)||Jh(o)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var er=0,ge=null,je=null,at=null,sc=!1,Hs=!1,Ki=!1,ac=0,nl=0,Vs=null,Ow=0;function Xe(){throw Error(r(321))}function qd(i,a){if(a===null)return!1;for(var o=0;o<a.length&&o<i.length;o++)if(!Wt(i[o],a[o]))return!1;return!0}function Fd(i,a,o,f,p,g){return er=g,ge=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,z.H=i===null||i.memoizedState===null?eb:ah,Ki=!1,g=o(f,p),Ki=!1,Hs&&(g=vy(a,o,f,p)),by(i),g}function by(i){z.H=sl;var a=je!==null&&je.next!==null;if(er=0,at=je=ge=null,sc=!1,nl=0,Vs=null,a)throw Error(r(300));i===null||lt||(i=i.dependencies,i!==null&&Jo(i)&&(lt=!0))}function vy(i,a,o,f){ge=i;var p=0;do{if(Hs&&(Vs=null),nl=0,Hs=!1,25<=p)throw Error(r(301));if(p+=1,at=je=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}z.H=tb,g=a(o,f)}while(Hs);return g}function Rw(){var i=z.H,a=i.useState()[0];return a=typeof a.then=="function"?rl(a):a,i=i.useState()[0],(je!==null?je.memoizedState:null)!==i&&(ge.flags|=1024),a}function Kd(){var i=ac!==0;return ac=0,i}function Gd(i,a,o){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~o}function Yd(i){if(sc){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}sc=!1}er=0,at=je=ge=null,Hs=!1,nl=ac=0,Vs=null}function Dt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?ge.memoizedState=at=i:at=at.next=i,at}function rt(){if(je===null){var i=ge.alternate;i=i!==null?i.memoizedState:null}else i=je.next;var a=at===null?ge.memoizedState:at.next;if(a!==null)at=a,je=i;else{if(i===null)throw ge.alternate===null?Error(r(467)):Error(r(310));je=i,i={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},at===null?ge.memoizedState=at=i:at=at.next=i}return at}function lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rl(i){var a=nl;return nl+=1,Vs===null&&(Vs=[]),i=cy(Vs,i,a),a=ge,(at===null?a.memoizedState:at.next)===null&&(a=a.alternate,z.H=a===null||a.memoizedState===null?eb:ah),i}function oc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return rl(i);if(i.$$typeof===B)return St(i)}throw Error(r(438,String(i)))}function Wd(i){var a=null,o=ge.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var f=ge.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=lc(),ge.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(i),f=0;f<i;f++)o[f]=de;return a.index++,o}function tr(i,a){return typeof a=="function"?a(i):a}function cc(i){var a=rt();return Jd(a,je,i)}function Jd(i,a,o){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var p=i.baseQueue,g=f.pending;if(g!==null){if(p!==null){var x=p.next;p.next=g.next,g.next=x}a.baseQueue=p=g,f.pending=null}if(g=i.baseState,p===null)i.memoizedState=g;else{a=p.next;var k=x=null,A=null,_=a,U=!1;do{var $=_.lane&-536870913;if($!==_.lane?(Ce&$)===$:(er&$)===$){var L=_.revertLane;if(L===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),$===zs&&(U=!0);else if((er&L)===L){_=_.next,L===zs&&(U=!0);continue}else $={lane:0,revertLane:_.revertLane,gesture:null,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null},A===null?(k=A=$,x=g):A=A.next=$,ge.lanes|=L,Hr|=L;$=_.action,Ki&&o(g,$),g=_.hasEagerState?_.eagerState:o(g,$)}else L={lane:$,revertLane:_.revertLane,gesture:_.gesture,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null},A===null?(k=A=L,x=g):A=A.next=L,ge.lanes|=$,Hr|=$;_=_.next}while(_!==null&&_!==a);if(A===null?x=g:A.next=k,!Wt(g,i.memoizedState)&&(lt=!0,U&&(o=js,o!==null)))throw o;i.memoizedState=g,i.baseState=x,i.baseQueue=A,f.lastRenderedState=g}return p===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function Xd(i){var a=rt(),o=a.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var f=o.dispatch,p=o.pending,g=a.memoizedState;if(p!==null){o.pending=null;var x=p=p.next;do g=i(g,x.action),x=x.next;while(x!==p);Wt(g,a.memoizedState)||(lt=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),o.lastRenderedState=g}return[g,f]}function xy(i,a,o){var f=ge,p=rt(),g=Ae;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=a();var x=!Wt((je||p).memoizedState,o);if(x&&(p.memoizedState=o,lt=!0),p=p.queue,eh(ky.bind(null,f,p,i),[i]),p.getSnapshot!==a||x||at!==null&&at.memoizedState.tag&1){if(f.flags|=2048,$s(9,{destroy:void 0},Ey.bind(null,f,p,o,a),null),He===null)throw Error(r(349));g||(er&127)!==0||Sy(f,a,o)}return o}function Sy(i,a,o){i.flags|=16384,i={getSnapshot:a,value:o},a=ge.updateQueue,a===null?(a=lc(),ge.updateQueue=a,a.stores=[i]):(o=a.stores,o===null?a.stores=[i]:o.push(i))}function Ey(i,a,o,f){a.value=o,a.getSnapshot=f,Ty(a)&&Cy(i)}function ky(i,a,o){return o(function(){Ty(a)&&Cy(i)})}function Ty(i){var a=i.getSnapshot;i=i.value;try{var o=a();return!Wt(i,o)}catch{return!0}}function Cy(i){var a=ji(i,2);a!==null&&$t(a,i,2)}function Qd(i){var a=Dt();if(typeof i=="function"){var o=i;if(i=o(),Ki){Ar(!0);try{o()}finally{Ar(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:i},a}function wy(i,a,o,f){return i.baseState=o,Jd(i,je,typeof f=="function"?f:tr)}function Dw(i,a,o,f,p){if(dc(i))throw Error(r(485));if(i=a.action,i!==null){var g={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){g.listeners.push(x)}};z.T!==null?o(!0):g.isTransition=!1,f(g),o=a.pending,o===null?(g.next=a.pending=g,Ay(a,g)):(g.next=o.next,a.pending=o.next=g)}}function Ay(i,a){var o=a.action,f=a.payload,p=i.state;if(a.isTransition){var g=z.T,x={};z.T=x;try{var k=o(p,f),A=z.S;A!==null&&A(x,k),Ny(i,a,k)}catch(_){Zd(i,a,_)}finally{g!==null&&x.types!==null&&(g.types=x.types),z.T=g}}else try{g=o(p,f),Ny(i,a,g)}catch(_){Zd(i,a,_)}}function Ny(i,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(f){My(i,a,f)},function(f){return Zd(i,a,f)}):My(i,a,o)}function My(i,a,o){a.status="fulfilled",a.value=o,Oy(a),i.state=o,a=i.pending,a!==null&&(o=a.next,o===a?i.pending=null:(o=o.next,a.next=o,Ay(i,o)))}function Zd(i,a,o){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=o,Oy(a),a=a.next;while(a!==f)}i.action=null}function Oy(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function Ry(i,a){return a}function Dy(i,a){if(Ae){var o=He.formState;if(o!==null){e:{var f=ge;if(Ae){if(qe){t:{for(var p=qe,g=hn;p.nodeType!==8;){if(!g){p=null;break t}if(p=mn(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){qe=mn(p.nextSibling),f=p.data==="F!";break e}}Dr(f)}f=!1}f&&(a=o[0])}}return o=Dt(),o.memoizedState=o.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ry,lastRenderedState:a},o.queue=f,o=Xy.bind(null,ge,f),f.dispatch=o,f=Qd(!1),g=sh.bind(null,ge,!1,f.queue),f=Dt(),p={state:a,dispatch:null,action:i,pending:null},f.queue=p,o=Dw.bind(null,ge,p,g,o),p.dispatch=o,f.memoizedState=i,[a,o,!1]}function _y(i){var a=rt();return Iy(a,je,i)}function Iy(i,a,o){if(a=Jd(i,a,Ry)[0],i=cc(tr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=rl(a)}catch(x){throw x===Bs?Zo:x}else f=a;a=rt();var p=a.queue,g=p.dispatch;return o!==a.memoizedState&&(ge.flags|=2048,$s(9,{destroy:void 0},_w.bind(null,p,o),null)),[f,g,i]}function _w(i,a){i.action=a}function Ly(i){var a=rt(),o=je;if(o!==null)return Iy(a,o,i);rt(),a=a.memoizedState,o=rt();var f=o.queue.dispatch;return o.memoizedState=i,[a,f,!1]}function $s(i,a,o,f){return i={tag:i,create:o,deps:f,inst:a,next:null},a=ge.updateQueue,a===null&&(a=lc(),ge.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=i.next=i:(f=o.next,o.next=i,i.next=f,a.lastEffect=i),i}function zy(){return rt().memoizedState}function uc(i,a,o,f){var p=Dt();ge.flags|=i,p.memoizedState=$s(1|a,{destroy:void 0},o,f===void 0?null:f)}function fc(i,a,o,f){var p=rt();f=f===void 0?null:f;var g=p.memoizedState.inst;je!==null&&f!==null&&qd(f,je.memoizedState.deps)?p.memoizedState=$s(a,g,o,f):(ge.flags|=i,p.memoizedState=$s(1|a,g,o,f))}function jy(i,a){uc(8390656,8,i,a)}function eh(i,a){fc(2048,8,i,a)}function Iw(i){ge.flags|=4;var a=ge.updateQueue;if(a===null)a=lc(),ge.updateQueue=a,a.events=[i];else{var o=a.events;o===null?a.events=[i]:o.push(i)}}function By(i){var a=rt().memoizedState;return Iw({ref:a,nextImpl:i}),function(){if((Re&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function Uy(i,a){return fc(4,2,i,a)}function Py(i,a){return fc(4,4,i,a)}function Hy(i,a){if(typeof a=="function"){i=i();var o=a(i);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Vy(i,a,o){o=o!=null?o.concat([i]):null,fc(4,4,Hy.bind(null,a,i),o)}function th(){}function $y(i,a){var o=rt();a=a===void 0?null:a;var f=o.memoizedState;return a!==null&&qd(a,f[1])?f[0]:(o.memoizedState=[i,a],i)}function qy(i,a){var o=rt();a=a===void 0?null:a;var f=o.memoizedState;if(a!==null&&qd(a,f[1]))return f[0];if(f=i(),Ki){Ar(!0);try{i()}finally{Ar(!1)}}return o.memoizedState=[f,a],f}function nh(i,a,o){return o===void 0||(er&1073741824)!==0&&(Ce&261930)===0?i.memoizedState=a:(i.memoizedState=o,i=Fb(),ge.lanes|=i,Hr|=i,o)}function Fy(i,a,o,f){return Wt(o,a)?o:Ps.current!==null?(i=nh(i,o,f),Wt(i,a)||(lt=!0),i):(er&42)===0||(er&1073741824)!==0&&(Ce&261930)===0?(lt=!0,i.memoizedState=o):(i=Fb(),ge.lanes|=i,Hr|=i,a)}function Ky(i,a,o,f,p){var g=J.p;J.p=g!==0&&8>g?g:8;var x=z.T,k={};z.T=k,sh(i,!1,a,o);try{var A=p(),_=z.S;if(_!==null&&_(k,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var U=Mw(A,f);il(i,a,U,tn(i))}else il(i,a,f,tn(i))}catch($){il(i,a,{then:function(){},status:"rejected",reason:$},tn())}finally{J.p=g,x!==null&&k.types!==null&&(x.types=k.types),z.T=x}}function Lw(){}function rh(i,a,o,f){if(i.tag!==5)throw Error(r(476));var p=Gy(i).queue;Ky(i,p,a,ae,o===null?Lw:function(){return Yy(i),o(f)})}function Gy(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:ae},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:o},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function Yy(i){var a=Gy(i);a.next===null&&(a=i.alternate.memoizedState),il(i,a.next.queue,{},tn())}function ih(){return St(Sl)}function Wy(){return rt().memoizedState}function Jy(){return rt().memoizedState}function zw(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var o=tn();i=Lr(o);var f=zr(a,i,o);f!==null&&($t(f,a,o),Za(f,a,o)),a={cache:_d()},i.payload=a;return}a=a.return}}function jw(i,a,o){var f=tn();o={lane:f,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},dc(i)?Qy(a,o):(o=Ed(i,a,o,f),o!==null&&($t(o,i,f),Zy(o,a,f)))}function Xy(i,a,o){var f=tn();il(i,a,o,f)}function il(i,a,o,f){var p={lane:f,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(dc(i))Qy(a,p);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var x=a.lastRenderedState,k=g(x,o);if(p.hasEagerState=!0,p.eagerState=k,Wt(k,x))return Ko(i,a,p,0),He===null&&Fo(),!1}catch{}finally{}if(o=Ed(i,a,p,f),o!==null)return $t(o,i,f),Zy(o,a,f),!0}return!1}function sh(i,a,o,f){if(f={lane:2,revertLane:jh(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},dc(i)){if(a)throw Error(r(479))}else a=Ed(i,o,f,2),a!==null&&$t(a,i,2)}function dc(i){var a=i.alternate;return i===ge||a!==null&&a===ge}function Qy(i,a){Hs=sc=!0;var o=i.pending;o===null?a.next=a:(a.next=o.next,o.next=a),i.pending=a}function Zy(i,a,o){if((o&4194048)!==0){var f=a.lanes;f&=i.pendingLanes,o|=f,a.lanes=o,i0(i,o)}}var sl={readContext:St,use:oc,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe};sl.useEffectEvent=Xe;var eb={readContext:St,use:oc,useCallback:function(i,a){return Dt().memoizedState=[i,a===void 0?null:a],i},useContext:St,useEffect:jy,useImperativeHandle:function(i,a,o){o=o!=null?o.concat([i]):null,uc(4194308,4,Hy.bind(null,a,i),o)},useLayoutEffect:function(i,a){return uc(4194308,4,i,a)},useInsertionEffect:function(i,a){uc(4,2,i,a)},useMemo:function(i,a){var o=Dt();a=a===void 0?null:a;var f=i();if(Ki){Ar(!0);try{i()}finally{Ar(!1)}}return o.memoizedState=[f,a],f},useReducer:function(i,a,o){var f=Dt();if(o!==void 0){var p=o(a);if(Ki){Ar(!0);try{o(a)}finally{Ar(!1)}}}else p=a;return f.memoizedState=f.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},f.queue=i,i=i.dispatch=jw.bind(null,ge,i),[f.memoizedState,i]},useRef:function(i){var a=Dt();return i={current:i},a.memoizedState=i},useState:function(i){i=Qd(i);var a=i.queue,o=Xy.bind(null,ge,a);return a.dispatch=o,[i.memoizedState,o]},useDebugValue:th,useDeferredValue:function(i,a){var o=Dt();return nh(o,i,a)},useTransition:function(){var i=Qd(!1);return i=Ky.bind(null,ge,i.queue,!0,!1),Dt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,o){var f=ge,p=Dt();if(Ae){if(o===void 0)throw Error(r(407));o=o()}else{if(o=a(),He===null)throw Error(r(349));(Ce&127)!==0||Sy(f,a,o)}p.memoizedState=o;var g={value:o,getSnapshot:a};return p.queue=g,jy(ky.bind(null,f,g,i),[i]),f.flags|=2048,$s(9,{destroy:void 0},Ey.bind(null,f,g,o,a),null),o},useId:function(){var i=Dt(),a=He.identifierPrefix;if(Ae){var o=zn,f=Ln;o=(f&~(1<<32-Yt(f)-1)).toString(32)+o,a="_"+a+"R_"+o,o=ac++,0<o&&(a+="H"+o.toString(32)),a+="_"}else o=Ow++,a="_"+a+"r_"+o.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:ih,useFormState:Dy,useActionState:Dy,useOptimistic:function(i){var a=Dt();a.memoizedState=a.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=sh.bind(null,ge,!0,o),o.dispatch=a,[i,a]},useMemoCache:Wd,useCacheRefresh:function(){return Dt().memoizedState=zw.bind(null,ge)},useEffectEvent:function(i){var a=Dt(),o={impl:i};return a.memoizedState=o,function(){if((Re&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},ah={readContext:St,use:oc,useCallback:$y,useContext:St,useEffect:eh,useImperativeHandle:Vy,useInsertionEffect:Uy,useLayoutEffect:Py,useMemo:qy,useReducer:cc,useRef:zy,useState:function(){return cc(tr)},useDebugValue:th,useDeferredValue:function(i,a){var o=rt();return Fy(o,je.memoizedState,i,a)},useTransition:function(){var i=cc(tr)[0],a=rt().memoizedState;return[typeof i=="boolean"?i:rl(i),a]},useSyncExternalStore:xy,useId:Wy,useHostTransitionStatus:ih,useFormState:_y,useActionState:_y,useOptimistic:function(i,a){var o=rt();return wy(o,je,i,a)},useMemoCache:Wd,useCacheRefresh:Jy};ah.useEffectEvent=By;var tb={readContext:St,use:oc,useCallback:$y,useContext:St,useEffect:eh,useImperativeHandle:Vy,useInsertionEffect:Uy,useLayoutEffect:Py,useMemo:qy,useReducer:Xd,useRef:zy,useState:function(){return Xd(tr)},useDebugValue:th,useDeferredValue:function(i,a){var o=rt();return je===null?nh(o,i,a):Fy(o,je.memoizedState,i,a)},useTransition:function(){var i=Xd(tr)[0],a=rt().memoizedState;return[typeof i=="boolean"?i:rl(i),a]},useSyncExternalStore:xy,useId:Wy,useHostTransitionStatus:ih,useFormState:Ly,useActionState:Ly,useOptimistic:function(i,a){var o=rt();return je!==null?wy(o,je,i,a):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Wd,useCacheRefresh:Jy};tb.useEffectEvent=By;function lh(i,a,o,f){a=i.memoizedState,o=o(f,a),o=o==null?a:y({},a,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var oh={enqueueSetState:function(i,a,o){i=i._reactInternals;var f=tn(),p=Lr(f);p.payload=a,o!=null&&(p.callback=o),a=zr(i,p,f),a!==null&&($t(a,i,f),Za(a,i,f))},enqueueReplaceState:function(i,a,o){i=i._reactInternals;var f=tn(),p=Lr(f);p.tag=1,p.payload=a,o!=null&&(p.callback=o),a=zr(i,p,f),a!==null&&($t(a,i,f),Za(a,i,f))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var o=tn(),f=Lr(o);f.tag=2,a!=null&&(f.callback=a),a=zr(i,f,o),a!==null&&($t(a,i,o),Za(a,i,o))}};function nb(i,a,o,f,p,g,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,g,x):a.prototype&&a.prototype.isPureReactComponent?!Fa(o,f)||!Fa(p,g):!0}function rb(i,a,o,f){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,f),a.state!==i&&oh.enqueueReplaceState(a,a.state,null)}function Gi(i,a){var o=a;if("ref"in a){o={};for(var f in a)f!=="ref"&&(o[f]=a[f])}if(i=i.defaultProps){o===a&&(o=y({},o));for(var p in i)o[p]===void 0&&(o[p]=i[p])}return o}function ib(i){qo(i)}function sb(i){console.error(i)}function ab(i){qo(i)}function hc(i,a){try{var o=i.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function lb(i,a,o){try{var f=i.onCaughtError;f(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function ch(i,a,o){return o=Lr(o),o.tag=3,o.payload={element:null},o.callback=function(){hc(i,a)},o}function ob(i){return i=Lr(i),i.tag=3,i}function cb(i,a,o,f){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=f.value;i.payload=function(){return p(g)},i.callback=function(){lb(a,o,f)}}var x=o.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(i.callback=function(){lb(a,o,f),typeof p!="function"&&(Vr===null?Vr=new Set([this]):Vr.add(this));var k=f.stack;this.componentDidCatch(f.value,{componentStack:k!==null?k:""})})}function Bw(i,a,o,f,p){if(o.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=o.alternate,a!==null&&Ls(a,o,p,!0),o=Xt.current,o!==null){switch(o.tag){case 31:case 13:return pn===null?Cc():o.alternate===null&&Qe===0&&(Qe=3),o.flags&=-257,o.flags|=65536,o.lanes=p,f===ec?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([f]):a.add(f),Ih(i,f,p)),!1;case 22:return o.flags|=65536,f===ec?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([f]):o.add(f)),Ih(i,f,p)),!1}throw Error(r(435,o.tag))}return Ih(i,f,p),Cc(),!1}if(Ae)return a=Xt.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,f!==Nd&&(i=Error(r(422),{cause:f}),Ya(un(i,o)))):(f!==Nd&&(a=Error(r(423),{cause:f}),Ya(un(a,o))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,f=un(f,o),p=ch(i.stateNode,f,p),Ud(i,p),Qe!==4&&(Qe=2)),!1;var g=Error(r(520),{cause:f});if(g=un(g,o),hl===null?hl=[g]:hl.push(g),Qe!==4&&(Qe=2),a===null)return!0;f=un(f,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,i=p&-p,o.lanes|=i,i=ch(o.stateNode,f,i),Ud(o,i),!1;case 1:if(a=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Vr===null||!Vr.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=ob(p),cb(p,i,o,f),Ud(o,p),!1}o=o.return}while(o!==null);return!1}var uh=Error(r(461)),lt=!1;function Et(i,a,o,f){a.child=i===null?hy(a,null,o,f):Fi(a,i.child,o,f)}function ub(i,a,o,f,p){o=o.render;var g=a.ref;if("ref"in f){var x={};for(var k in f)k!=="ref"&&(x[k]=f[k])}else x=f;return Hi(a),f=Fd(i,a,o,x,g,p),k=Kd(),i!==null&&!lt?(Gd(i,a,p),nr(i,a,p)):(Ae&&k&&wd(a),a.flags|=1,Et(i,a,f,p),a.child)}function fb(i,a,o,f,p){if(i===null){var g=o.type;return typeof g=="function"&&!kd(g)&&g.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=g,db(i,a,g,f,p)):(i=Yo(o.type,null,f,a,a.mode,p),i.ref=a.ref,i.return=a,a.child=i)}if(g=i.child,!bh(i,p)){var x=g.memoizedProps;if(o=o.compare,o=o!==null?o:Fa,o(x,f)&&i.ref===a.ref)return nr(i,a,p)}return a.flags|=1,i=Jn(g,f),i.ref=a.ref,i.return=a,a.child=i}function db(i,a,o,f,p){if(i!==null){var g=i.memoizedProps;if(Fa(g,f)&&i.ref===a.ref)if(lt=!1,a.pendingProps=f=g,bh(i,p))(i.flags&131072)!==0&&(lt=!0);else return a.lanes=i.lanes,nr(i,a,p)}return fh(i,a,o,f,p)}function hb(i,a,o,f){var p=f.children,g=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((a.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(f=a.child=i.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;f=p&~g}else f=0,a.child=null;return pb(i,a,g,o,f)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Qo(a,g!==null?g.cachePool:null),g!==null?gy(a,g):Hd(),yy(a);else return f=a.lanes=536870912,pb(i,a,g!==null?g.baseLanes|o:o,o,f)}else g!==null?(Qo(a,g.cachePool),gy(a,g),Br(),a.memoizedState=null):(i!==null&&Qo(a,null),Hd(),Br());return Et(i,a,p,o),a.child}function al(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function pb(i,a,o,f,p){var g=Ld();return g=g===null?null:{parent:st._currentValue,pool:g},a.memoizedState={baseLanes:o,cachePool:g},i!==null&&Qo(a,null),Hd(),yy(a),i!==null&&Ls(i,a,f,!0),a.childLanes=p,null}function pc(i,a){return a=gc({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function mb(i,a,o){return Fi(a,i.child,null,o),i=pc(a,a.pendingProps),i.flags|=2,Qt(a),a.memoizedState=null,i}function Uw(i,a,o){var f=a.pendingProps,p=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(Ae){if(f.mode==="hidden")return i=pc(a,f),a.lanes=536870912,al(null,i);if($d(a),(i=qe)?(i=Av(i,hn),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Or!==null?{id:Ln,overflow:zn}:null,retryLane:536870912,hydrationErrors:null},o=Q0(i),o.return=a,a.child=o,xt=a,qe=null)):i=null,i===null)throw Dr(a);return a.lanes=536870912,null}return pc(a,f)}var g=i.memoizedState;if(g!==null){var x=g.dehydrated;if($d(a),p)if(a.flags&256)a.flags&=-257,a=mb(i,a,o);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(r(558));else if(lt||Ls(i,a,o,!1),p=(o&i.childLanes)!==0,lt||p){if(f=He,f!==null&&(x=s0(f,o),x!==0&&x!==g.retryLane))throw g.retryLane=x,ji(i,x),$t(f,i,x),uh;Cc(),a=mb(i,a,o)}else i=g.treeContext,qe=mn(x.nextSibling),xt=a,Ae=!0,Rr=null,hn=!1,i!==null&&ty(a,i),a=pc(a,f),a.flags|=4096;return a}return i=Jn(i.child,{mode:f.mode,children:f.children}),i.ref=a.ref,a.child=i,i.return=a,i}function mc(i,a){var o=a.ref;if(o===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(a.flags|=4194816)}}function fh(i,a,o,f,p){return Hi(a),o=Fd(i,a,o,f,void 0,p),f=Kd(),i!==null&&!lt?(Gd(i,a,p),nr(i,a,p)):(Ae&&f&&wd(a),a.flags|=1,Et(i,a,o,p),a.child)}function gb(i,a,o,f,p,g){return Hi(a),a.updateQueue=null,o=vy(a,f,o,p),by(i),f=Kd(),i!==null&&!lt?(Gd(i,a,g),nr(i,a,g)):(Ae&&f&&wd(a),a.flags|=1,Et(i,a,o,g),a.child)}function yb(i,a,o,f,p){if(Hi(a),a.stateNode===null){var g=Rs,x=o.contextType;typeof x=="object"&&x!==null&&(g=St(x)),g=new o(f,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=oh,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=f,g.state=a.memoizedState,g.refs={},jd(a),x=o.contextType,g.context=typeof x=="object"&&x!==null?St(x):Rs,g.state=a.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(lh(a,o,x,f),g.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(x=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),x!==g.state&&oh.enqueueReplaceState(g,g.state,null),tl(a,f,g,p),el(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(i===null){g=a.stateNode;var k=a.memoizedProps,A=Gi(o,k);g.props=A;var _=g.context,U=o.contextType;x=Rs,typeof U=="object"&&U!==null&&(x=St(U));var $=o.getDerivedStateFromProps;U=typeof $=="function"||typeof g.getSnapshotBeforeUpdate=="function",k=a.pendingProps!==k,U||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(k||_!==x)&&rb(a,g,f,x),Ir=!1;var L=a.memoizedState;g.state=L,tl(a,f,g,p),el(),_=a.memoizedState,k||L!==_||Ir?(typeof $=="function"&&(lh(a,o,$,f),_=a.memoizedState),(A=Ir||nb(a,o,A,f,L,_,x))?(U||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=_),g.props=f,g.state=_,g.context=x,f=A):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{g=a.stateNode,Bd(i,a),x=a.memoizedProps,U=Gi(o,x),g.props=U,$=a.pendingProps,L=g.context,_=o.contextType,A=Rs,typeof _=="object"&&_!==null&&(A=St(_)),k=o.getDerivedStateFromProps,(_=typeof k=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==$||L!==A)&&rb(a,g,f,A),Ir=!1,L=a.memoizedState,g.state=L,tl(a,f,g,p),el();var j=a.memoizedState;x!==$||L!==j||Ir||i!==null&&i.dependencies!==null&&Jo(i.dependencies)?(typeof k=="function"&&(lh(a,o,k,f),j=a.memoizedState),(U=Ir||nb(a,o,U,f,L,j,A)||i!==null&&i.dependencies!==null&&Jo(i.dependencies))?(_||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(f,j,A),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(f,j,A)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===i.memoizedProps&&L===i.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&L===i.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=j),g.props=f,g.state=j,g.context=A,f=U):(typeof g.componentDidUpdate!="function"||x===i.memoizedProps&&L===i.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&L===i.memoizedState||(a.flags|=1024),f=!1)}return g=f,mc(i,a),f=(a.flags&128)!==0,g||f?(g=a.stateNode,o=f&&typeof o.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,i!==null&&f?(a.child=Fi(a,i.child,null,p),a.child=Fi(a,null,o,p)):Et(i,a,o,p),a.memoizedState=g.state,i=a.child):i=nr(i,a,p),i}function bb(i,a,o,f){return Ui(),a.flags|=256,Et(i,a,o,f),a.child}var dh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hh(i){return{baseLanes:i,cachePool:ly()}}function ph(i,a,o){return i=i!==null?i.childLanes&~o:0,a&&(i|=en),i}function vb(i,a,o){var f=a.pendingProps,p=!1,g=(a.flags&128)!==0,x;if((x=g)||(x=i!==null&&i.memoizedState===null?!1:(nt.current&2)!==0),x&&(p=!0,a.flags&=-129),x=(a.flags&32)!==0,a.flags&=-33,i===null){if(Ae){if(p?jr(a):Br(),(i=qe)?(i=Av(i,hn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Or!==null?{id:Ln,overflow:zn}:null,retryLane:536870912,hydrationErrors:null},o=Q0(i),o.return=a,a.child=o,xt=a,qe=null)):i=null,i===null)throw Dr(a);return Jh(i)?a.lanes=32:a.lanes=536870912,null}var k=f.children;return f=f.fallback,p?(Br(),p=a.mode,k=gc({mode:"hidden",children:k},p),f=Bi(f,p,o,null),k.return=a,f.return=a,k.sibling=f,a.child=k,f=a.child,f.memoizedState=hh(o),f.childLanes=ph(i,x,o),a.memoizedState=dh,al(null,f)):(jr(a),mh(a,k))}var A=i.memoizedState;if(A!==null&&(k=A.dehydrated,k!==null)){if(g)a.flags&256?(jr(a),a.flags&=-257,a=gh(i,a,o)):a.memoizedState!==null?(Br(),a.child=i.child,a.flags|=128,a=null):(Br(),k=f.fallback,p=a.mode,f=gc({mode:"visible",children:f.children},p),k=Bi(k,p,o,null),k.flags|=2,f.return=a,k.return=a,f.sibling=k,a.child=f,Fi(a,i.child,null,o),f=a.child,f.memoizedState=hh(o),f.childLanes=ph(i,x,o),a.memoizedState=dh,a=al(null,f));else if(jr(a),Jh(k)){if(x=k.nextSibling&&k.nextSibling.dataset,x)var _=x.dgst;x=_,f=Error(r(419)),f.stack="",f.digest=x,Ya({value:f,source:null,stack:null}),a=gh(i,a,o)}else if(lt||Ls(i,a,o,!1),x=(o&i.childLanes)!==0,lt||x){if(x=He,x!==null&&(f=s0(x,o),f!==0&&f!==A.retryLane))throw A.retryLane=f,ji(i,f),$t(x,i,f),uh;Wh(k)||Cc(),a=gh(i,a,o)}else Wh(k)?(a.flags|=192,a.child=i.child,a=null):(i=A.treeContext,qe=mn(k.nextSibling),xt=a,Ae=!0,Rr=null,hn=!1,i!==null&&ty(a,i),a=mh(a,f.children),a.flags|=4096);return a}return p?(Br(),k=f.fallback,p=a.mode,A=i.child,_=A.sibling,f=Jn(A,{mode:"hidden",children:f.children}),f.subtreeFlags=A.subtreeFlags&65011712,_!==null?k=Jn(_,k):(k=Bi(k,p,o,null),k.flags|=2),k.return=a,f.return=a,f.sibling=k,a.child=f,al(null,f),f=a.child,k=i.child.memoizedState,k===null?k=hh(o):(p=k.cachePool,p!==null?(A=st._currentValue,p=p.parent!==A?{parent:A,pool:A}:p):p=ly(),k={baseLanes:k.baseLanes|o,cachePool:p}),f.memoizedState=k,f.childLanes=ph(i,x,o),a.memoizedState=dh,al(i.child,f)):(jr(a),o=i.child,i=o.sibling,o=Jn(o,{mode:"visible",children:f.children}),o.return=a,o.sibling=null,i!==null&&(x=a.deletions,x===null?(a.deletions=[i],a.flags|=16):x.push(i)),a.child=o,a.memoizedState=null,o)}function mh(i,a){return a=gc({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function gc(i,a){return i=Jt(22,i,null,a),i.lanes=0,i}function gh(i,a,o){return Fi(a,i.child,null,o),i=mh(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function xb(i,a,o){i.lanes|=a;var f=i.alternate;f!==null&&(f.lanes|=a),Rd(i.return,a,o)}function yh(i,a,o,f,p,g){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:o,tailMode:p,treeForkCount:g}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=o,x.tailMode=p,x.treeForkCount=g)}function Sb(i,a,o){var f=a.pendingProps,p=f.revealOrder,g=f.tail;f=f.children;var x=nt.current,k=(x&2)!==0;if(k?(x=x&1|2,a.flags|=128):x&=1,X(nt,x),Et(i,a,f,o),f=Ae?Ga:0,!k&&i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&xb(i,o,a);else if(i.tag===19)xb(i,o,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(o=a.child,p=null;o!==null;)i=o.alternate,i!==null&&ic(i)===null&&(p=o),o=o.sibling;o=p,o===null?(p=a.child,a.child=null):(p=o.sibling,o.sibling=null),yh(a,!1,p,o,g,f);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=a.child,a.child=null;p!==null;){if(i=p.alternate,i!==null&&ic(i)===null){a.child=p;break}i=p.sibling,p.sibling=o,o=p,p=i}yh(a,!0,o,null,g,f);break;case"together":yh(a,!1,null,null,void 0,f);break;default:a.memoizedState=null}return a.child}function nr(i,a,o){if(i!==null&&(a.dependencies=i.dependencies),Hr|=a.lanes,(o&a.childLanes)===0)if(i!==null){if(Ls(i,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,o=Jn(i,i.pendingProps),a.child=o,o.return=a;i.sibling!==null;)i=i.sibling,o=o.sibling=Jn(i,i.pendingProps),o.return=a;o.sibling=null}return a.child}function bh(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Jo(i)))}function Pw(i,a,o){switch(a.tag){case 3:Rt(a,a.stateNode.containerInfo),_r(a,st,i.memoizedState.cache),Ui();break;case 27:case 5:Da(a);break;case 4:Rt(a,a.stateNode.containerInfo);break;case 10:_r(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,$d(a),null;break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(jr(a),a.flags|=128,null):(o&a.child.childLanes)!==0?vb(i,a,o):(jr(a),i=nr(i,a,o),i!==null?i.sibling:null);jr(a);break;case 19:var p=(i.flags&128)!==0;if(f=(o&a.childLanes)!==0,f||(Ls(i,a,o,!1),f=(o&a.childLanes)!==0),p){if(f)return Sb(i,a,o);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),X(nt,nt.current),f)break;return null;case 22:return a.lanes=0,hb(i,a,o,a.pendingProps);case 24:_r(a,st,i.memoizedState.cache)}return nr(i,a,o)}function Eb(i,a,o){if(i!==null)if(i.memoizedProps!==a.pendingProps)lt=!0;else{if(!bh(i,o)&&(a.flags&128)===0)return lt=!1,Pw(i,a,o);lt=(i.flags&131072)!==0}else lt=!1,Ae&&(a.flags&1048576)!==0&&ey(a,Ga,a.index);switch(a.lanes=0,a.tag){case 16:e:{var f=a.pendingProps;if(i=$i(a.elementType),a.type=i,typeof i=="function")kd(i)?(f=Gi(i,f),a.tag=1,a=yb(null,a,i,f,o)):(a.tag=0,a=fh(null,a,i,f,o));else{if(i!=null){var p=i.$$typeof;if(p===F){a.tag=11,a=ub(null,a,i,f,o);break e}else if(p===P){a.tag=14,a=fb(null,a,i,f,o);break e}}throw a=_e(i)||i,Error(r(306,a,""))}}return a;case 0:return fh(i,a,a.type,a.pendingProps,o);case 1:return f=a.type,p=Gi(f,a.pendingProps),yb(i,a,f,p,o);case 3:e:{if(Rt(a,a.stateNode.containerInfo),i===null)throw Error(r(387));f=a.pendingProps;var g=a.memoizedState;p=g.element,Bd(i,a),tl(a,f,null,o);var x=a.memoizedState;if(f=x.cache,_r(a,st,f),f!==g.cache&&Dd(a,[st],o,!0),el(),f=x.element,g.isDehydrated)if(g={element:f,isDehydrated:!1,cache:x.cache},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){a=bb(i,a,f,o);break e}else if(f!==p){p=un(Error(r(424)),a),Ya(p),a=bb(i,a,f,o);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(qe=mn(i.firstChild),xt=a,Ae=!0,Rr=null,hn=!0,o=hy(a,null,f,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ui(),f===p){a=nr(i,a,o);break e}Et(i,a,f,o)}a=a.child}return a;case 26:return mc(i,a),i===null?(o=_v(a.type,null,a.pendingProps,null))?a.memoizedState=o:Ae||(o=a.type,i=a.pendingProps,f=Dc(Ee.current).createElement(o),f[vt]=a,f[jt]=i,kt(f,o,i),ht(f),a.stateNode=f):a.memoizedState=_v(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Da(a),i===null&&Ae&&(f=a.stateNode=Ov(a.type,a.pendingProps,Ee.current),xt=a,hn=!0,p=qe,Kr(a.type)?(Xh=p,qe=mn(f.firstChild)):qe=p),Et(i,a,a.pendingProps.children,o),mc(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Ae&&((p=f=qe)&&(f=gA(f,a.type,a.pendingProps,hn),f!==null?(a.stateNode=f,xt=a,qe=mn(f.firstChild),hn=!1,p=!0):p=!1),p||Dr(a)),Da(a),p=a.type,g=a.pendingProps,x=i!==null?i.memoizedProps:null,f=g.children,Kh(p,g)?f=null:x!==null&&Kh(p,x)&&(a.flags|=32),a.memoizedState!==null&&(p=Fd(i,a,Rw,null,null,o),Sl._currentValue=p),mc(i,a),Et(i,a,f,o),a.child;case 6:return i===null&&Ae&&((i=o=qe)&&(o=yA(o,a.pendingProps,hn),o!==null?(a.stateNode=o,xt=a,qe=null,i=!0):i=!1),i||Dr(a)),null;case 13:return vb(i,a,o);case 4:return Rt(a,a.stateNode.containerInfo),f=a.pendingProps,i===null?a.child=Fi(a,null,f,o):Et(i,a,f,o),a.child;case 11:return ub(i,a,a.type,a.pendingProps,o);case 7:return Et(i,a,a.pendingProps,o),a.child;case 8:return Et(i,a,a.pendingProps.children,o),a.child;case 12:return Et(i,a,a.pendingProps.children,o),a.child;case 10:return f=a.pendingProps,_r(a,a.type,f.value),Et(i,a,f.children,o),a.child;case 9:return p=a.type._context,f=a.pendingProps.children,Hi(a),p=St(p),f=f(p),a.flags|=1,Et(i,a,f,o),a.child;case 14:return fb(i,a,a.type,a.pendingProps,o);case 15:return db(i,a,a.type,a.pendingProps,o);case 19:return Sb(i,a,o);case 31:return Uw(i,a,o);case 22:return hb(i,a,o,a.pendingProps);case 24:return Hi(a),f=St(st),i===null?(p=Ld(),p===null&&(p=He,g=_d(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),a.memoizedState={parent:f,cache:p},jd(a),_r(a,st,p)):((i.lanes&o)!==0&&(Bd(i,a),tl(a,null,null,o),el()),p=i.memoizedState,g=a.memoizedState,p.parent!==f?(p={parent:f,cache:f},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),_r(a,st,f)):(f=g.cache,_r(a,st,f),f!==p.cache&&Dd(a,[st],o,!0))),Et(i,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function rr(i){i.flags|=4}function vh(i,a,o,f,p){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(Wb())i.flags|=8192;else throw qi=ec,zd}else i.flags&=-16777217}function kb(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Bv(a))if(Wb())i.flags|=8192;else throw qi=ec,zd}function yc(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?n0():536870912,i.lanes|=a,Gs|=a)}function ll(i,a){if(!Ae)switch(i.tailMode){case"hidden":a=i.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var f=null;o!==null;)o.alternate!==null&&(f=o),o=o.sibling;f===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Fe(i){var a=i.alternate!==null&&i.alternate.child===i.child,o=0,f=0;if(a)for(var p=i.child;p!==null;)o|=p.lanes|p.childLanes,f|=p.subtreeFlags&65011712,f|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)o|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=f,i.childLanes=o,a}function Hw(i,a,o){var f=a.pendingProps;switch(Ad(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(a),null;case 1:return Fe(a),null;case 3:return o=a.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),Zn(st),tt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Is(a)?rr(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Md())),Fe(a),null;case 26:var p=a.type,g=a.memoizedState;return i===null?(rr(a),g!==null?(Fe(a),kb(a,g)):(Fe(a),vh(a,p,null,f,o))):g?g!==i.memoizedState?(rr(a),Fe(a),kb(a,g)):(Fe(a),a.flags&=-16777217):(i=i.memoizedProps,i!==f&&rr(a),Fe(a),vh(a,p,i,f,o)),null;case 27:if(No(a),o=Ee.current,p=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==f&&rr(a);else{if(!f){if(a.stateNode===null)throw Error(r(166));return Fe(a),null}i=ie.current,Is(a)?ny(a):(i=Ov(p,f,o),a.stateNode=i,rr(a))}return Fe(a),null;case 5:if(No(a),p=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==f&&rr(a);else{if(!f){if(a.stateNode===null)throw Error(r(166));return Fe(a),null}if(g=ie.current,Is(a))ny(a);else{var x=Dc(Ee.current);switch(g){case 1:g=x.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=x.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=x.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=x.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=x.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof f.is=="string"?x.createElement("select",{is:f.is}):x.createElement("select"),f.multiple?g.multiple=!0:f.size&&(g.size=f.size);break;default:g=typeof f.is=="string"?x.createElement(p,{is:f.is}):x.createElement(p)}}g[vt]=a,g[jt]=f;e:for(x=a.child;x!==null;){if(x.tag===5||x.tag===6)g.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===a)break e;for(;x.sibling===null;){if(x.return===null||x.return===a)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}a.stateNode=g;e:switch(kt(g,p,f),p){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&rr(a)}}return Fe(a),vh(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,o),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==f&&rr(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(r(166));if(i=Ee.current,Is(a)){if(i=a.stateNode,o=a.memoizedProps,f=null,p=xt,p!==null)switch(p.tag){case 27:case 5:f=p.memoizedProps}i[vt]=a,i=!!(i.nodeValue===o||f!==null&&f.suppressHydrationWarning===!0||vv(i.nodeValue,o)),i||Dr(a,!0)}else i=Dc(i).createTextNode(f),i[vt]=a,a.stateNode=i}return Fe(a),null;case 31:if(o=a.memoizedState,i===null||i.memoizedState!==null){if(f=Is(a),o!==null){if(i===null){if(!f)throw Error(r(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[vt]=a}else Ui(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Fe(a),i=!1}else o=Md(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return a.flags&256?(Qt(a),a):(Qt(a),null);if((a.flags&128)!==0)throw Error(r(558))}return Fe(a),null;case 13:if(f=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Is(a),f!==null&&f.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[vt]=a}else Ui(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Fe(a),p=!1}else p=Md(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(Qt(a),a):(Qt(a),null)}return Qt(a),(a.flags&128)!==0?(a.lanes=o,a):(o=f!==null,i=i!==null&&i.memoizedState!==null,o&&(f=a.child,p=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(p=f.alternate.memoizedState.cachePool.pool),g=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(g=f.memoizedState.cachePool.pool),g!==p&&(f.flags|=2048)),o!==i&&o&&(a.child.flags|=8192),yc(a,a.updateQueue),Fe(a),null);case 4:return tt(),i===null&&Hh(a.stateNode.containerInfo),Fe(a),null;case 10:return Zn(a.type),Fe(a),null;case 19:if(H(nt),f=a.memoizedState,f===null)return Fe(a),null;if(p=(a.flags&128)!==0,g=f.rendering,g===null)if(p)ll(f,!1);else{if(Qe!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(g=ic(i),g!==null){for(a.flags|=128,ll(f,!1),i=g.updateQueue,a.updateQueue=i,yc(a,i),a.subtreeFlags=0,i=o,o=a.child;o!==null;)X0(o,i),o=o.sibling;return X(nt,nt.current&1|2),Ae&&Xn(a,f.treeForkCount),a.child}i=i.sibling}f.tail!==null&&Kt()>Ec&&(a.flags|=128,p=!0,ll(f,!1),a.lanes=4194304)}else{if(!p)if(i=ic(g),i!==null){if(a.flags|=128,p=!0,i=i.updateQueue,a.updateQueue=i,yc(a,i),ll(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Ae)return Fe(a),null}else 2*Kt()-f.renderingStartTime>Ec&&o!==536870912&&(a.flags|=128,p=!0,ll(f,!1),a.lanes=4194304);f.isBackwards?(g.sibling=a.child,a.child=g):(i=f.last,i!==null?i.sibling=g:a.child=g,f.last=g)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Kt(),i.sibling=null,o=nt.current,X(nt,p?o&1|2:o&1),Ae&&Xn(a,f.treeForkCount),i):(Fe(a),null);case 22:case 23:return Qt(a),Vd(),f=a.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(o&536870912)!==0&&(a.flags&128)===0&&(Fe(a),a.subtreeFlags&6&&(a.flags|=8192)):Fe(a),o=a.updateQueue,o!==null&&yc(a,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==o&&(a.flags|=2048),i!==null&&H(Vi),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Zn(st),Fe(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function Vw(i,a){switch(Ad(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Zn(st),tt(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return No(a),null;case 31:if(a.memoizedState!==null){if(Qt(a),a.alternate===null)throw Error(r(340));Ui()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(Qt(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Ui()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return H(nt),null;case 4:return tt(),null;case 10:return Zn(a.type),null;case 22:case 23:return Qt(a),Vd(),i!==null&&H(Vi),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Zn(st),null;case 25:return null;default:return null}}function Tb(i,a){switch(Ad(a),a.tag){case 3:Zn(st),tt();break;case 26:case 27:case 5:No(a);break;case 4:tt();break;case 31:a.memoizedState!==null&&Qt(a);break;case 13:Qt(a);break;case 19:H(nt);break;case 10:Zn(a.type);break;case 22:case 23:Qt(a),Vd(),i!==null&&H(Vi);break;case 24:Zn(st)}}function ol(i,a){try{var o=a.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var p=f.next;o=p;do{if((o.tag&i)===i){f=void 0;var g=o.create,x=o.inst;f=g(),x.destroy=f}o=o.next}while(o!==p)}}catch(k){Le(a,a.return,k)}}function Ur(i,a,o){try{var f=a.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var g=p.next;f=g;do{if((f.tag&i)===i){var x=f.inst,k=x.destroy;if(k!==void 0){x.destroy=void 0,p=a;var A=o,_=k;try{_()}catch(U){Le(p,A,U)}}}f=f.next}while(f!==g)}}catch(U){Le(a,a.return,U)}}function Cb(i){var a=i.updateQueue;if(a!==null){var o=i.stateNode;try{my(a,o)}catch(f){Le(i,i.return,f)}}}function wb(i,a,o){o.props=Gi(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(f){Le(i,a,f)}}function cl(i,a){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof o=="function"?i.refCleanup=o(f):o.current=f}}catch(p){Le(i,a,p)}}function jn(i,a){var o=i.ref,f=i.refCleanup;if(o!==null)if(typeof f=="function")try{f()}catch(p){Le(i,a,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Le(i,a,p)}else o.current=null}function Ab(i){var a=i.type,o=i.memoizedProps,f=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&f.focus();break e;case"img":o.src?f.src=o.src:o.srcSet&&(f.srcset=o.srcSet)}}catch(p){Le(i,i.return,p)}}function xh(i,a,o){try{var f=i.stateNode;uA(f,i.type,o,a),f[jt]=a}catch(p){Le(i,i.return,p)}}function Nb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Kr(i.type)||i.tag===4}function Sh(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Nb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Kr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Eh(i,a,o){var f=i.tag;if(f===5||f===6)i=i.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(i),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=Yn));else if(f!==4&&(f===27&&Kr(i.type)&&(o=i.stateNode,a=null),i=i.child,i!==null))for(Eh(i,a,o),i=i.sibling;i!==null;)Eh(i,a,o),i=i.sibling}function bc(i,a,o){var f=i.tag;if(f===5||f===6)i=i.stateNode,a?o.insertBefore(i,a):o.appendChild(i);else if(f!==4&&(f===27&&Kr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(bc(i,a,o),i=i.sibling;i!==null;)bc(i,a,o),i=i.sibling}function Mb(i){var a=i.stateNode,o=i.memoizedProps;try{for(var f=i.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);kt(a,f,o),a[vt]=i,a[jt]=o}catch(g){Le(i,i.return,g)}}var ir=!1,ot=!1,kh=!1,Ob=typeof WeakSet=="function"?WeakSet:Set,pt=null;function $w(i,a){if(i=i.containerInfo,qh=Uc,i=V0(i),gd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var f=o.getSelection&&o.getSelection();if(f&&f.rangeCount!==0){o=f.anchorNode;var p=f.anchorOffset,g=f.focusNode;f=f.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var x=0,k=-1,A=-1,_=0,U=0,$=i,L=null;t:for(;;){for(var j;$!==o||p!==0&&$.nodeType!==3||(k=x+p),$!==g||f!==0&&$.nodeType!==3||(A=x+f),$.nodeType===3&&(x+=$.nodeValue.length),(j=$.firstChild)!==null;)L=$,$=j;for(;;){if($===i)break t;if(L===o&&++_===p&&(k=x),L===g&&++U===f&&(A=x),(j=$.nextSibling)!==null)break;$=L,L=$.parentNode}$=j}o=k===-1||A===-1?null:{start:k,end:A}}else o=null}o=o||{start:0,end:0}}else o=null;for(Fh={focusedElem:i,selectionRange:o},Uc=!1,pt=a;pt!==null;)if(a=pt,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,pt=i;else for(;pt!==null;){switch(a=pt,g=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)p=i[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=a,p=g.memoizedProps,g=g.memoizedState,f=o.stateNode;try{var re=Gi(o.type,p);i=f.getSnapshotBeforeUpdate(re,g),f.__reactInternalSnapshotBeforeUpdate=i}catch(ue){Le(o,o.return,ue)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,o=i.nodeType,o===9)Yh(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Yh(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,pt=i;break}pt=a.return}}function Rb(i,a,o){var f=o.flags;switch(o.tag){case 0:case 11:case 15:ar(i,o),f&4&&ol(5,o);break;case 1:if(ar(i,o),f&4)if(i=o.stateNode,a===null)try{i.componentDidMount()}catch(x){Le(o,o.return,x)}else{var p=Gi(o.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(p,a,i.__reactInternalSnapshotBeforeUpdate)}catch(x){Le(o,o.return,x)}}f&64&&Cb(o),f&512&&cl(o,o.return);break;case 3:if(ar(i,o),f&64&&(i=o.updateQueue,i!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{my(i,a)}catch(x){Le(o,o.return,x)}}break;case 27:a===null&&f&4&&Mb(o);case 26:case 5:ar(i,o),a===null&&f&4&&Ab(o),f&512&&cl(o,o.return);break;case 12:ar(i,o);break;case 31:ar(i,o),f&4&&Ib(i,o);break;case 13:ar(i,o),f&4&&Lb(i,o),f&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=Qw.bind(null,o),bA(i,o))));break;case 22:if(f=o.memoizedState!==null||ir,!f){a=a!==null&&a.memoizedState!==null||ot,p=ir;var g=ot;ir=f,(ot=a)&&!g?lr(i,o,(o.subtreeFlags&8772)!==0):ar(i,o),ir=p,ot=g}break;case 30:break;default:ar(i,o)}}function Db(i){var a=i.alternate;a!==null&&(i.alternate=null,Db(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Zf(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ge=null,Ut=!1;function sr(i,a,o){for(o=o.child;o!==null;)_b(i,a,o),o=o.sibling}function _b(i,a,o){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(_a,o)}catch{}switch(o.tag){case 26:ot||jn(o,a),sr(i,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ot||jn(o,a);var f=Ge,p=Ut;Kr(o.type)&&(Ge=o.stateNode,Ut=!1),sr(i,a,o),bl(o.stateNode),Ge=f,Ut=p;break;case 5:ot||jn(o,a);case 6:if(f=Ge,p=Ut,Ge=null,sr(i,a,o),Ge=f,Ut=p,Ge!==null)if(Ut)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(o.stateNode)}catch(g){Le(o,a,g)}else try{Ge.removeChild(o.stateNode)}catch(g){Le(o,a,g)}break;case 18:Ge!==null&&(Ut?(i=Ge,Cv(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),ta(i)):Cv(Ge,o.stateNode));break;case 4:f=Ge,p=Ut,Ge=o.stateNode.containerInfo,Ut=!0,sr(i,a,o),Ge=f,Ut=p;break;case 0:case 11:case 14:case 15:Ur(2,o,a),ot||Ur(4,o,a),sr(i,a,o);break;case 1:ot||(jn(o,a),f=o.stateNode,typeof f.componentWillUnmount=="function"&&wb(o,a,f)),sr(i,a,o);break;case 21:sr(i,a,o);break;case 22:ot=(f=ot)||o.memoizedState!==null,sr(i,a,o),ot=f;break;default:sr(i,a,o)}}function Ib(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{ta(i)}catch(o){Le(a,a.return,o)}}}function Lb(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ta(i)}catch(o){Le(a,a.return,o)}}function qw(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new Ob),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new Ob),a;default:throw Error(r(435,i.tag))}}function vc(i,a){var o=qw(i);a.forEach(function(f){if(!o.has(f)){o.add(f);var p=Zw.bind(null,i,f);f.then(p,p)}})}function Pt(i,a){var o=a.deletions;if(o!==null)for(var f=0;f<o.length;f++){var p=o[f],g=i,x=a,k=x;e:for(;k!==null;){switch(k.tag){case 27:if(Kr(k.type)){Ge=k.stateNode,Ut=!1;break e}break;case 5:Ge=k.stateNode,Ut=!1;break e;case 3:case 4:Ge=k.stateNode.containerInfo,Ut=!0;break e}k=k.return}if(Ge===null)throw Error(r(160));_b(g,x,p),Ge=null,Ut=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)zb(a,i),a=a.sibling}var Tn=null;function zb(i,a){var o=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Pt(a,i),Ht(i),f&4&&(Ur(3,i,i.return),ol(3,i),Ur(5,i,i.return));break;case 1:Pt(a,i),Ht(i),f&512&&(ot||o===null||jn(o,o.return)),f&64&&ir&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?f:o.concat(f))));break;case 26:var p=Tn;if(Pt(a,i),Ht(i),f&512&&(ot||o===null||jn(o,o.return)),f&4){var g=o!==null?o.memoizedState:null;if(f=i.memoizedState,o===null)if(f===null)if(i.stateNode===null){e:{f=i.type,o=i.memoizedProps,p=p.ownerDocument||p;t:switch(f){case"title":g=p.getElementsByTagName("title")[0],(!g||g[za]||g[vt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(f),p.head.insertBefore(g,p.querySelector("head > title"))),kt(g,f,o),g[vt]=i,ht(g),f=g;break e;case"link":var x=zv("link","href",p).get(f+(o.href||""));if(x){for(var k=0;k<x.length;k++)if(g=x[k],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){x.splice(k,1);break t}}g=p.createElement(f),kt(g,f,o),p.head.appendChild(g);break;case"meta":if(x=zv("meta","content",p).get(f+(o.content||""))){for(k=0;k<x.length;k++)if(g=x[k],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){x.splice(k,1);break t}}g=p.createElement(f),kt(g,f,o),p.head.appendChild(g);break;default:throw Error(r(468,f))}g[vt]=i,ht(g),f=g}i.stateNode=f}else jv(p,i.type,i.stateNode);else i.stateNode=Lv(p,f,i.memoizedProps);else g!==f?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,f===null?jv(p,i.type,i.stateNode):Lv(p,f,i.memoizedProps)):f===null&&i.stateNode!==null&&xh(i,i.memoizedProps,o.memoizedProps)}break;case 27:Pt(a,i),Ht(i),f&512&&(ot||o===null||jn(o,o.return)),o!==null&&f&4&&xh(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Pt(a,i),Ht(i),f&512&&(ot||o===null||jn(o,o.return)),i.flags&32){p=i.stateNode;try{Ts(p,"")}catch(re){Le(i,i.return,re)}}f&4&&i.stateNode!=null&&(p=i.memoizedProps,xh(i,p,o!==null?o.memoizedProps:p)),f&1024&&(kh=!0);break;case 6:if(Pt(a,i),Ht(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,o=i.stateNode;try{o.nodeValue=f}catch(re){Le(i,i.return,re)}}break;case 3:if(Lc=null,p=Tn,Tn=_c(a.containerInfo),Pt(a,i),Tn=p,Ht(i),f&4&&o!==null&&o.memoizedState.isDehydrated)try{ta(a.containerInfo)}catch(re){Le(i,i.return,re)}kh&&(kh=!1,jb(i));break;case 4:f=Tn,Tn=_c(i.stateNode.containerInfo),Pt(a,i),Ht(i),Tn=f;break;case 12:Pt(a,i),Ht(i);break;case 31:Pt(a,i),Ht(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,vc(i,f)));break;case 13:Pt(a,i),Ht(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Sc=Kt()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,vc(i,f)));break;case 22:p=i.memoizedState!==null;var A=o!==null&&o.memoizedState!==null,_=ir,U=ot;if(ir=_||p,ot=U||A,Pt(a,i),ot=U,ir=_,Ht(i),f&8192)e:for(a=i.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(o===null||A||ir||ot||Yi(i)),o=null,a=i;;){if(a.tag===5||a.tag===26){if(o===null){A=o=a;try{if(g=A.stateNode,p)x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{k=A.stateNode;var $=A.memoizedProps.style,L=$!=null&&$.hasOwnProperty("display")?$.display:null;k.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(re){Le(A,A.return,re)}}}else if(a.tag===6){if(o===null){A=a;try{A.stateNode.nodeValue=p?"":A.memoizedProps}catch(re){Le(A,A.return,re)}}}else if(a.tag===18){if(o===null){A=a;try{var j=A.stateNode;p?wv(j,!0):wv(A.stateNode,!1)}catch(re){Le(A,A.return,re)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=i.updateQueue,f!==null&&(o=f.retryQueue,o!==null&&(f.retryQueue=null,vc(i,o))));break;case 19:Pt(a,i),Ht(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,vc(i,f)));break;case 30:break;case 21:break;default:Pt(a,i),Ht(i)}}function Ht(i){var a=i.flags;if(a&2){try{for(var o,f=i.return;f!==null;){if(Nb(f)){o=f;break}f=f.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var p=o.stateNode,g=Sh(i);bc(i,g,p);break;case 5:var x=o.stateNode;o.flags&32&&(Ts(x,""),o.flags&=-33);var k=Sh(i);bc(i,k,x);break;case 3:case 4:var A=o.stateNode.containerInfo,_=Sh(i);Eh(i,_,A);break;default:throw Error(r(161))}}catch(U){Le(i,i.return,U)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function jb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;jb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function ar(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Rb(i,a.alternate,a),a=a.sibling}function Yi(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Ur(4,a,a.return),Yi(a);break;case 1:jn(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&wb(a,a.return,o),Yi(a);break;case 27:bl(a.stateNode);case 26:case 5:jn(a,a.return),Yi(a);break;case 22:a.memoizedState===null&&Yi(a);break;case 30:Yi(a);break;default:Yi(a)}i=i.sibling}}function lr(i,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,p=i,g=a,x=g.flags;switch(g.tag){case 0:case 11:case 15:lr(p,g,o),ol(4,g);break;case 1:if(lr(p,g,o),f=g,p=f.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(_){Le(f,f.return,_)}if(f=g,p=f.updateQueue,p!==null){var k=f.stateNode;try{var A=p.shared.hiddenCallbacks;if(A!==null)for(p.shared.hiddenCallbacks=null,p=0;p<A.length;p++)py(A[p],k)}catch(_){Le(f,f.return,_)}}o&&x&64&&Cb(g),cl(g,g.return);break;case 27:Mb(g);case 26:case 5:lr(p,g,o),o&&f===null&&x&4&&Ab(g),cl(g,g.return);break;case 12:lr(p,g,o);break;case 31:lr(p,g,o),o&&x&4&&Ib(p,g);break;case 13:lr(p,g,o),o&&x&4&&Lb(p,g);break;case 22:g.memoizedState===null&&lr(p,g,o),cl(g,g.return);break;case 30:break;default:lr(p,g,o)}a=a.sibling}}function Th(i,a){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Wa(o))}function Ch(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Wa(i))}function Cn(i,a,o,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Bb(i,a,o,f),a=a.sibling}function Bb(i,a,o,f){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Cn(i,a,o,f),p&2048&&ol(9,a);break;case 1:Cn(i,a,o,f);break;case 3:Cn(i,a,o,f),p&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Wa(i)));break;case 12:if(p&2048){Cn(i,a,o,f),i=a.stateNode;try{var g=a.memoizedProps,x=g.id,k=g.onPostCommit;typeof k=="function"&&k(x,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(A){Le(a,a.return,A)}}else Cn(i,a,o,f);break;case 31:Cn(i,a,o,f);break;case 13:Cn(i,a,o,f);break;case 23:break;case 22:g=a.stateNode,x=a.alternate,a.memoizedState!==null?g._visibility&2?Cn(i,a,o,f):ul(i,a):g._visibility&2?Cn(i,a,o,f):(g._visibility|=2,qs(i,a,o,f,(a.subtreeFlags&10256)!==0||!1)),p&2048&&Th(x,a);break;case 24:Cn(i,a,o,f),p&2048&&Ch(a.alternate,a);break;default:Cn(i,a,o,f)}}function qs(i,a,o,f,p){for(p=p&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var g=i,x=a,k=o,A=f,_=x.flags;switch(x.tag){case 0:case 11:case 15:qs(g,x,k,A,p),ol(8,x);break;case 23:break;case 22:var U=x.stateNode;x.memoizedState!==null?U._visibility&2?qs(g,x,k,A,p):ul(g,x):(U._visibility|=2,qs(g,x,k,A,p)),p&&_&2048&&Th(x.alternate,x);break;case 24:qs(g,x,k,A,p),p&&_&2048&&Ch(x.alternate,x);break;default:qs(g,x,k,A,p)}a=a.sibling}}function ul(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=i,f=a,p=f.flags;switch(f.tag){case 22:ul(o,f),p&2048&&Th(f.alternate,f);break;case 24:ul(o,f),p&2048&&Ch(f.alternate,f);break;default:ul(o,f)}a=a.sibling}}var fl=8192;function Fs(i,a,o){if(i.subtreeFlags&fl)for(i=i.child;i!==null;)Ub(i,a,o),i=i.sibling}function Ub(i,a,o){switch(i.tag){case 26:Fs(i,a,o),i.flags&fl&&i.memoizedState!==null&&OA(o,Tn,i.memoizedState,i.memoizedProps);break;case 5:Fs(i,a,o);break;case 3:case 4:var f=Tn;Tn=_c(i.stateNode.containerInfo),Fs(i,a,o),Tn=f;break;case 22:i.memoizedState===null&&(f=i.alternate,f!==null&&f.memoizedState!==null?(f=fl,fl=16777216,Fs(i,a,o),fl=f):Fs(i,a,o));break;default:Fs(i,a,o)}}function Pb(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function dl(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var f=a[o];pt=f,Vb(f,i)}Pb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Hb(i),i=i.sibling}function Hb(i){switch(i.tag){case 0:case 11:case 15:dl(i),i.flags&2048&&Ur(9,i,i.return);break;case 3:dl(i);break;case 12:dl(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,xc(i)):dl(i);break;default:dl(i)}}function xc(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var f=a[o];pt=f,Vb(f,i)}Pb(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Ur(8,a,a.return),xc(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,xc(a));break;default:xc(a)}i=i.sibling}}function Vb(i,a){for(;pt!==null;){var o=pt;switch(o.tag){case 0:case 11:case 15:Ur(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var f=o.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Wa(o.memoizedState.cache)}if(f=o.child,f!==null)f.return=o,pt=f;else e:for(o=i;pt!==null;){f=pt;var p=f.sibling,g=f.return;if(Db(f),f===o){pt=null;break e}if(p!==null){p.return=g,pt=p;break e}pt=g}}}var Fw={getCacheForType:function(i){var a=St(st),o=a.data.get(i);return o===void 0&&(o=i(),a.data.set(i,o)),o},cacheSignal:function(){return St(st).controller.signal}},Kw=typeof WeakMap=="function"?WeakMap:Map,Re=0,He=null,ke=null,Ce=0,Ie=0,Zt=null,Pr=!1,Ks=!1,wh=!1,or=0,Qe=0,Hr=0,Wi=0,Ah=0,en=0,Gs=0,hl=null,Vt=null,Nh=!1,Sc=0,$b=0,Ec=1/0,kc=null,Vr=null,ft=0,$r=null,Ys=null,cr=0,Mh=0,Oh=null,qb=null,pl=0,Rh=null;function tn(){return(Re&2)!==0&&Ce!==0?Ce&-Ce:z.T!==null?jh():a0()}function Fb(){if(en===0)if((Ce&536870912)===0||Ae){var i=Ro;Ro<<=1,(Ro&3932160)===0&&(Ro=262144),en=i}else en=536870912;return i=Xt.current,i!==null&&(i.flags|=32),en}function $t(i,a,o){(i===He&&(Ie===2||Ie===9)||i.cancelPendingCommit!==null)&&(Ws(i,0),qr(i,Ce,en,!1)),La(i,o),((Re&2)===0||i!==He)&&(i===He&&((Re&2)===0&&(Wi|=o),Qe===4&&qr(i,Ce,en,!1)),Bn(i))}function Kb(i,a,o){if((Re&6)!==0)throw Error(r(327));var f=!o&&(a&127)===0&&(a&i.expiredLanes)===0||Ia(i,a),p=f?Ww(i,a):_h(i,a,!0),g=f;do{if(p===0){Ks&&!f&&qr(i,a,0,!1);break}else{if(o=i.current.alternate,g&&!Gw(o)){p=_h(i,a,!1),g=!1;continue}if(p===2){if(g=a,i.errorRecoveryDisabledLanes&g)var x=0;else x=i.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){a=x;e:{var k=i;p=hl;var A=k.current.memoizedState.isDehydrated;if(A&&(Ws(k,x).flags|=256),x=_h(k,x,!1),x!==2){if(wh&&!A){k.errorRecoveryDisabledLanes|=g,Wi|=g,p=4;break e}g=Vt,Vt=p,g!==null&&(Vt===null?Vt=g:Vt.push.apply(Vt,g))}p=x}if(g=!1,p!==2)continue}}if(p===1){Ws(i,0),qr(i,a,0,!0);break}e:{switch(f=i,g=p,g){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:qr(f,a,en,!Pr);break e;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(p=Sc+300-Kt(),10<p)){if(qr(f,a,en,!Pr),_o(f,0,!0)!==0)break e;cr=a,f.timeoutHandle=kv(Gb.bind(null,f,o,Vt,kc,Nh,a,en,Wi,Gs,Pr,g,"Throttled",-0,0),p);break e}Gb(f,o,Vt,kc,Nh,a,en,Wi,Gs,Pr,g,null,-0,0)}}break}while(!0);Bn(i)}function Gb(i,a,o,f,p,g,x,k,A,_,U,$,L,j){if(i.timeoutHandle=-1,$=a.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},Ub(a,g,$);var re=(g&62914560)===g?Sc-Kt():(g&4194048)===g?$b-Kt():0;if(re=RA($,re),re!==null){cr=g,i.cancelPendingCommit=re(tv.bind(null,i,a,g,o,f,p,x,k,A,U,$,null,L,j)),qr(i,g,x,!_);return}}tv(i,a,g,o,f,p,x,k,A)}function Gw(i){for(var a=i;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var f=0;f<o.length;f++){var p=o[f],g=p.getSnapshot;p=p.value;try{if(!Wt(g(),p))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function qr(i,a,o,f){a&=~Ah,a&=~Wi,i.suspendedLanes|=a,i.pingedLanes&=~a,f&&(i.warmLanes|=a),f=i.expirationTimes;for(var p=a;0<p;){var g=31-Yt(p),x=1<<g;f[g]=-1,p&=~x}o!==0&&r0(i,o,a)}function Tc(){return(Re&6)===0?(ml(0),!1):!0}function Dh(){if(ke!==null){if(Ie===0)var i=ke.return;else i=ke,Qn=Pi=null,Yd(i),Us=null,Xa=0,i=ke;for(;i!==null;)Tb(i.alternate,i),i=i.return;ke=null}}function Ws(i,a){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,hA(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),cr=0,Dh(),He=i,ke=o=Jn(i.current,null),Ce=a,Ie=0,Zt=null,Pr=!1,Ks=Ia(i,a),wh=!1,Gs=en=Ah=Wi=Hr=Qe=0,Vt=hl=null,Nh=!1,(a&8)!==0&&(a|=a&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=a;0<f;){var p=31-Yt(f),g=1<<p;a|=i[p],f&=~g}return or=a,Fo(),o}function Yb(i,a){ge=null,z.H=sl,a===Bs||a===Zo?(a=uy(),Ie=3):a===zd?(a=uy(),Ie=4):Ie=a===uh?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Zt=a,ke===null&&(Qe=1,hc(i,un(a,i.current)))}function Wb(){var i=Xt.current;return i===null?!0:(Ce&4194048)===Ce?pn===null:(Ce&62914560)===Ce||(Ce&536870912)!==0?i===pn:!1}function Jb(){var i=z.H;return z.H=sl,i===null?sl:i}function Xb(){var i=z.A;return z.A=Fw,i}function Cc(){Qe=4,Pr||(Ce&4194048)!==Ce&&Xt.current!==null||(Ks=!0),(Hr&134217727)===0&&(Wi&134217727)===0||He===null||qr(He,Ce,en,!1)}function _h(i,a,o){var f=Re;Re|=2;var p=Jb(),g=Xb();(He!==i||Ce!==a)&&(kc=null,Ws(i,a)),a=!1;var x=Qe;e:do try{if(Ie!==0&&ke!==null){var k=ke,A=Zt;switch(Ie){case 8:Dh(),x=6;break e;case 3:case 2:case 9:case 6:Xt.current===null&&(a=!0);var _=Ie;if(Ie=0,Zt=null,Js(i,k,A,_),o&&Ks){x=0;break e}break;default:_=Ie,Ie=0,Zt=null,Js(i,k,A,_)}}Yw(),x=Qe;break}catch(U){Yb(i,U)}while(!0);return a&&i.shellSuspendCounter++,Qn=Pi=null,Re=f,z.H=p,z.A=g,ke===null&&(He=null,Ce=0,Fo()),x}function Yw(){for(;ke!==null;)Qb(ke)}function Ww(i,a){var o=Re;Re|=2;var f=Jb(),p=Xb();He!==i||Ce!==a?(kc=null,Ec=Kt()+500,Ws(i,a)):Ks=Ia(i,a);e:do try{if(Ie!==0&&ke!==null){a=ke;var g=Zt;t:switch(Ie){case 1:Ie=0,Zt=null,Js(i,a,g,1);break;case 2:case 9:if(oy(g)){Ie=0,Zt=null,Zb(a);break}a=function(){Ie!==2&&Ie!==9||He!==i||(Ie=7),Bn(i)},g.then(a,a);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:oy(g)?(Ie=0,Zt=null,Zb(a)):(Ie=0,Zt=null,Js(i,a,g,7));break;case 5:var x=null;switch(ke.tag){case 26:x=ke.memoizedState;case 5:case 27:var k=ke;if(x?Bv(x):k.stateNode.complete){Ie=0,Zt=null;var A=k.sibling;if(A!==null)ke=A;else{var _=k.return;_!==null?(ke=_,wc(_)):ke=null}break t}}Ie=0,Zt=null,Js(i,a,g,5);break;case 6:Ie=0,Zt=null,Js(i,a,g,6);break;case 8:Dh(),Qe=6;break e;default:throw Error(r(462))}}Jw();break}catch(U){Yb(i,U)}while(!0);return Qn=Pi=null,z.H=f,z.A=p,Re=o,ke!==null?0:(He=null,Ce=0,Fo(),Qe)}function Jw(){for(;ke!==null&&!vC();)Qb(ke)}function Qb(i){var a=Eb(i.alternate,i,or);i.memoizedProps=i.pendingProps,a===null?wc(i):ke=a}function Zb(i){var a=i,o=a.alternate;switch(a.tag){case 15:case 0:a=gb(o,a,a.pendingProps,a.type,void 0,Ce);break;case 11:a=gb(o,a,a.pendingProps,a.type.render,a.ref,Ce);break;case 5:Yd(a);default:Tb(o,a),a=ke=X0(a,or),a=Eb(o,a,or)}i.memoizedProps=i.pendingProps,a===null?wc(i):ke=a}function Js(i,a,o,f){Qn=Pi=null,Yd(a),Us=null,Xa=0;var p=a.return;try{if(Bw(i,p,a,o,Ce)){Qe=1,hc(i,un(o,i.current)),ke=null;return}}catch(g){if(p!==null)throw ke=p,g;Qe=1,hc(i,un(o,i.current)),ke=null;return}a.flags&32768?(Ae||f===1?i=!0:Ks||(Ce&536870912)!==0?i=!1:(Pr=i=!0,(f===2||f===9||f===3||f===6)&&(f=Xt.current,f!==null&&f.tag===13&&(f.flags|=16384))),ev(a,i)):wc(a)}function wc(i){var a=i;do{if((a.flags&32768)!==0){ev(a,Pr);return}i=a.return;var o=Hw(a.alternate,a,or);if(o!==null){ke=o;return}if(a=a.sibling,a!==null){ke=a;return}ke=a=i}while(a!==null);Qe===0&&(Qe=5)}function ev(i,a){do{var o=Vw(i.alternate,i);if(o!==null){o.flags&=32767,ke=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(i=i.sibling,i!==null)){ke=i;return}ke=i=o}while(i!==null);Qe=6,ke=null}function tv(i,a,o,f,p,g,x,k,A){i.cancelPendingCommit=null;do Ac();while(ft!==0);if((Re&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(g=a.lanes|a.childLanes,g|=Sd,MC(i,o,g,x,k,A),i===He&&(ke=He=null,Ce=0),Ys=a,$r=i,cr=o,Mh=g,Oh=p,qb=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,eA(Mo,function(){return av(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=z.T,z.T=null,p=J.p,J.p=2,x=Re,Re|=4;try{$w(i,a,o)}finally{Re=x,J.p=p,z.T=f}}ft=1,nv(),rv(),iv()}}function nv(){if(ft===1){ft=0;var i=$r,a=Ys,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=z.T,z.T=null;var f=J.p;J.p=2;var p=Re;Re|=4;try{zb(a,i);var g=Fh,x=V0(i.containerInfo),k=g.focusedElem,A=g.selectionRange;if(x!==k&&k&&k.ownerDocument&&H0(k.ownerDocument.documentElement,k)){if(A!==null&&gd(k)){var _=A.start,U=A.end;if(U===void 0&&(U=_),"selectionStart"in k)k.selectionStart=_,k.selectionEnd=Math.min(U,k.value.length);else{var $=k.ownerDocument||document,L=$&&$.defaultView||window;if(L.getSelection){var j=L.getSelection(),re=k.textContent.length,ue=Math.min(A.start,re),Ue=A.end===void 0?ue:Math.min(A.end,re);!j.extend&&ue>Ue&&(x=Ue,Ue=ue,ue=x);var R=P0(k,ue),M=P0(k,Ue);if(R&&M&&(j.rangeCount!==1||j.anchorNode!==R.node||j.anchorOffset!==R.offset||j.focusNode!==M.node||j.focusOffset!==M.offset)){var D=$.createRange();D.setStart(R.node,R.offset),j.removeAllRanges(),ue>Ue?(j.addRange(D),j.extend(M.node,M.offset)):(D.setEnd(M.node,M.offset),j.addRange(D))}}}}for($=[],j=k;j=j.parentNode;)j.nodeType===1&&$.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<$.length;k++){var V=$[k];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}Uc=!!qh,Fh=qh=null}finally{Re=p,J.p=f,z.T=o}}i.current=a,ft=2}}function rv(){if(ft===2){ft=0;var i=$r,a=Ys,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=z.T,z.T=null;var f=J.p;J.p=2;var p=Re;Re|=4;try{Rb(i,a.alternate,a)}finally{Re=p,J.p=f,z.T=o}}ft=3}}function iv(){if(ft===4||ft===3){ft=0,xC();var i=$r,a=Ys,o=cr,f=qb;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?ft=5:(ft=0,Ys=$r=null,sv(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Vr=null),Xf(o),a=a.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(_a,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=z.T,p=J.p,J.p=2,z.T=null;try{for(var g=i.onRecoverableError,x=0;x<f.length;x++){var k=f[x];g(k.value,{componentStack:k.stack})}}finally{z.T=a,J.p=p}}(cr&3)!==0&&Ac(),Bn(i),p=i.pendingLanes,(o&261930)!==0&&(p&42)!==0?i===Rh?pl++:(pl=0,Rh=i):pl=0,ml(0)}}function sv(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Wa(a)))}function Ac(){return nv(),rv(),iv(),av()}function av(){if(ft!==5)return!1;var i=$r,a=Mh;Mh=0;var o=Xf(cr),f=z.T,p=J.p;try{J.p=32>o?32:o,z.T=null,o=Oh,Oh=null;var g=$r,x=cr;if(ft=0,Ys=$r=null,cr=0,(Re&6)!==0)throw Error(r(331));var k=Re;if(Re|=4,Hb(g.current),Bb(g,g.current,x,o),Re=k,ml(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(_a,g)}catch{}return!0}finally{J.p=p,z.T=f,sv(i,a)}}function lv(i,a,o){a=un(o,a),a=ch(i.stateNode,a,2),i=zr(i,a,2),i!==null&&(La(i,2),Bn(i))}function Le(i,a,o){if(i.tag===3)lv(i,i,o);else for(;a!==null;){if(a.tag===3){lv(a,i,o);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Vr===null||!Vr.has(f))){i=un(o,i),o=ob(2),f=zr(a,o,2),f!==null&&(cb(o,f,a,i),La(f,2),Bn(f));break}}a=a.return}}function Ih(i,a,o){var f=i.pingCache;if(f===null){f=i.pingCache=new Kw;var p=new Set;f.set(a,p)}else p=f.get(a),p===void 0&&(p=new Set,f.set(a,p));p.has(o)||(wh=!0,p.add(o),i=Xw.bind(null,i,a,o),a.then(i,i))}function Xw(i,a,o){var f=i.pingCache;f!==null&&f.delete(a),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,He===i&&(Ce&o)===o&&(Qe===4||Qe===3&&(Ce&62914560)===Ce&&300>Kt()-Sc?(Re&2)===0&&Ws(i,0):Ah|=o,Gs===Ce&&(Gs=0)),Bn(i)}function ov(i,a){a===0&&(a=n0()),i=ji(i,a),i!==null&&(La(i,a),Bn(i))}function Qw(i){var a=i.memoizedState,o=0;a!==null&&(o=a.retryLane),ov(i,o)}function Zw(i,a){var o=0;switch(i.tag){case 31:case 13:var f=i.stateNode,p=i.memoizedState;p!==null&&(o=p.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(a),ov(i,o)}function eA(i,a){return Gf(i,a)}var Nc=null,Xs=null,Lh=!1,Mc=!1,zh=!1,Fr=0;function Bn(i){i!==Xs&&i.next===null&&(Xs===null?Nc=Xs=i:Xs=Xs.next=i),Mc=!0,Lh||(Lh=!0,nA())}function ml(i,a){if(!zh&&Mc){zh=!0;do for(var o=!1,f=Nc;f!==null;){if(i!==0){var p=f.pendingLanes;if(p===0)var g=0;else{var x=f.suspendedLanes,k=f.pingedLanes;g=(1<<31-Yt(42|i)+1)-1,g&=p&~(x&~k),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,dv(f,g))}else g=Ce,g=_o(f,f===He?g:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(g&3)===0||Ia(f,g)||(o=!0,dv(f,g));f=f.next}while(o);zh=!1}}function tA(){cv()}function cv(){Mc=Lh=!1;var i=0;Fr!==0&&dA()&&(i=Fr);for(var a=Kt(),o=null,f=Nc;f!==null;){var p=f.next,g=uv(f,a);g===0?(f.next=null,o===null?Nc=p:o.next=p,p===null&&(Xs=o)):(o=f,(i!==0||(g&3)!==0)&&(Mc=!0)),f=p}ft!==0&&ft!==5||ml(i),Fr!==0&&(Fr=0)}function uv(i,a){for(var o=i.suspendedLanes,f=i.pingedLanes,p=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var x=31-Yt(g),k=1<<x,A=p[x];A===-1?((k&o)===0||(k&f)!==0)&&(p[x]=NC(k,a)):A<=a&&(i.expiredLanes|=k),g&=~k}if(a=He,o=Ce,o=_o(i,i===a?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,o===0||i===a&&(Ie===2||Ie===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&Yf(f),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Ia(i,o)){if(a=o&-o,a===i.callbackPriority)return a;switch(f!==null&&Yf(f),Xf(o)){case 2:case 8:o=e0;break;case 32:o=Mo;break;case 268435456:o=t0;break;default:o=Mo}return f=fv.bind(null,i),o=Gf(o,f),i.callbackPriority=a,i.callbackNode=o,a}return f!==null&&f!==null&&Yf(f),i.callbackPriority=2,i.callbackNode=null,2}function fv(i,a){if(ft!==0&&ft!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Ac()&&i.callbackNode!==o)return null;var f=Ce;return f=_o(i,i===He?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(Kb(i,f,a),uv(i,Kt()),i.callbackNode!=null&&i.callbackNode===o?fv.bind(null,i):null)}function dv(i,a){if(Ac())return null;Kb(i,a,!0)}function nA(){pA(function(){(Re&6)!==0?Gf(Zg,tA):cv()})}function jh(){if(Fr===0){var i=zs;i===0&&(i=Oo,Oo<<=1,(Oo&261888)===0&&(Oo=256)),Fr=i}return Fr}function hv(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:jo(""+i)}function pv(i,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,i.id&&o.setAttribute("form",i.id),a.parentNode.insertBefore(o,a),i=new FormData(i),o.parentNode.removeChild(o),i}function rA(i,a,o,f,p){if(a==="submit"&&o&&o.stateNode===p){var g=hv((p[jt]||null).action),x=f.submitter;x&&(a=(a=x[jt]||null)?hv(a.formAction):x.getAttribute("formAction"),a!==null&&(g=a,x=null));var k=new Ho("action","action",null,f,p);i.push({event:k,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Fr!==0){var A=x?pv(p,x):new FormData(p);rh(o,{pending:!0,data:A,method:p.method,action:g},null,A)}}else typeof g=="function"&&(k.preventDefault(),A=x?pv(p,x):new FormData(p),rh(o,{pending:!0,data:A,method:p.method,action:g},g,A))},currentTarget:p}]})}}for(var Bh=0;Bh<xd.length;Bh++){var Uh=xd[Bh],iA=Uh.toLowerCase(),sA=Uh[0].toUpperCase()+Uh.slice(1);kn(iA,"on"+sA)}kn(F0,"onAnimationEnd"),kn(K0,"onAnimationIteration"),kn(G0,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(Sw,"onTransitionRun"),kn(Ew,"onTransitionStart"),kn(kw,"onTransitionCancel"),kn(Y0,"onTransitionEnd"),Es("onMouseEnter",["mouseout","mouseover"]),Es("onMouseLeave",["mouseout","mouseover"]),Es("onPointerEnter",["pointerout","pointerover"]),Es("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function mv(i,a){a=(a&4)!==0;for(var o=0;o<i.length;o++){var f=i[o],p=f.event;f=f.listeners;e:{var g=void 0;if(a)for(var x=f.length-1;0<=x;x--){var k=f[x],A=k.instance,_=k.currentTarget;if(k=k.listener,A!==g&&p.isPropagationStopped())break e;g=k,p.currentTarget=_;try{g(p)}catch(U){qo(U)}p.currentTarget=null,g=A}else for(x=0;x<f.length;x++){if(k=f[x],A=k.instance,_=k.currentTarget,k=k.listener,A!==g&&p.isPropagationStopped())break e;g=k,p.currentTarget=_;try{g(p)}catch(U){qo(U)}p.currentTarget=null,g=A}}}}function Te(i,a){var o=a[Qf];o===void 0&&(o=a[Qf]=new Set);var f=i+"__bubble";o.has(f)||(gv(a,i,2,!1),o.add(f))}function Ph(i,a,o){var f=0;a&&(f|=4),gv(o,i,f,a)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function Hh(i){if(!i[Oc]){i[Oc]=!0,c0.forEach(function(o){o!=="selectionchange"&&(aA.has(o)||Ph(o,!1,i),Ph(o,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Oc]||(a[Oc]=!0,Ph("selectionchange",!1,a))}}function gv(i,a,o,f){switch(Fv(a)){case 2:var p=IA;break;case 8:p=LA;break;default:p=np}o=p.bind(null,a,o,i),p=void 0,!ld||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),f?p!==void 0?i.addEventListener(a,o,{capture:!0,passive:p}):i.addEventListener(a,o,!0):p!==void 0?i.addEventListener(a,o,{passive:p}):i.addEventListener(a,o,!1)}function Vh(i,a,o,f,p){var g=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var x=f.tag;if(x===3||x===4){var k=f.stateNode.containerInfo;if(k===p)break;if(x===4)for(x=f.return;x!==null;){var A=x.tag;if((A===3||A===4)&&x.stateNode.containerInfo===p)return;x=x.return}for(;k!==null;){if(x=vs(k),x===null)return;if(A=x.tag,A===5||A===6||A===26||A===27){f=g=x;continue e}k=k.parentNode}}f=f.return}S0(function(){var _=g,U=sd(o),$=[];e:{var L=W0.get(i);if(L!==void 0){var j=Ho,re=i;switch(i){case"keypress":if(Uo(o)===0)break e;case"keydown":case"keyup":j=ZC;break;case"focusin":re="focus",j=fd;break;case"focusout":re="blur",j=fd;break;case"beforeblur":case"afterblur":j=fd;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=T0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=HC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=nw;break;case F0:case K0:case G0:j=qC;break;case Y0:j=iw;break;case"scroll":case"scrollend":j=UC;break;case"wheel":j=aw;break;case"copy":case"cut":case"paste":j=KC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=w0;break;case"toggle":case"beforetoggle":j=ow}var ue=(a&4)!==0,Ue=!ue&&(i==="scroll"||i==="scrollend"),R=ue?L!==null?L+"Capture":null:L;ue=[];for(var M=_,D;M!==null;){var V=M;if(D=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||D===null||R===null||(V=Ba(M,R),V!=null&&ue.push(yl(M,V,D))),Ue)break;M=M.return}0<ue.length&&(L=new j(L,re,null,o,U),$.push({event:L,listeners:ue}))}}if((a&7)===0){e:{if(L=i==="mouseover"||i==="pointerover",j=i==="mouseout"||i==="pointerout",L&&o!==id&&(re=o.relatedTarget||o.fromElement)&&(vs(re)||re[bs]))break e;if((j||L)&&(L=U.window===U?U:(L=U.ownerDocument)?L.defaultView||L.parentWindow:window,j?(re=o.relatedTarget||o.toElement,j=_,re=re?vs(re):null,re!==null&&(Ue=l(re),ue=re.tag,re!==Ue||ue!==5&&ue!==27&&ue!==6)&&(re=null)):(j=null,re=_),j!==re)){if(ue=T0,V="onMouseLeave",R="onMouseEnter",M="mouse",(i==="pointerout"||i==="pointerover")&&(ue=w0,V="onPointerLeave",R="onPointerEnter",M="pointer"),Ue=j==null?L:ja(j),D=re==null?L:ja(re),L=new ue(V,M+"leave",j,o,U),L.target=Ue,L.relatedTarget=D,V=null,vs(U)===_&&(ue=new ue(R,M+"enter",re,o,U),ue.target=D,ue.relatedTarget=Ue,V=ue),Ue=V,j&&re)t:{for(ue=lA,R=j,M=re,D=0,V=R;V;V=ue(V))D++;V=0;for(var le=M;le;le=ue(le))V++;for(;0<D-V;)R=ue(R),D--;for(;0<V-D;)M=ue(M),V--;for(;D--;){if(R===M||M!==null&&R===M.alternate){ue=R;break t}R=ue(R),M=ue(M)}ue=null}else ue=null;j!==null&&yv($,L,j,ue,!1),re!==null&&Ue!==null&&yv($,Ue,re,ue,!0)}}e:{if(L=_?ja(_):window,j=L.nodeName&&L.nodeName.toLowerCase(),j==="select"||j==="input"&&L.type==="file")var Ne=I0;else if(D0(L))if(L0)Ne=bw;else{Ne=gw;var se=mw}else j=L.nodeName,!j||j.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?_&&rd(_.elementType)&&(Ne=I0):Ne=yw;if(Ne&&(Ne=Ne(i,_))){_0($,Ne,o,U);break e}se&&se(i,L,_),i==="focusout"&&_&&L.type==="number"&&_.memoizedProps.value!=null&&nd(L,"number",L.value)}switch(se=_?ja(_):window,i){case"focusin":(D0(se)||se.contentEditable==="true")&&(Ns=se,yd=_,Ka=null);break;case"focusout":Ka=yd=Ns=null;break;case"mousedown":bd=!0;break;case"contextmenu":case"mouseup":case"dragend":bd=!1,$0($,o,U);break;case"selectionchange":if(xw)break;case"keydown":case"keyup":$0($,o,U)}var ye;if(hd)e:{switch(i){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else As?O0(i,o)&&(we="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(we="onCompositionStart");we&&(A0&&o.locale!=="ko"&&(As||we!=="onCompositionStart"?we==="onCompositionEnd"&&As&&(ye=E0()):(Mr=U,od="value"in Mr?Mr.value:Mr.textContent,As=!0)),se=Rc(_,we),0<se.length&&(we=new C0(we,i,null,o,U),$.push({event:we,listeners:se}),ye?we.data=ye:(ye=R0(o),ye!==null&&(we.data=ye)))),(ye=uw?fw(i,o):dw(i,o))&&(we=Rc(_,"onBeforeInput"),0<we.length&&(se=new C0("onBeforeInput","beforeinput",null,o,U),$.push({event:se,listeners:we}),se.data=ye)),rA($,i,_,o,U)}mv($,a)})}function yl(i,a,o){return{instance:i,listener:a,currentTarget:o}}function Rc(i,a){for(var o=a+"Capture",f=[];i!==null;){var p=i,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Ba(i,o),p!=null&&f.unshift(yl(i,p,g)),p=Ba(i,a),p!=null&&f.push(yl(i,p,g))),i.tag===3)return f;i=i.return}return[]}function lA(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function yv(i,a,o,f,p){for(var g=a._reactName,x=[];o!==null&&o!==f;){var k=o,A=k.alternate,_=k.stateNode;if(k=k.tag,A!==null&&A===f)break;k!==5&&k!==26&&k!==27||_===null||(A=_,p?(_=Ba(o,g),_!=null&&x.unshift(yl(o,_,A))):p||(_=Ba(o,g),_!=null&&x.push(yl(o,_,A)))),o=o.return}x.length!==0&&i.push({event:a,listeners:x})}var oA=/\r\n?/g,cA=/\u0000|\uFFFD/g;function bv(i){return(typeof i=="string"?i:""+i).replace(oA,`
`).replace(cA,"")}function vv(i,a){return a=bv(a),bv(i)===a}function Be(i,a,o,f,p,g){switch(o){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||Ts(i,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&Ts(i,""+f);break;case"className":Lo(i,"class",f);break;case"tabIndex":Lo(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Lo(i,o,f);break;case"style":v0(i,f,g);break;case"data":if(a!=="object"){Lo(i,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||o!=="href")){i.removeAttribute(o);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(o);break}f=jo(""+f),i.setAttribute(o,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(a!=="input"&&Be(i,a,"name",p.name,p,null),Be(i,a,"formEncType",p.formEncType,p,null),Be(i,a,"formMethod",p.formMethod,p,null),Be(i,a,"formTarget",p.formTarget,p,null)):(Be(i,a,"encType",p.encType,p,null),Be(i,a,"method",p.method,p,null),Be(i,a,"target",p.target,p,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(o);break}f=jo(""+f),i.setAttribute(o,f);break;case"onClick":f!=null&&(i.onclick=Yn);break;case"onScroll":f!=null&&Te("scroll",i);break;case"onScrollEnd":f!=null&&Te("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(o=f.__html,o!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}o=jo(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(o,""+f):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":f===!0?i.setAttribute(o,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(o,f):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(o,f):i.removeAttribute(o);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(o):i.setAttribute(o,f);break;case"popover":Te("beforetoggle",i),Te("toggle",i),Io(i,"popover",f);break;case"xlinkActuate":Gn(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Gn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Gn(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Gn(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Gn(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Gn(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Gn(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Gn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Gn(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Io(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=jC.get(o)||o,Io(i,o,f))}}function $h(i,a,o,f,p,g){switch(o){case"style":v0(i,f,g);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(o=f.__html,o!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof f=="string"?Ts(i,f):(typeof f=="number"||typeof f=="bigint")&&Ts(i,""+f);break;case"onScroll":f!=null&&Te("scroll",i);break;case"onScrollEnd":f!=null&&Te("scrollend",i);break;case"onClick":f!=null&&(i.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!u0.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),a=o.slice(2,p?o.length-7:void 0),g=i[jt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(a,g,p),typeof f=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(a,f,p);break e}o in i?i[o]=f:f===!0?i.setAttribute(o,""):Io(i,o,f)}}}function kt(i,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",i),Te("load",i);var f=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var x=o[g];if(x!=null)switch(g){case"src":f=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Be(i,a,g,x,o,null)}}p&&Be(i,a,"srcSet",o.srcSet,o,null),f&&Be(i,a,"src",o.src,o,null);return;case"input":Te("invalid",i);var k=g=x=p=null,A=null,_=null;for(f in o)if(o.hasOwnProperty(f)){var U=o[f];if(U!=null)switch(f){case"name":p=U;break;case"type":x=U;break;case"checked":A=U;break;case"defaultChecked":_=U;break;case"value":g=U;break;case"defaultValue":k=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,a));break;default:Be(i,a,f,U,o,null)}}m0(i,g,k,A,_,x,p,!1);return;case"select":Te("invalid",i),f=x=g=null;for(p in o)if(o.hasOwnProperty(p)&&(k=o[p],k!=null))switch(p){case"value":g=k;break;case"defaultValue":x=k;break;case"multiple":f=k;default:Be(i,a,p,k,o,null)}a=g,o=x,i.multiple=!!f,a!=null?ks(i,!!f,a,!1):o!=null&&ks(i,!!f,o,!0);return;case"textarea":Te("invalid",i),g=p=f=null;for(x in o)if(o.hasOwnProperty(x)&&(k=o[x],k!=null))switch(x){case"value":f=k;break;case"defaultValue":p=k;break;case"children":g=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:Be(i,a,x,k,o,null)}y0(i,f,p,g);return;case"option":for(A in o)if(o.hasOwnProperty(A)&&(f=o[A],f!=null))switch(A){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Be(i,a,A,f,o,null)}return;case"dialog":Te("beforetoggle",i),Te("toggle",i),Te("cancel",i),Te("close",i);break;case"iframe":case"object":Te("load",i);break;case"video":case"audio":for(f=0;f<gl.length;f++)Te(gl[f],i);break;case"image":Te("error",i),Te("load",i);break;case"details":Te("toggle",i);break;case"embed":case"source":case"link":Te("error",i),Te("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_ in o)if(o.hasOwnProperty(_)&&(f=o[_],f!=null))switch(_){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Be(i,a,_,f,o,null)}return;default:if(rd(a)){for(U in o)o.hasOwnProperty(U)&&(f=o[U],f!==void 0&&$h(i,a,U,f,o,void 0));return}}for(k in o)o.hasOwnProperty(k)&&(f=o[k],f!=null&&Be(i,a,k,f,o,null))}function uA(i,a,o,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,x=null,k=null,A=null,_=null,U=null;for(j in o){var $=o[j];if(o.hasOwnProperty(j)&&$!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":A=$;default:f.hasOwnProperty(j)||Be(i,a,j,null,f,$)}}for(var L in f){var j=f[L];if($=o[L],f.hasOwnProperty(L)&&(j!=null||$!=null))switch(L){case"type":g=j;break;case"name":p=j;break;case"checked":_=j;break;case"defaultChecked":U=j;break;case"value":x=j;break;case"defaultValue":k=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,a));break;default:j!==$&&Be(i,a,L,j,f,$)}}td(i,x,k,A,_,U,g,p);return;case"select":j=x=k=L=null;for(g in o)if(A=o[g],o.hasOwnProperty(g)&&A!=null)switch(g){case"value":break;case"multiple":j=A;default:f.hasOwnProperty(g)||Be(i,a,g,null,f,A)}for(p in f)if(g=f[p],A=o[p],f.hasOwnProperty(p)&&(g!=null||A!=null))switch(p){case"value":L=g;break;case"defaultValue":k=g;break;case"multiple":x=g;default:g!==A&&Be(i,a,p,g,f,A)}a=k,o=x,f=j,L!=null?ks(i,!!o,L,!1):!!f!=!!o&&(a!=null?ks(i,!!o,a,!0):ks(i,!!o,o?[]:"",!1));return;case"textarea":j=L=null;for(k in o)if(p=o[k],o.hasOwnProperty(k)&&p!=null&&!f.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Be(i,a,k,null,f,p)}for(x in f)if(p=f[x],g=o[x],f.hasOwnProperty(x)&&(p!=null||g!=null))switch(x){case"value":L=p;break;case"defaultValue":j=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==g&&Be(i,a,x,p,f,g)}g0(i,L,j);return;case"option":for(var re in o)if(L=o[re],o.hasOwnProperty(re)&&L!=null&&!f.hasOwnProperty(re))switch(re){case"selected":i.selected=!1;break;default:Be(i,a,re,null,f,L)}for(A in f)if(L=f[A],j=o[A],f.hasOwnProperty(A)&&L!==j&&(L!=null||j!=null))switch(A){case"selected":i.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:Be(i,a,A,L,f,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ue in o)L=o[ue],o.hasOwnProperty(ue)&&L!=null&&!f.hasOwnProperty(ue)&&Be(i,a,ue,null,f,L);for(_ in f)if(L=f[_],j=o[_],f.hasOwnProperty(_)&&L!==j&&(L!=null||j!=null))switch(_){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(137,a));break;default:Be(i,a,_,L,f,j)}return;default:if(rd(a)){for(var Ue in o)L=o[Ue],o.hasOwnProperty(Ue)&&L!==void 0&&!f.hasOwnProperty(Ue)&&$h(i,a,Ue,void 0,f,L);for(U in f)L=f[U],j=o[U],!f.hasOwnProperty(U)||L===j||L===void 0&&j===void 0||$h(i,a,U,L,f,j);return}}for(var R in o)L=o[R],o.hasOwnProperty(R)&&L!=null&&!f.hasOwnProperty(R)&&Be(i,a,R,null,f,L);for($ in f)L=f[$],j=o[$],!f.hasOwnProperty($)||L===j||L==null&&j==null||Be(i,a,$,L,f,j)}function xv(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fA(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,o=performance.getEntriesByType("resource"),f=0;f<o.length;f++){var p=o[f],g=p.transferSize,x=p.initiatorType,k=p.duration;if(g&&k&&xv(x)){for(x=0,k=p.responseEnd,f+=1;f<o.length;f++){var A=o[f],_=A.startTime;if(_>k)break;var U=A.transferSize,$=A.initiatorType;U&&xv($)&&(A=A.responseEnd,x+=U*(A<k?1:(k-_)/(A-_)))}if(--f,a+=8*(g+x)/(p.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var qh=null,Fh=null;function Dc(i){return i.nodeType===9?i:i.ownerDocument}function Sv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ev(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Kh(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Gh=null;function dA(){var i=window.event;return i&&i.type==="popstate"?i===Gh?!1:(Gh=i,!0):(Gh=null,!1)}var kv=typeof setTimeout=="function"?setTimeout:void 0,hA=typeof clearTimeout=="function"?clearTimeout:void 0,Tv=typeof Promise=="function"?Promise:void 0,pA=typeof queueMicrotask=="function"?queueMicrotask:typeof Tv<"u"?function(i){return Tv.resolve(null).then(i).catch(mA)}:kv;function mA(i){setTimeout(function(){throw i})}function Kr(i){return i==="head"}function Cv(i,a){var o=a,f=0;do{var p=o.nextSibling;if(i.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(f===0){i.removeChild(p),ta(a);return}f--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")f++;else if(o==="html")bl(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,bl(o);for(var g=o.firstChild;g;){var x=g.nextSibling,k=g.nodeName;g[za]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=x}}else o==="body"&&bl(i.ownerDocument.body);o=p}while(o);ta(a)}function wv(i,a){var o=i;i=0;do{var f=o.nextSibling;if(o.nodeType===1?a?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(a?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=f}while(o)}function Yh(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Yh(o),Zf(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function gA(i,a,o,f){for(;i.nodeType===1;){var p=o;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[za])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=mn(i.nextSibling),i===null)break}return null}function yA(i,a,o){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=mn(i.nextSibling),i===null))return null;return i}function Av(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=mn(i.nextSibling),i===null))return null;return i}function Wh(i){return i.data==="$?"||i.data==="$~"}function Jh(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function bA(i,a){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||o.readyState!=="loading")a();else{var f=function(){a(),o.removeEventListener("DOMContentLoaded",f)};o.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function mn(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var Xh=null;function Nv(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(a===0)return mn(i.nextSibling);a--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||a++}i=i.nextSibling}return null}function Mv(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(a===0)return i;a--}else o!=="/$"&&o!=="/&"||a++}i=i.previousSibling}return null}function Ov(i,a,o){switch(a=Dc(o),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function bl(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Zf(i)}var gn=new Map,Rv=new Set;function _c(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ur=J.d;J.d={f:vA,r:xA,D:SA,C:EA,L:kA,m:TA,X:wA,S:CA,M:AA};function vA(){var i=ur.f(),a=Tc();return i||a}function xA(i){var a=xs(i);a!==null&&a.tag===5&&a.type==="form"?Yy(a):ur.r(i)}var Qs=typeof document>"u"?null:document;function Dv(i,a,o){var f=Qs;if(f&&typeof a=="string"&&a){var p=on(a);p='link[rel="'+i+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Rv.has(p)||(Rv.add(p),i={rel:i,crossOrigin:o,href:a},f.querySelector(p)===null&&(a=f.createElement("link"),kt(a,"link",i),ht(a),f.head.appendChild(a)))}}function SA(i){ur.D(i),Dv("dns-prefetch",i,null)}function EA(i,a){ur.C(i,a),Dv("preconnect",i,a)}function kA(i,a,o){ur.L(i,a,o);var f=Qs;if(f&&i&&a){var p='link[rel="preload"][as="'+on(a)+'"]';a==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+on(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+on(o.imageSizes)+'"]')):p+='[href="'+on(i)+'"]';var g=p;switch(a){case"style":g=Zs(i);break;case"script":g=ea(i)}gn.has(g)||(i=y({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:i,as:a},o),gn.set(g,i),f.querySelector(p)!==null||a==="style"&&f.querySelector(vl(g))||a==="script"&&f.querySelector(xl(g))||(a=f.createElement("link"),kt(a,"link",i),ht(a),f.head.appendChild(a)))}}function TA(i,a){ur.m(i,a);var o=Qs;if(o&&i){var f=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+on(f)+'"][href="'+on(i)+'"]',g=p;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ea(i)}if(!gn.has(g)&&(i=y({rel:"modulepreload",href:i},a),gn.set(g,i),o.querySelector(p)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(xl(g)))return}f=o.createElement("link"),kt(f,"link",i),ht(f),o.head.appendChild(f)}}}function CA(i,a,o){ur.S(i,a,o);var f=Qs;if(f&&i){var p=Ss(f).hoistableStyles,g=Zs(i);a=a||"default";var x=p.get(g);if(!x){var k={loading:0,preload:null};if(x=f.querySelector(vl(g)))k.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":a},o),(o=gn.get(g))&&Qh(i,o);var A=x=f.createElement("link");ht(A),kt(A,"link",i),A._p=new Promise(function(_,U){A.onload=_,A.onerror=U}),A.addEventListener("load",function(){k.loading|=1}),A.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Ic(x,a,f)}x={type:"stylesheet",instance:x,count:1,state:k},p.set(g,x)}}}function wA(i,a){ur.X(i,a);var o=Qs;if(o&&i){var f=Ss(o).hoistableScripts,p=ea(i),g=f.get(p);g||(g=o.querySelector(xl(p)),g||(i=y({src:i,async:!0},a),(a=gn.get(p))&&Zh(i,a),g=o.createElement("script"),ht(g),kt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},f.set(p,g))}}function AA(i,a){ur.M(i,a);var o=Qs;if(o&&i){var f=Ss(o).hoistableScripts,p=ea(i),g=f.get(p);g||(g=o.querySelector(xl(p)),g||(i=y({src:i,async:!0,type:"module"},a),(a=gn.get(p))&&Zh(i,a),g=o.createElement("script"),ht(g),kt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},f.set(p,g))}}function _v(i,a,o,f){var p=(p=Ee.current)?_c(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=Zs(o.href),o=Ss(p).hoistableStyles,f=o.get(a),f||(f={type:"style",instance:null,count:0,state:null},o.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Zs(o.href);var g=Ss(p).hoistableStyles,x=g.get(i);if(x||(p=p.ownerDocument||p,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,x),(g=p.querySelector(vl(i)))&&!g._p&&(x.instance=g,x.state.loading=5),gn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},gn.set(i,o),g||NA(p,i,o,x.state))),a&&f===null)throw Error(r(528,""));return x}if(a&&f!==null)throw Error(r(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ea(o),o=Ss(p).hoistableScripts,f=o.get(a),f||(f={type:"script",instance:null,count:0,state:null},o.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Zs(i){return'href="'+on(i)+'"'}function vl(i){return'link[rel="stylesheet"]['+i+"]"}function Iv(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function NA(i,a,o,f){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=i.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),kt(a,"link",o),ht(a),i.head.appendChild(a))}function ea(i){return'[src="'+on(i)+'"]'}function xl(i){return"script[async]"+i}function Lv(i,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var f=i.querySelector('style[data-href~="'+on(o.href)+'"]');if(f)return a.instance=f,ht(f),f;var p=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),ht(f),kt(f,"style",p),Ic(f,o.precedence,i),a.instance=f;case"stylesheet":p=Zs(o.href);var g=i.querySelector(vl(p));if(g)return a.state.loading|=4,a.instance=g,ht(g),g;f=Iv(o),(p=gn.get(p))&&Qh(f,p),g=(i.ownerDocument||i).createElement("link"),ht(g);var x=g;return x._p=new Promise(function(k,A){x.onload=k,x.onerror=A}),kt(g,"link",f),a.state.loading|=4,Ic(g,o.precedence,i),a.instance=g;case"script":return g=ea(o.src),(p=i.querySelector(xl(g)))?(a.instance=p,ht(p),p):(f=o,(p=gn.get(g))&&(f=y({},o),Zh(f,p)),i=i.ownerDocument||i,p=i.createElement("script"),ht(p),kt(p,"link",f),i.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,Ic(f,o.precedence,i));return a.instance}function Ic(i,a,o){for(var f=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=f.length?f[f.length-1]:null,g=p,x=0;x<f.length;x++){var k=f[x];if(k.dataset.precedence===a)g=k;else if(g!==p)break}g?g.parentNode.insertBefore(i,g.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(i,a.firstChild))}function Qh(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Zh(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Lc=null;function zv(i,a,o){if(Lc===null){var f=new Map,p=Lc=new Map;p.set(o,f)}else p=Lc,f=p.get(o),f||(f=new Map,p.set(o,f));if(f.has(i))return f;for(f.set(i,null),o=o.getElementsByTagName(i),p=0;p<o.length;p++){var g=o[p];if(!(g[za]||g[vt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var x=g.getAttribute(a)||"";x=i+x;var k=f.get(x);k?k.push(g):f.set(x,[g])}}return f}function jv(i,a,o){i=i.ownerDocument||i,i.head.insertBefore(o,a==="title"?i.querySelector("head > title"):null)}function MA(i,a,o){if(o===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Bv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function OA(i,a,o,f){if(o.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Zs(f.href),g=a.querySelector(vl(p));if(g){a=g._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=zc.bind(i),a.then(i,i)),o.state.loading|=4,o.instance=g,ht(g);return}g=a.ownerDocument||a,f=Iv(f),(p=gn.get(p))&&Qh(f,p),g=g.createElement("link"),ht(g);var x=g;x._p=new Promise(function(k,A){x.onload=k,x.onerror=A}),kt(g,"link",f),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=zc.bind(i),a.addEventListener("load",o),a.addEventListener("error",o))}}var ep=0;function RA(i,a){return i.stylesheets&&i.count===0&&Bc(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var f=setTimeout(function(){if(i.stylesheets&&Bc(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+a);0<i.imgBytes&&ep===0&&(ep=62500*fA());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Bc(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>ep?50:800)+a);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(f),clearTimeout(p)}}:null}function zc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bc(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var jc=null;function Bc(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,jc=new Map,a.forEach(DA,i),jc=null,zc.call(i))}function DA(i,a){if(!(a.state.loading&4)){var o=jc.get(i);if(o)var f=o.get(null);else{o=new Map,jc.set(i,o);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var x=p[g];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(o.set(x.dataset.precedence,x),f=x)}f&&o.set(null,f)}p=a.instance,x=p.getAttribute("data-precedence"),g=o.get(x)||f,g===f&&o.set(null,p),o.set(x,p),this.count++,f=zc.bind(this),p.addEventListener("load",f),p.addEventListener("error",f),g?g.parentNode.insertBefore(p,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),a.state.loading|=4}}var Sl={$$typeof:B,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function _A(i,a,o,f,p,g,x,k,A){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wf(0),this.hiddenUpdates=Wf(null),this.identifierPrefix=f,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Uv(i,a,o,f,p,g,x,k,A,_,U,$){return i=new _A(i,a,o,x,A,_,U,$,k),a=1,g===!0&&(a|=24),g=Jt(3,null,null,a),i.current=g,g.stateNode=i,a=_d(),a.refCount++,i.pooledCache=a,a.refCount++,g.memoizedState={element:f,isDehydrated:o,cache:a},jd(g),i}function Pv(i){return i?(i=Rs,i):Rs}function Hv(i,a,o,f,p,g){p=Pv(p),f.context===null?f.context=p:f.pendingContext=p,f=Lr(a),f.payload={element:o},g=g===void 0?null:g,g!==null&&(f.callback=g),o=zr(i,f,a),o!==null&&($t(o,i,a),Za(o,i,a))}function Vv(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<a?o:a}}function tp(i,a){Vv(i,a),(i=i.alternate)&&Vv(i,a)}function $v(i){if(i.tag===13||i.tag===31){var a=ji(i,67108864);a!==null&&$t(a,i,67108864),tp(i,67108864)}}function qv(i){if(i.tag===13||i.tag===31){var a=tn();a=Jf(a);var o=ji(i,a);o!==null&&$t(o,i,a),tp(i,a)}}var Uc=!0;function IA(i,a,o,f){var p=z.T;z.T=null;var g=J.p;try{J.p=2,np(i,a,o,f)}finally{J.p=g,z.T=p}}function LA(i,a,o,f){var p=z.T;z.T=null;var g=J.p;try{J.p=8,np(i,a,o,f)}finally{J.p=g,z.T=p}}function np(i,a,o,f){if(Uc){var p=rp(f);if(p===null)Vh(i,a,f,Pc,o),Kv(i,f);else if(jA(p,i,a,o,f))f.stopPropagation();else if(Kv(i,f),a&4&&-1<zA.indexOf(i)){for(;p!==null;){var g=xs(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var x=Di(g.pendingLanes);if(x!==0){var k=g;for(k.pendingLanes|=2,k.entangledLanes|=2;x;){var A=1<<31-Yt(x);k.entanglements[1]|=A,x&=~A}Bn(g),(Re&6)===0&&(Ec=Kt()+500,ml(0))}}break;case 31:case 13:k=ji(g,2),k!==null&&$t(k,g,2),Tc(),tp(g,2)}if(g=rp(f),g===null&&Vh(i,a,f,Pc,o),g===p)break;p=g}p!==null&&f.stopPropagation()}else Vh(i,a,f,null,o)}}function rp(i){return i=sd(i),ip(i)}var Pc=null;function ip(i){if(Pc=null,i=vs(i),i!==null){var a=l(i);if(a===null)i=null;else{var o=a.tag;if(o===13){if(i=c(a),i!==null)return i;i=null}else if(o===31){if(i=u(a),i!==null)return i;i=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Pc=i,null}function Fv(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(SC()){case Zg:return 2;case e0:return 8;case Mo:case EC:return 32;case t0:return 268435456;default:return 32}default:return 32}}var sp=!1,Gr=null,Yr=null,Wr=null,El=new Map,kl=new Map,Jr=[],zA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kv(i,a){switch(i){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":El.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(a.pointerId)}}function Tl(i,a,o,f,p,g){return i===null||i.nativeEvent!==g?(i={blockedOn:a,domEventName:o,eventSystemFlags:f,nativeEvent:g,targetContainers:[p]},a!==null&&(a=xs(a),a!==null&&$v(a)),i):(i.eventSystemFlags|=f,a=i.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),i)}function jA(i,a,o,f,p){switch(a){case"focusin":return Gr=Tl(Gr,i,a,o,f,p),!0;case"dragenter":return Yr=Tl(Yr,i,a,o,f,p),!0;case"mouseover":return Wr=Tl(Wr,i,a,o,f,p),!0;case"pointerover":var g=p.pointerId;return El.set(g,Tl(El.get(g)||null,i,a,o,f,p)),!0;case"gotpointercapture":return g=p.pointerId,kl.set(g,Tl(kl.get(g)||null,i,a,o,f,p)),!0}return!1}function Gv(i){var a=vs(i.target);if(a!==null){var o=l(a);if(o!==null){if(a=o.tag,a===13){if(a=c(o),a!==null){i.blockedOn=a,l0(i.priority,function(){qv(o)});return}}else if(a===31){if(a=u(o),a!==null){i.blockedOn=a,l0(i.priority,function(){qv(o)});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Hc(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var o=rp(i.nativeEvent);if(o===null){o=i.nativeEvent;var f=new o.constructor(o.type,o);id=f,o.target.dispatchEvent(f),id=null}else return a=xs(o),a!==null&&$v(a),i.blockedOn=o,!1;a.shift()}return!0}function Yv(i,a,o){Hc(i)&&o.delete(a)}function BA(){sp=!1,Gr!==null&&Hc(Gr)&&(Gr=null),Yr!==null&&Hc(Yr)&&(Yr=null),Wr!==null&&Hc(Wr)&&(Wr=null),El.forEach(Yv),kl.forEach(Yv)}function Vc(i,a){i.blockedOn===a&&(i.blockedOn=null,sp||(sp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,BA)))}var $c=null;function Wv(i){$c!==i&&($c=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){$c===i&&($c=null);for(var a=0;a<i.length;a+=3){var o=i[a],f=i[a+1],p=i[a+2];if(typeof f!="function"){if(ip(f||o)===null)continue;break}var g=xs(o);g!==null&&(i.splice(a,3),a-=3,rh(g,{pending:!0,data:p,method:o.method,action:f},f,p))}}))}function ta(i){function a(A){return Vc(A,i)}Gr!==null&&Vc(Gr,i),Yr!==null&&Vc(Yr,i),Wr!==null&&Vc(Wr,i),El.forEach(a),kl.forEach(a);for(var o=0;o<Jr.length;o++){var f=Jr[o];f.blockedOn===i&&(f.blockedOn=null)}for(;0<Jr.length&&(o=Jr[0],o.blockedOn===null);)Gv(o),o.blockedOn===null&&Jr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(f=0;f<o.length;f+=3){var p=o[f],g=o[f+1],x=p[jt]||null;if(typeof g=="function")x||Wv(o);else if(x){var k=null;if(g&&g.hasAttribute("formAction")){if(p=g,x=g[jt]||null)k=x.formAction;else if(ip(p)!==null)continue}else k=x.action;typeof k=="function"?o[f+1]=k:(o.splice(f,3),f-=3),Wv(o)}}}function Jv(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(x){return p=x})},focusReset:"manual",scroll:"manual"})}function a(){p!==null&&(p(),p=null),f||setTimeout(o,20)}function o(){if(!f&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(o,100),function(){f=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),p!==null&&(p(),p=null)}}}function ap(i){this._internalRoot=i}qc.prototype.render=ap.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var o=a.current,f=tn();Hv(o,f,i,a,null,null)},qc.prototype.unmount=ap.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Hv(i.current,2,null,i,null,null),Tc(),a[bs]=null}};function qc(i){this._internalRoot=i}qc.prototype.unstable_scheduleHydration=function(i){if(i){var a=a0();i={blockedOn:null,target:i,priority:a};for(var o=0;o<Jr.length&&a!==0&&a<Jr[o].priority;o++);Jr.splice(o,0,i),o===0&&Gv(i)}};var Xv=e.version;if(Xv!=="19.2.0")throw Error(r(527,Xv,"19.2.0"));J.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(a),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var UA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fc.isDisabled&&Fc.supportsFiber)try{_a=Fc.inject(UA),Gt=Fc}catch{}}return wl.createRoot=function(i,a){if(!s(i))throw Error(r(299));var o=!1,f="",p=ib,g=sb,x=ab;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=Uv(i,1,!1,null,null,o,f,null,p,g,x,Jv),i[bs]=a.current,Hh(i),new ap(a)},wl.hydrateRoot=function(i,a,o){if(!s(i))throw Error(r(299));var f=!1,p="",g=ib,x=sb,k=ab,A=null;return o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError),o.formState!==void 0&&(A=o.formState)),a=Uv(i,1,!0,a,o??null,f,p,A,g,x,k,Jv),a.context=Pv(null),o=a.current,f=tn(),f=Jf(f),p=Lr(f),p.callback=null,zr(o,p,f),o=f,a.current.lanes=o,La(a,o),Bn(a),i[bs]=a.current,Hh(i),new qc(a)},wl.version="19.2.0",wl}var l1;function YA(){if(l1)return cp.exports;l1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),cp.exports=GA(),cp.exports}var WA=YA();const JA=gf(WA);var o1="popstate";function XA(n={}){function e(r,s){let{pathname:l,search:c,hash:u}=r.location;return tm("",{pathname:l,search:c,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Wl(s)}return ZA(e,t,null,n)}function Ye(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function sn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QA(){return Math.random().toString(36).substring(2,10)}function c1(n,e){return{usr:n.state,key:n.key,idx:e}}function tm(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?wa(e):e,state:t,key:e&&e.key||r||QA()}}function Wl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function wa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function ZA(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:l=!1}=r,c=s.history,u="POP",d=null,h=m();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function m(){return(c.state||{idx:null}).idx}function y(){u="POP";let C=m(),w=C==null?null:C-h;h=C,d&&d({action:u,location:T.location,delta:w})}function b(C,w){u="PUSH";let I=tm(T.location,C,w);h=m()+1;let B=c1(I,h),F=T.createHref(I);try{c.pushState(B,"",F)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;s.location.assign(F)}l&&d&&d({action:u,location:T.location,delta:1})}function v(C,w){u="REPLACE";let I=tm(T.location,C,w);h=m();let B=c1(I,h),F=T.createHref(I);c.replaceState(B,"",F),l&&d&&d({action:u,location:T.location,delta:0})}function S(C){return eN(C)}let T={get action(){return u},get location(){return n(s,c)},listen(C){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(o1,y),d=C,()=>{s.removeEventListener(o1,y),d=null}},createHref(C){return e(s,C)},createURL:S,encodeLocation(C){let w=S(C);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:b,replace:v,go(C){return c.go(C)}};return T}function eN(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ye(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Wl(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function kS(n,e,t="/"){return tN(n,e,t,!1)}function tN(n,e,t,r){let s=typeof e=="string"?wa(e):e,l=Er(s.pathname||"/",t);if(l==null)return null;let c=TS(n);nN(c);let u=null;for(let d=0;u==null&&d<c.length;++d){let h=hN(l);u=fN(c[d],h,r)}return u}function TS(n,e=[],t=[],r="",s=!1){let l=(c,u,d=s,h)=>{let m={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&d)return;Ye(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let y=vr([r,m.relativePath]),b=t.concat(m);c.children&&c.children.length>0&&(Ye(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),TS(c.children,e,b,y,d)),!(c.path==null&&!c.index)&&e.push({path:y,score:cN(y,c.index),routesMeta:b})};return n.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))l(c,u);else for(let d of CS(c.path))l(c,u,!0,d)}),e}function CS(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return s?[l,""]:[l];let c=CS(r.join("/")),u=[];return u.push(...c.map(d=>d===""?l:[l,d].join("/"))),s&&u.push(...c),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function nN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:uN(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var rN=/^:[\w-]+$/,iN=3,sN=2,aN=1,lN=10,oN=-2,u1=n=>n==="*";function cN(n,e){let t=n.split("/"),r=t.length;return t.some(u1)&&(r+=oN),e&&(r+=sN),t.filter(s=>!u1(s)).reduce((s,l)=>s+(rN.test(l)?iN:l===""?aN:lN),r)}function uN(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function fN(n,e,t=!1){let{routesMeta:r}=n,s={},l="/",c=[];for(let u=0;u<r.length;++u){let d=r[u],h=u===r.length-1,m=l==="/"?e:e.slice(l.length)||"/",y=bu({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),b=d.route;if(!y&&h&&t&&!r[r.length-1].route.index&&(y=bu({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!y)return null;Object.assign(s,y.params),c.push({params:s,pathname:vr([l,y.pathname]),pathnameBase:bN(vr([l,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(l=vr([l,y.pathnameBase]))}return c}function bu(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=dN(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:y},b)=>{if(m==="*"){let S=u[b]||"";c=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const v=u[b];return y&&!v?h[m]=void 0:h[m]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:c,pattern:n}}function dN(n,e=!1,t=!0){sn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function hN(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Er(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var pN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mN=n=>pN.test(n);function gN(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?wa(n):n,l;if(t)if(mN(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),sn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=f1(t.substring(1),"/"):l=f1(t,e)}else l=e;return{pathname:l,search:vN(r),hash:xN(s)}}function f1(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function hp(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yN(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function qm(n){let e=yN(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Fm(n,e,t,r=!1){let s;typeof n=="string"?s=wa(n):(s={...n},Ye(!s.pathname||!s.pathname.includes("?"),hp("?","pathname","search",s)),Ye(!s.pathname||!s.pathname.includes("#"),hp("#","pathname","hash",s)),Ye(!s.search||!s.search.includes("#"),hp("#","search","hash",s)));let l=n===""||s.pathname==="",c=l?"/":s.pathname,u;if(c==null)u=t;else{let y=e.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),y-=1;s.pathname=b.join("/")}u=y>=0?e[y]:"/"}let d=gN(s,u),h=c&&c!=="/"&&c.endsWith("/"),m=(l||c===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var vr=n=>n.join("/").replace(/\/\/+/g,"/"),bN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),vN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,xN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function SN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var wS=["POST","PUT","PATCH","DELETE"];new Set(wS);var EN=["GET",...wS];new Set(EN);var Aa=O.createContext(null);Aa.displayName="DataRouter";var yf=O.createContext(null);yf.displayName="DataRouterState";O.createContext(!1);var AS=O.createContext({isTransitioning:!1});AS.displayName="ViewTransition";var kN=O.createContext(new Map);kN.displayName="Fetchers";var TN=O.createContext(null);TN.displayName="Await";var Dn=O.createContext(null);Dn.displayName="Navigation";var ho=O.createContext(null);ho.displayName="Location";var _n=O.createContext({outlet:null,matches:[],isDataRoute:!1});_n.displayName="Route";var Km=O.createContext(null);Km.displayName="RouteError";function CN(n,{relative:e}={}){Ye(Na(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=O.useContext(Dn),{hash:s,pathname:l,search:c}=po(n,{relative:e}),u=l;return t!=="/"&&(u=l==="/"?t:vr([t,l])),r.createHref({pathname:u,search:c,hash:s})}function Na(){return O.useContext(ho)!=null}function In(){return Ye(Na(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(ho).location}var NS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function MS(n){O.useContext(Dn).static||O.useLayoutEffect(n)}function Ci(){let{isDataRoute:n}=O.useContext(_n);return n?UN():wN()}function wN(){Ye(Na(),"useNavigate() may be used only in the context of a <Router> component.");let n=O.useContext(Aa),{basename:e,navigator:t}=O.useContext(Dn),{matches:r}=O.useContext(_n),{pathname:s}=In(),l=JSON.stringify(qm(r)),c=O.useRef(!1);return MS(()=>{c.current=!0}),O.useCallback((d,h={})=>{if(sn(c.current,NS),!c.current)return;if(typeof d=="number"){t.go(d);return}let m=Fm(d,JSON.parse(l),s,h.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:vr([e,m.pathname])),(h.replace?t.replace:t.push)(m,h.state,h)},[e,t,l,s,n])}O.createContext(null);function AN(){let{matches:n}=O.useContext(_n),e=n[n.length-1];return e?e.params:{}}function po(n,{relative:e}={}){let{matches:t}=O.useContext(_n),{pathname:r}=In(),s=JSON.stringify(qm(t));return O.useMemo(()=>Fm(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function NN(n,e){return OS(n,e)}function OS(n,e,t,r,s){Ye(Na(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=O.useContext(Dn),{matches:c}=O.useContext(_n),u=c[c.length-1],d=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",y=u&&u.route;{let I=y&&y.path||"";RS(h,!y||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let b=In(),v;if(e){let I=typeof e=="string"?wa(e):e;Ye(m==="/"||I.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${I.pathname}" was given in the \`location\` prop.`),v=I}else v=b;let S=v.pathname||"/",T=S;if(m!=="/"){let I=m.replace(/^\//,"").split("/");T="/"+S.replace(/^\//,"").split("/").slice(I.length).join("/")}let C=kS(n,{pathname:T});sn(y||C!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),sn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=_N(C&&C.map(I=>Object.assign({},I,{params:Object.assign({},d,I.params),pathname:vr([m,l.encodeLocation?l.encodeLocation(I.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?m:vr([m,l.encodeLocation?l.encodeLocation(I.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathnameBase])})),c,t,r,s);return e&&w?O.createElement(ho.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},w):w}function MN(){let n=BN(),e=SN(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:l},"ErrorBoundary")," or"," ",O.createElement("code",{style:l},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:s},t):null,c)}var ON=O.createElement(MN,null),RN=class extends O.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?O.createElement(_n.Provider,{value:this.props.routeContext},O.createElement(Km.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function DN({routeContext:n,match:e,children:t}){let r=O.useContext(Aa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(_n.Provider,{value:n},t)}function _N(n,e=[],t=null,r=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=t?.errors;if(c!=null){let m=l.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);Ye(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let u=!1,d=-1;if(t)for(let m=0;m<l.length;m++){let y=l[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=m),y.route.id){let{loaderData:b,errors:v}=t,S=y.route.loader&&!b.hasOwnProperty(y.route.id)&&(!v||v[y.route.id]===void 0);if(y.route.lazy||S){u=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let h=t&&r?(m,y)=>{r(m,{location:t.location,params:t.matches?.[0]?.params??{},errorInfo:y})}:void 0;return l.reduceRight((m,y,b)=>{let v,S=!1,T=null,C=null;t&&(v=c&&y.route.id?c[y.route.id]:void 0,T=y.route.errorElement||ON,u&&(d<0&&b===0?(RS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,C=null):d===b&&(S=!0,C=y.route.hydrateFallbackElement||null)));let w=e.concat(l.slice(0,b+1)),I=()=>{let B;return v?B=T:S?B=C:y.route.Component?B=O.createElement(y.route.Component,null):y.route.element?B=y.route.element:B=m,O.createElement(DN,{match:y,routeContext:{outlet:m,matches:w,isDataRoute:t!=null},children:B})};return t&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?O.createElement(RN,{location:t.location,revalidation:t.revalidation,component:T,error:v,children:I(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:h}):I()},null)}function Gm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IN(n){let e=O.useContext(Aa);return Ye(e,Gm(n)),e}function LN(n){let e=O.useContext(yf);return Ye(e,Gm(n)),e}function zN(n){let e=O.useContext(_n);return Ye(e,Gm(n)),e}function Ym(n){let e=zN(n),t=e.matches[e.matches.length-1];return Ye(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function jN(){return Ym("useRouteId")}function BN(){let n=O.useContext(Km),e=LN("useRouteError"),t=Ym("useRouteError");return n!==void 0?n:e.errors?.[t]}function UN(){let{router:n}=IN("useNavigate"),e=Ym("useNavigate"),t=O.useRef(!1);return MS(()=>{t.current=!0}),O.useCallback(async(s,l={})=>{sn(t.current,NS),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...l}))},[n,e])}var d1={};function RS(n,e,t){!e&&!d1[n]&&(d1[n]=!0,sn(!1,t))}O.memo(PN);function PN({routes:n,future:e,state:t,unstable_onError:r}){return OS(n,void 0,t,r,e)}function HN({to:n,replace:e,state:t,relative:r}){Ye(Na(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=O.useContext(Dn);sn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=O.useContext(_n),{pathname:c}=In(),u=Ci(),d=Fm(n,qm(l),c,r==="path"),h=JSON.stringify(d);return O.useEffect(()=>{u(JSON.parse(h),{replace:e,state:t,relative:r})},[u,h,r,e,t]),null}function ei(n){Ye(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function VN({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:l=!1}){Ye(!Na(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof t=="string"&&(t=wa(t));let{pathname:d="/",search:h="",hash:m="",state:y=null,key:b="default"}=t,v=O.useMemo(()=>{let S=Er(d,c);return S==null?null:{location:{pathname:S,search:h,hash:m,state:y,key:b},navigationType:r}},[c,d,h,m,y,b,r]);return sn(v!=null,`<Router basename="${c}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:O.createElement(Dn.Provider,{value:u},O.createElement(ho.Provider,{children:e,value:v}))}function $N({children:n,location:e}){return NN(nm(n),e)}function nm(n,e=[]){let t=[];return O.Children.forEach(n,(r,s)=>{if(!O.isValidElement(r))return;let l=[...e,s];if(r.type===O.Fragment){t.push.apply(t,nm(r.props.children,l));return}Ye(r.type===ei,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ye(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=nm(r.props.children,l)),t.push(c)}),t}var su="get",au="application/x-www-form-urlencoded";function bf(n){return n!=null&&typeof n.tagName=="string"}function qN(n){return bf(n)&&n.tagName.toLowerCase()==="button"}function FN(n){return bf(n)&&n.tagName.toLowerCase()==="form"}function KN(n){return bf(n)&&n.tagName.toLowerCase()==="input"}function GN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function YN(n,e){return n.button===0&&(!e||e==="_self")&&!GN(n)}function rm(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(s=>[t,s]):[[t,r]])},[]))}function WN(n,e){let t=rm(n);return e&&e.forEach((r,s)=>{t.has(s)||e.getAll(s).forEach(l=>{t.append(s,l)})}),t}var Kc=null;function JN(){if(Kc===null)try{new FormData(document.createElement("form"),0),Kc=!1}catch{Kc=!0}return Kc}var XN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pp(n){return n!=null&&!XN.has(n)?(sn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${au}"`),null):n}function QN(n,e){let t,r,s,l,c;if(FN(n)){let u=n.getAttribute("action");r=u?Er(u,e):null,t=n.getAttribute("method")||su,s=pp(n.getAttribute("enctype"))||au,l=new FormData(n)}else if(qN(n)||KN(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(r=d?Er(d,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||su,s=pp(n.getAttribute("formenctype"))||pp(u.getAttribute("enctype"))||au,l=new FormData(u,n),!JN()){let{name:h,type:m,value:y}=n;if(m==="image"){let b=h?`${h}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else h&&l.append(h,y)}}else{if(bf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=su,r=null,s=au,c=n}return l&&s==="text/plain"&&(c=l,l=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ZN(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Er(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function eM(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tM(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function nM(n,e,t){let r=await Promise.all(n.map(async s=>{let l=e.routes[s.route.id];if(l){let c=await eM(l,t);return c.links?c.links():[]}return[]}));return aM(r.flat(1).filter(tM).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function h1(n,e,t,r,s,l){let c=(d,h)=>t[h]?d.route.id!==t[h].route.id:!0,u=(d,h)=>t[h].pathname!==d.pathname||t[h].route.path?.endsWith("*")&&t[h].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,h)=>c(d,h)||u(d,h)):l==="data"?e.filter((d,h)=>{let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(c(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function rM(n,e,{includeHydrateFallback:t}={}){return iM(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function iM(n){return[...new Set(n)]}function sM(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function aM(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let l=JSON.stringify(sM(s));return t.has(l)||(t.add(l),r.push({key:l,link:s})),r},[])}function DS(){let n=O.useContext(Aa);return Wm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function lM(){let n=O.useContext(yf);return Wm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Jm=O.createContext(void 0);Jm.displayName="FrameworkContext";function _S(){let n=O.useContext(Jm);return Wm(n,"You must render this element inside a <HydratedRouter> element"),n}function oM(n,e){let t=O.useContext(Jm),[r,s]=O.useState(!1),[l,c]=O.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:y}=e,b=O.useRef(null);O.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let T=w=>{w.forEach(I=>{c(I.isIntersecting)})},C=new IntersectionObserver(T,{threshold:.5});return b.current&&C.observe(b.current),()=>{C.disconnect()}}},[n]),O.useEffect(()=>{if(r){let T=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(T)}}},[r]);let v=()=>{s(!0)},S=()=>{s(!1),c(!1)};return t?n!=="intent"?[l,b,{}]:[l,b,{onFocus:Al(u,v),onBlur:Al(d,S),onMouseEnter:Al(h,v),onMouseLeave:Al(m,S),onTouchStart:Al(y,v)}]:[!1,b,{}]}function Al(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function cM({page:n,...e}){let{router:t}=DS(),r=O.useMemo(()=>kS(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?O.createElement(fM,{page:n,matches:r,...e}):null}function uM(n){let{manifest:e,routeModules:t}=_S(),[r,s]=O.useState([]);return O.useEffect(()=>{let l=!1;return nM(n,e,t).then(c=>{l||s(c)}),()=>{l=!0}},[n,e,t]),r}function fM({page:n,matches:e,...t}){let r=In(),{manifest:s,routeModules:l}=_S(),{basename:c}=DS(),{loaderData:u,matches:d}=lM(),h=O.useMemo(()=>h1(n,e,d,s,r,"data"),[n,e,d,s,r]),m=O.useMemo(()=>h1(n,e,d,s,r,"assets"),[n,e,d,s,r]),y=O.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let S=new Set,T=!1;if(e.forEach(w=>{let I=s.routes[w.route.id];!I||!I.hasLoader||(!h.some(B=>B.route.id===w.route.id)&&w.route.id in u&&l[w.route.id]?.shouldRevalidate||I.hasClientLoader?T=!0:S.add(w.route.id))}),S.size===0)return[];let C=ZN(n,c,"data");return T&&S.size>0&&C.searchParams.set("_routes",e.filter(w=>S.has(w.route.id)).map(w=>w.route.id).join(",")),[C.pathname+C.search]},[c,u,r,s,h,e,n,l]),b=O.useMemo(()=>rM(m,s),[m,s]),v=uM(m);return O.createElement(O.Fragment,null,y.map(S=>O.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),b.map(S=>O.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),v.map(({key:S,link:T})=>O.createElement("link",{key:S,nonce:t.nonce,...T})))}function dM(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var IS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{IS&&(window.__reactRouterVersion="7.9.6")}catch{}function hM({basename:n,children:e,window:t}){let r=O.useRef();r.current==null&&(r.current=XA({window:t,v5Compat:!0}));let s=r.current,[l,c]=O.useState({action:s.action,location:s.location}),u=O.useCallback(d=>{O.startTransition(()=>c(d))},[c]);return O.useLayoutEffect(()=>s.listen(u),[s,u]),O.createElement(VN,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:s})}var LS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,On=O.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:l,replace:c,state:u,target:d,to:h,preventScrollReset:m,viewTransition:y,...b},v){let{basename:S}=O.useContext(Dn),T=typeof h=="string"&&LS.test(h),C,w=!1;if(typeof h=="string"&&T&&(C=h,IS))try{let ne=new URL(window.location.href),de=h.startsWith("//")?new URL(ne.protocol+h):new URL(h),Oe=Er(de.pathname,S);de.origin===ne.origin&&Oe!=null?h=Oe+de.search+de.hash:w=!0}catch{sn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=CN(h,{relative:s}),[B,F,q]=oM(r,b),W=gM(h,{replace:c,state:u,target:d,preventScrollReset:m,relative:s,viewTransition:y});function P(ne){e&&e(ne),ne.defaultPrevented||W(ne)}let ee=O.createElement("a",{...b,...q,href:C||I,onClick:w||l?e:P,ref:dM(v,F),target:d,"data-discover":!T&&t==="render"?"true":void 0});return B&&!T?O.createElement(O.Fragment,null,ee,O.createElement(cM,{page:I})):ee});On.displayName="Link";var ti=O.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:l,to:c,viewTransition:u,children:d,...h},m){let y=po(c,{relative:h.relative}),b=In(),v=O.useContext(yf),{navigator:S,basename:T}=O.useContext(Dn),C=v!=null&&SM(y)&&u===!0,w=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,I=b.pathname,B=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(I=I.toLowerCase(),B=B?B.toLowerCase():null,w=w.toLowerCase()),B&&T&&(B=Er(B,T)||B);const F=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let q=I===w||!s&&I.startsWith(w)&&I.charAt(F)==="/",W=B!=null&&(B===w||!s&&B.startsWith(w)&&B.charAt(w.length)==="/"),P={isActive:q,isPending:W,isTransitioning:C},ee=q?e:void 0,ne;typeof r=="function"?ne=r(P):ne=[r,q?"active":null,W?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let de=typeof l=="function"?l(P):l;return O.createElement(On,{...h,"aria-current":ee,className:ne,ref:m,style:de,to:c,viewTransition:u},typeof d=="function"?d(P):d)});ti.displayName="NavLink";var pM=O.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:l,method:c=su,action:u,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:y,...b},v)=>{let S=vM(),T=xM(u,{relative:h}),C=c.toLowerCase()==="get"?"get":"post",w=typeof u=="string"&&LS.test(u),I=B=>{if(d&&d(B),B.defaultPrevented)return;B.preventDefault();let F=B.nativeEvent.submitter,q=F?.getAttribute("formmethod")||c;S(F||B.currentTarget,{fetcherKey:e,method:q,navigate:t,replace:s,state:l,relative:h,preventScrollReset:m,viewTransition:y})};return O.createElement("form",{ref:v,method:C,action:T,onSubmit:r?d:I,...b,"data-discover":!w&&n==="render"?"true":void 0})});pM.displayName="Form";function mM(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zS(n){let e=O.useContext(Aa);return Ye(e,mM(n)),e}function gM(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:l,viewTransition:c}={}){let u=Ci(),d=In(),h=po(n,{relative:l});return O.useCallback(m=>{if(YN(m,e)){m.preventDefault();let y=t!==void 0?t:Wl(d)===Wl(h);u(n,{replace:y,state:r,preventScrollReset:s,relative:l,viewTransition:c})}},[d,u,h,t,r,e,n,s,l,c])}function jS(n){sn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=O.useRef(rm(n)),t=O.useRef(!1),r=In(),s=O.useMemo(()=>WN(r.search,t.current?null:e.current),[r.search]),l=Ci(),c=O.useCallback((u,d)=>{const h=rm(typeof u=="function"?u(new URLSearchParams(s)):u);t.current=!0,l("?"+h,d)},[l,s]);return[s,c]}var yM=0,bM=()=>`__${String(++yM)}__`;function vM(){let{router:n}=zS("useSubmit"),{basename:e}=O.useContext(Dn),t=jN();return O.useCallback(async(r,s={})=>{let{action:l,method:c,encType:u,formData:d,body:h}=QN(r,e);if(s.navigate===!1){let m=s.fetcherKey||bM();await n.fetch(m,t,s.action||l,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||c,formEncType:s.encType||u,flushSync:s.flushSync})}else await n.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||c,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function xM(n,{relative:e}={}){let{basename:t}=O.useContext(Dn),r=O.useContext(_n);Ye(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),l={...po(n||".",{relative:e})},c=In();if(n==null){l.search=c.search;let u=new URLSearchParams(l.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(y=>y).forEach(y=>u.append("index",y));let m=u.toString();l.search=m?`?${m}`:""}}return(!n||n===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:vr([t,l.pathname])),Wl(l)}function SM(n,{relative:e}={}){let t=O.useContext(AS);Ye(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=zS("useViewTransitionState"),s=po(n,{relative:e});if(!t.isTransitioning)return!1;let l=Er(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=Er(t.nextLocation.pathname,r)||t.nextLocation.pathname;return bu(s.pathname,c)!=null||bu(s.pathname,l)!=null}var EM=ES();const kM=gf(EM),TM=()=>{};var p1={};const BS=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},CM=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const l=n[t++];e[r++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=n[t++],c=n[t++],u=n[t++],d=((s&7)<<18|(l&63)<<12|(c&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const l=n[t++],c=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return e.join("")},US={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const l=n[s],c=s+1<n.length,u=c?n[s+1]:0,d=s+2<n.length,h=d?n[s+2]:0,m=l>>2,y=(l&3)<<4|u>>4;let b=(u&15)<<2|h>>6,v=h&63;d||(v=64,c||(b=64)),r.push(t[m],t[y],t[b],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(BS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):CM(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const l=t[n.charAt(s++)],u=s<n.length?t[n.charAt(s)]:0;++s;const h=s<n.length?t[n.charAt(s)]:64;++s;const y=s<n.length?t[n.charAt(s)]:64;if(++s,l==null||u==null||h==null||y==null)throw new wM;const b=l<<2|u>>4;if(r.push(b),h!==64){const v=u<<4&240|h>>2;if(r.push(v),y!==64){const S=h<<6&192|y;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class wM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AM=function(n){const e=BS(n);return US.encodeByteArray(e,!0)},PS=function(n){return AM(n).replace(/\./g,"")},HS=function(n){try{return US.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function NM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const MM=()=>NM().__FIREBASE_DEFAULTS__,OM=()=>{if(typeof process>"u"||typeof p1>"u")return;const n=p1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},RM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&HS(n[1]);return e&&JSON.parse(e)},Xm=()=>{try{return TM()||MM()||OM()||RM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},DM=n=>Xm()?.emulatorHosts?.[n],VS=()=>Xm()?.config,$S=n=>Xm()?.[`_${n}`];class _M{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function vf(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function IM(n){return(await fetch(n,{credentials:"include"})).ok}const jl={};function LM(){const n={prod:[],emulator:[]};for(const e of Object.keys(jl))jl[e]?n.emulator.push(e):n.prod.push(e);return n}function zM(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let m1=!1;function jM(n,e){if(typeof window>"u"||typeof document>"u"||!vf(window.location.host)||jl[n]===e||jl[n]||m1)return;jl[n]=e;function t(b){return`__firebase__banner__${b}`}const r="__firebase__banner",l=LM().prod.length>0;function c(){const b=document.getElementById(r);b&&b.remove()}function u(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,v){b.setAttribute("width","24"),b.setAttribute("id",v),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function h(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{m1=!0,c()},b}function m(b,v){b.setAttribute("id",v),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function y(){const b=zM(r),v=t("text"),S=document.getElementById(v)||document.createElement("span"),T=t("learnmore"),C=document.getElementById(T)||document.createElement("a"),w=t("preprendIcon"),I=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const B=b.element;u(B),m(C,T);const F=h();d(I,w),B.append(I,S,C,F),document.body.appendChild(B)}l?(S.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function UM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PM(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function HM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VM(){const n=It();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function $M(){try{return typeof indexedDB=="object"}catch{return!1}}function qM(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}const FM="FirebaseError";class wi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=FM,Object.setPrototypeOf(this,wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mo.prototype.create)}}class mo{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],c=l?KM(l,r):"Error",u=`${this.serviceName}: ${c} (${s}).`;return new wi(s,u,r)}}function KM(n,e){return n.replace(GM,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const GM=/\{\$([^}]+)}/g;function YM(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ga(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const l=n[s],c=e[s];if(g1(l)&&g1(c)){if(!ga(l,c))return!1}else if(l!==c)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function g1(n){return n!==null&&typeof n=="object"}function go(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Rl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,l]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(l)}}),e}function Dl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function WM(n,e){const t=new JM(n,e);return t.subscribe.bind(t)}class JM{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");XM(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=mp),s.error===void 0&&(s.error=mp),s.complete===void 0&&(s.complete=mp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XM(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function mp(){}function Cr(n){return n&&n._delegate?n._delegate:n}class ya{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xi="[DEFAULT]";class QM{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new _M;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eO(e))try{this.getOrInitializeService({instanceIdentifier:Xi})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});r.resolve(l)}catch{}}}}clearInstance(e=Xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xi){return this.instances.has(e)}getOptions(e=Xi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(l);r===u&&c.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const l=this.instances.get(r);return l&&e(l,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZM(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xi){return this.component?this.component.multipleInstances?e:Xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZM(n){return n===Xi?void 0:n}function eO(n){return n.instantiationMode==="EAGER"}class tO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new QM(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const nO={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},rO=Ve.INFO,iO={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},sO=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=iO[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qS{constructor(e){this.name=e,this._logLevel=rO,this._logHandler=sO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const aO=(n,e)=>e.some(t=>n instanceof t);let y1,b1;function lO(){return y1||(y1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oO(){return b1||(b1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FS=new WeakMap,im=new WeakMap,KS=new WeakMap,gp=new WeakMap,Qm=new WeakMap;function cO(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(mi(n.result)),s()},c=()=>{r(n.error),s()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&FS.set(t,n)}).catch(()=>{}),Qm.set(e,n),e}function uO(n){if(im.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),s()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});im.set(n,e)}let sm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return im.get(n);if(e==="objectStoreNames")return n.objectStoreNames||KS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return mi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function fO(n){sm=n(sm)}function dO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(yp(this),e,...t);return KS.set(r,e.sort?e.sort():[e]),mi(r)}:oO().includes(n)?function(...e){return n.apply(yp(this),e),mi(FS.get(this))}:function(...e){return mi(n.apply(yp(this),e))}}function hO(n){return typeof n=="function"?dO(n):(n instanceof IDBTransaction&&uO(n),aO(n,lO())?new Proxy(n,sm):n)}function mi(n){if(n instanceof IDBRequest)return cO(n);if(gp.has(n))return gp.get(n);const e=hO(n);return e!==n&&(gp.set(n,e),Qm.set(e,n)),e}const yp=n=>Qm.get(n);function pO(n,e,{blocked:t,upgrade:r,blocking:s,terminated:l}={}){const c=indexedDB.open(n,e),u=mi(c);return r&&c.addEventListener("upgradeneeded",d=>{r(mi(c.result),d.oldVersion,d.newVersion,mi(c.transaction),d)}),t&&c.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{l&&d.addEventListener("close",()=>l()),s&&d.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const mO=["get","getKey","getAll","getAllKeys","count"],gO=["put","add","delete","clear"],bp=new Map;function v1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(bp.get(e))return bp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=gO.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||mO.includes(t)))return;const l=async function(c,...u){const d=this.transaction(c,s?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[t](...u),s&&d.done]))[0]};return bp.set(e,l),l}fO(n=>({...n,get:(e,t,r)=>v1(e,t)||n.get(e,t,r),has:(e,t)=>!!v1(e,t)||n.has(e,t)}));class yO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(bO(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function bO(n){return n.getComponent()?.type==="VERSION"}const am="@firebase/app",x1="0.14.6";const kr=new qS("@firebase/app"),vO="@firebase/app-compat",xO="@firebase/analytics-compat",SO="@firebase/analytics",EO="@firebase/app-check-compat",kO="@firebase/app-check",TO="@firebase/auth",CO="@firebase/auth-compat",wO="@firebase/database",AO="@firebase/data-connect",NO="@firebase/database-compat",MO="@firebase/functions",OO="@firebase/functions-compat",RO="@firebase/installations",DO="@firebase/installations-compat",_O="@firebase/messaging",IO="@firebase/messaging-compat",LO="@firebase/performance",zO="@firebase/performance-compat",jO="@firebase/remote-config",BO="@firebase/remote-config-compat",UO="@firebase/storage",PO="@firebase/storage-compat",HO="@firebase/firestore",VO="@firebase/ai",$O="@firebase/firestore-compat",qO="firebase",FO="12.6.0";const lm="[DEFAULT]",KO={[am]:"fire-core",[vO]:"fire-core-compat",[SO]:"fire-analytics",[xO]:"fire-analytics-compat",[kO]:"fire-app-check",[EO]:"fire-app-check-compat",[TO]:"fire-auth",[CO]:"fire-auth-compat",[wO]:"fire-rtdb",[AO]:"fire-data-connect",[NO]:"fire-rtdb-compat",[MO]:"fire-fn",[OO]:"fire-fn-compat",[RO]:"fire-iid",[DO]:"fire-iid-compat",[_O]:"fire-fcm",[IO]:"fire-fcm-compat",[LO]:"fire-perf",[zO]:"fire-perf-compat",[jO]:"fire-rc",[BO]:"fire-rc-compat",[UO]:"fire-gcs",[PO]:"fire-gcs-compat",[HO]:"fire-fst",[$O]:"fire-fst-compat",[VO]:"fire-vertex","fire-js":"fire-js",[qO]:"fire-js-all"};const vu=new Map,GO=new Map,om=new Map;function S1(n,e){try{n.container.addComponent(e)}catch(t){kr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Jl(n){const e=n.name;if(om.has(e))return kr.debug(`There were multiple attempts to register component ${e}.`),!1;om.set(e,n);for(const t of vu.values())S1(t,n);for(const t of GO.values())S1(t,n);return!0}function GS(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Vn(n){return n==null?!1:n.settings!==void 0}const YO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gi=new mo("app","Firebase",YO);class WO{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}}const yo=FO;function YS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:lm,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw gi.create("bad-app-name",{appName:String(s)});if(t||(t=VS()),!t)throw gi.create("no-options");const l=vu.get(s);if(l){if(ga(t,l.options)&&ga(r,l.config))return l;throw gi.create("duplicate-app",{appName:s})}const c=new tO(s);for(const d of om.values())c.addComponent(d);const u=new WO(t,r,c);return vu.set(s,u),u}function JO(n=lm){const e=vu.get(n);if(!e&&n===lm&&VS())return YS();if(!e)throw gi.create("no-app",{appName:n});return e}function ua(n,e,t){let r=KO[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const c=[`Unable to register library "${r}" with version "${e}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),kr.warn(c.join(" "));return}Jl(new ya(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const XO="firebase-heartbeat-database",QO=1,Xl="firebase-heartbeat-store";let vp=null;function WS(){return vp||(vp=pO(XO,QO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Xl)}catch(t){console.warn(t)}}}}).catch(n=>{throw gi.create("idb-open",{originalErrorMessage:n.message})})),vp}async function ZO(n){try{const t=(await WS()).transaction(Xl),r=await t.objectStore(Xl).get(JS(n));return await t.done,r}catch(e){if(e instanceof wi)kr.warn(e.message);else{const t=gi.create("idb-get",{originalErrorMessage:e?.message});kr.warn(t.message)}}}async function E1(n,e){try{const r=(await WS()).transaction(Xl,"readwrite");await r.objectStore(Xl).put(e,JS(n)),await r.done}catch(t){if(t instanceof wi)kr.warn(t.message);else{const r=gi.create("idb-set",{originalErrorMessage:t?.message});kr.warn(r.message)}}}function JS(n){return`${n.name}!${n.options.appId}`}const e2=1024,t2=30;class n2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new i2(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=k1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>t2){const s=s2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){kr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=k1(),{heartbeatsToSend:t,unsentEntries:r}=r2(this._heartbeatsCache.heartbeats),s=PS(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return kr.warn(e),""}}}function k1(){return new Date().toISOString().substring(0,10)}function r2(n,e=e2){const t=[];let r=n.slice();for(const s of n){const l=t.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),T1(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),T1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class i2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $M()?qM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await ZO(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return E1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return E1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function T1(n){return PS(JSON.stringify({version:2,heartbeats:n})).length}function s2(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function a2(n){Jl(new ya("platform-logger",e=>new yO(e),"PRIVATE")),Jl(new ya("heartbeat",e=>new n2(e),"PRIVATE")),ua(am,x1,n),ua(am,x1,"esm2020"),ua("fire-js","")}a2("");function XS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const l2=XS,QS=new mo("auth","Firebase",XS());const xu=new qS("@firebase/auth");function o2(n,...e){xu.logLevel<=Ve.WARN&&xu.warn(`Auth (${yo}): ${n}`,...e)}function lu(n,...e){xu.logLevel<=Ve.ERROR&&xu.error(`Auth (${yo}): ${n}`,...e)}function Rn(n,...e){throw Zm(n,...e)}function $n(n,...e){return Zm(n,...e)}function ZS(n,e,t){const r={...l2(),[e]:t};return new mo("auth","Firebase",r).create(e,{appName:n.name})}function yi(n){return ZS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return QS.create(n,...e)}function fe(n,e,...t){if(!n)throw Zm(e,...t)}function gr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw lu(e),new Error(e)}function Tr(n,e){n||gr(e)}function cm(){return typeof self<"u"&&self.location?.href||""}function c2(){return C1()==="http:"||C1()==="https:"}function C1(){return typeof self<"u"&&self.location?.protocol||null}function u2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(c2()||PM()||"connection"in navigator)?navigator.onLine:!0}function f2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class bo{constructor(e,t){this.shortDelay=e,this.longDelay=t,Tr(t>e,"Short delay should be less than long delay!"),this.isMobile=BM()||HM()}get(){return u2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function eg(n,e){Tr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class eE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const d2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const h2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],p2=new bo(3e4,6e4);function ms(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ai(n,e,t,r,s={}){return tE(n,s,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const u=go({key:n.config.apiKey,...c}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const h={method:e,headers:d,...l};return UM()||(h.referrerPolicy="no-referrer"),n.emulatorConfig&&vf(n.emulatorConfig.host)&&(h.credentials="include"),eE.fetch()(await nE(n,n.config.apiHost,t,u),h)})}async function tE(n,e,t){n._canInitEmulator=!1;const r={...d2,...e};try{const s=new g2(n),l=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Gc(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const u=l.ok?c.errorMessage:c.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gc(n,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw Gc(n,"email-already-in-use",c);if(d==="USER_DISABLED")throw Gc(n,"user-disabled",c);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw ZS(n,m,h);Rn(n,m)}}catch(s){if(s instanceof wi)throw s;Rn(n,"network-request-failed",{message:String(s)})}}async function xf(n,e,t,r,s={}){const l=await Ai(n,e,t,r,s);return"mfaPendingCredential"in l&&Rn(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function nE(n,e,t,r){const s=`${e}${t}?${r}`,l=n,c=l.config.emulator?eg(n.config,s):`${n.config.apiScheme}://${s}`;return h2.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function m2(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class g2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r($n(this.auth,"network-request-failed")),p2.get())})}}function Gc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=$n(n,e,r);return s.customData._tokenResponse=t,s}function w1(n){return n!==void 0&&n.enterprise!==void 0}class y2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return m2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function b2(n,e){return Ai(n,"GET","/v2/recaptchaConfig",ms(n,e))}async function v2(n,e){return Ai(n,"POST","/v1/accounts:delete",e)}async function Su(n,e){return Ai(n,"POST","/v1/accounts:lookup",e)}function Bl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function x2(n,e=!1){const t=Cr(n),r=await t.getIdToken(e),s=tg(r);fe(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,c=l?.sign_in_provider;return{claims:s,token:r,authTime:Bl(xp(s.auth_time)),issuedAtTime:Bl(xp(s.iat)),expirationTime:Bl(xp(s.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function xp(n){return Number(n)*1e3}function tg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return lu("JWT malformed, contained fewer than 3 sections"),null;try{const s=HS(t);return s?JSON.parse(s):(lu("Failed to decode base64 JWT payload"),null)}catch(s){return lu("Caught error parsing JWT payload as JSON",s?.toString()),null}}function A1(n){const e=tg(n);return fe(e,"internal-error"),fe(typeof e.exp<"u","internal-error"),fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ql(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof wi&&S2(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function S2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class E2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class um{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Eu(n){const e=n.auth,t=await n.getIdToken(),r=await Ql(n,Su(e,{idToken:t}));fe(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const l=s.providerUserInfo?.length?rE(s.providerUserInfo):[],c=T2(n.providerData,l),u=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!c?.length,h=u?d:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new um(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(n,m)}async function k2(n){const e=Cr(n);await Eu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function T2(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function rE(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function C2(n,e){const t=await tE(n,{},async()=>{const r=go({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=n.config,c=await nE(n,s,"/v1/token",`key=${l}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return n.emulatorConfig&&vf(n.emulatorConfig.host)&&(d.credentials="include"),eE.fetch()(c,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function w2(n,e){return Ai(n,"POST","/v2/accounts:revokeToken",ms(n,e))}class fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fe(e.idToken,"internal-error"),fe(typeof e.idToken<"u","internal-error"),fe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):A1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){fe(e.length!==0,"internal-error");const t=A1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:l}=await C2(e,t);this.updateTokensAndExpiration(r,s,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:l}=t,c=new fa;return r&&(fe(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),s&&(fe(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),l&&(fe(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fa,this.toJSON())}_performRefresh(){return gr("not implemented")}}function Qr(n,e){fe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class An{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new E2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new um(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Ql(this,this.stsTokenManager.getToken(this.auth,e));return fe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return x2(this,e)}reload(){return k2(this)}_assign(e){this!==e&&(fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new An({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Eu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(yi(this.auth));const e=await this.getIdToken();return await Ql(this,v2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,u=t.tenantId??void 0,d=t._redirectEventId??void 0,h=t.createdAt??void 0,m=t.lastLoginAt??void 0,{uid:y,emailVerified:b,isAnonymous:v,providerData:S,stsTokenManager:T}=t;fe(y&&T,e,"internal-error");const C=fa.fromJSON(this.name,T);fe(typeof y=="string",e,"internal-error"),Qr(r,e.name),Qr(s,e.name),fe(typeof b=="boolean",e,"internal-error"),fe(typeof v=="boolean",e,"internal-error"),Qr(l,e.name),Qr(c,e.name),Qr(u,e.name),Qr(d,e.name),Qr(h,e.name),Qr(m,e.name);const w=new An({uid:y,auth:e,email:s,emailVerified:b,displayName:r,isAnonymous:v,photoURL:c,phoneNumber:l,tenantId:u,stsTokenManager:C,createdAt:h,lastLoginAt:m});return S&&Array.isArray(S)&&(w.providerData=S.map(I=>({...I}))),d&&(w._redirectEventId=d),w}static async _fromIdTokenResponse(e,t,r=!1){const s=new fa;s.updateFromServerResponse(t);const l=new An({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Eu(l),l}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];fe(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?rE(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!l?.length,u=new fa;u.updateFromIdToken(r);const d=new An({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:c}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new um(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!l?.length};return Object.assign(d,h),d}}const N1=new Map;function yr(n){Tr(n instanceof Function,"Expected a class definition");let e=N1.get(n);return e?(Tr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,N1.set(n,e),e)}class iE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}iE.type="NONE";const M1=iE;function ou(n,e,t){return`firebase:${n}:${e}:${t}`}class da{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:l}=this.auth;this.fullUserKey=ou(this.userKey,s.apiKey,l),this.fullPersistenceKey=ou("persistence",s.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Su(this.auth,{idToken:e}).catch(()=>{});return t?An._fromGetAccountInfoResponse(this.auth,t,e):null}return An._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new da(yr(M1),e,r);const s=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let l=s[0]||yr(M1);const c=ou(r,e.config.apiKey,e.name);let u=null;for(const h of t)try{const m=await h._get(c);if(m){let y;if(typeof m=="string"){const b=await Su(e,{idToken:m}).catch(()=>{});if(!b)break;y=await An._fromGetAccountInfoResponse(e,b,m)}else y=An._fromJSON(e,m);h!==l&&(u=y),l=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new da(l,e,r):(l=d[0],u&&await l._set(c,u.toJSON()),await Promise.all(t.map(async h=>{if(h!==l)try{await h._remove(c)}catch{}})),new da(l,e,r))}}function O1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uE(e))return"Blackberry";if(fE(e))return"Webos";if(aE(e))return"Safari";if((e.includes("chrome/")||lE(e))&&!e.includes("edge/"))return"Chrome";if(cE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function sE(n=It()){return/firefox\//i.test(n)}function aE(n=It()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lE(n=It()){return/crios\//i.test(n)}function oE(n=It()){return/iemobile/i.test(n)}function cE(n=It()){return/android/i.test(n)}function uE(n=It()){return/blackberry/i.test(n)}function fE(n=It()){return/webos/i.test(n)}function ng(n=It()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function A2(n=It()){return ng(n)&&!!window.navigator?.standalone}function N2(){return VM()&&document.documentMode===10}function dE(n=It()){return ng(n)||cE(n)||fE(n)||uE(n)||/windows phone/i.test(n)||oE(n)}function hE(n,e=[]){let t;switch(n){case"Browser":t=O1(It());break;case"Worker":t=`${O1(It())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${yo}/${r}`}class M2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((c,u)=>{try{const d=e(l);c(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function O2(n,e={}){return Ai(n,"GET","/v2/passwordPolicy",ms(n,e))}const R2=6;class D2{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??R2,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class _2{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new R1(this),this.idTokenSubscription=new R1(this),this.beforeStateQueue=new M2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=yr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await da.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Su(this,{idToken:e}),r=await An._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Vn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!l||l===c)&&u?.user&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Eu(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=f2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(yi(this));const t=e?Cr(e):null;return t&&fe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await O2(this),t=new D2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mo("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await w2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&yr(e)||this._popupRedirectResolver;fe(t,this,"argument-error"),this.redirectPersistenceManager=await da.create(this,[yr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(u,this,"internal-error"),u.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,s);return()=>{c=!0,d()}}else{const d=e.addObserver(t);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&o2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ma(n){return Cr(n)}class R1{constructor(e){this.auth=e,this.observer=null,this.addObserver=WM(t=>this.observer=t)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Sf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function I2(n){Sf=n}function pE(n){return Sf.loadJS(n)}function L2(){return Sf.recaptchaEnterpriseScript}function z2(){return Sf.gapiScript}function j2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class B2{constructor(){this.enterprise=new U2}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class U2{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const P2="recaptcha-enterprise",mE="NO_RECAPTCHA";class H2{constructor(e){this.type=P2,this.auth=Ma(e)}async verify(e="verify",t=!1){async function r(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,u)=>{b2(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new y2(d);return l.tenantId==null?l._agentRecaptchaConfig=h:l._tenantRecaptchaConfigs[l.tenantId]=h,c(h.siteKey)}}).catch(d=>{u(d)})})}function s(l,c,u){const d=window.grecaptcha;w1(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(h=>{c(h)}).catch(()=>{c(mE)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new B2().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(u=>{if(!t&&w1(window.grecaptcha))s(u,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=L2();d.length!==0&&(d+=u),pE(d).then(()=>{s(u,l,c)}).catch(h=>{c(h)})}}).catch(u=>{c(u)})})}}async function D1(n,e,t,r=!1,s=!1){const l=new H2(n);let c;if(s)c=mE;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:c}):Object.assign(u,{captchaResponse:c}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function _1(n,e,t,r,s){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await D1(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await D1(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(l)})}function V2(n,e){const t=GS(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),l=t.getOptions();if(ga(l,e??{}))return s;Rn(s,"already-initialized")}return t.initialize({options:e})}function $2(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(yr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function q2(n,e,t){const r=Ma(n);fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,l=gE(e),{host:c,port:u}=F2(e),d=u===null?"":`:${u}`,h={url:`${l}//${c}${d}/`},m=Object.freeze({host:c,port:u,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){fe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),fe(ga(h,r.config.emulator)&&ga(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,vf(c)?(IM(`${l}//${c}${d}`),jM("Auth",!0)):K2()}function gE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function F2(n){const e=gE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const l=s[1];return{host:l,port:I1(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:I1(c)}}}function I1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function K2(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class rg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return gr("not implemented")}_getIdTokenResponse(e){return gr("not implemented")}_linkToIdToken(e,t){return gr("not implemented")}_getReauthenticationResolver(e){return gr("not implemented")}}async function G2(n,e){return Ai(n,"POST","/v1/accounts:signUp",e)}async function Y2(n,e){return xf(n,"POST","/v1/accounts:signInWithPassword",ms(n,e))}async function W2(n,e){return xf(n,"POST","/v1/accounts:signInWithEmailLink",ms(n,e))}async function J2(n,e){return xf(n,"POST","/v1/accounts:signInWithEmailLink",ms(n,e))}class Zl extends rg{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Zl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Zl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _1(e,t,"signInWithPassword",Y2);case"emailLink":return W2(e,{email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _1(e,r,"signUpPassword",G2);case"emailLink":return J2(e,{idToken:t,email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ha(n,e){return xf(n,"POST","/v1/accounts:signInWithIdp",ms(n,e))}const X2="http://localhost";class cs extends rg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new cs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Rn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...l}=t;if(!r||!s)return null;const c=new cs(r,s);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return ha(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ha(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ha(e,t)}buildRequest(){const e={requestUri:X2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=go(t)}return e}}function Q2(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Z2(n){const e=Rl(Dl(n)).link,t=e?Rl(Dl(e)).deep_link_id:null,r=Rl(Dl(n)).deep_link_id;return(r?Rl(Dl(r)).link:null)||r||t||e||n}class ig{constructor(e){const t=Rl(Dl(e)),r=t.apiKey??null,s=t.oobCode??null,l=Q2(t.mode??null);fe(r&&s&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=Z2(e);try{return new ig(t)}catch{return null}}}class Oa{constructor(){this.providerId=Oa.PROVIDER_ID}static credential(e,t){return Zl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ig.parseLink(t);return fe(r,"argument-error"),Zl._fromEmailAndCode(e,r.code,r.tenantId)}}Oa.PROVIDER_ID="password";Oa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Oa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class yE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class vo extends yE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ai extends vo{constructor(){super("facebook.com")}static credential(e){return cs._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ai.credential(e.oauthAccessToken)}catch{return null}}}ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";ai.PROVIDER_ID="facebook.com";class li extends vo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return cs._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return li.credential(t,r)}catch{return null}}}li.GOOGLE_SIGN_IN_METHOD="google.com";li.PROVIDER_ID="google.com";class oi extends vo{constructor(){super("github.com")}static credential(e){return cs._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.GITHUB_SIGN_IN_METHOD="github.com";oi.PROVIDER_ID="github.com";class ci extends vo{constructor(){super("twitter.com")}static credential(e,t){return cs._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ci.credential(t,r)}catch{return null}}}ci.TWITTER_SIGN_IN_METHOD="twitter.com";ci.PROVIDER_ID="twitter.com";class ba{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const l=await An._fromIdTokenResponse(e,r,s),c=L1(r);return new ba({user:l,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=L1(r);return new ba({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function L1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class ku extends wi{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ku.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new ku(e,t,r,s)}}function bE(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?ku._fromErrorAndOperation(n,l,e,r):l})}async function eR(n,e,t=!1){const r=await Ql(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ba._forOperation(n,"link",r)}async function tR(n,e,t=!1){const{auth:r}=n;if(Vn(r.app))return Promise.reject(yi(r));const s="reauthenticate";try{const l=await Ql(n,bE(r,s,e,n),t);fe(l.idToken,r,"internal-error");const c=tg(l.idToken);fe(c,r,"internal-error");const{sub:u}=c;return fe(n.uid===u,r,"user-mismatch"),ba._forOperation(n,s,l)}catch(l){throw l?.code==="auth/user-not-found"&&Rn(r,"user-mismatch"),l}}async function vE(n,e,t=!1){if(Vn(n.app))return Promise.reject(yi(n));const r="signIn",s=await bE(n,r,e),l=await ba._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(l.user),l}async function nR(n,e){return vE(Ma(n),e)}async function rR(n){const e=Ma(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function iR(n,e,t){return Vn(n.app)?Promise.reject(yi(n)):nR(Cr(n),Oa.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&rR(n),r})}function sR(n,e,t,r){return Cr(n).onIdTokenChanged(e,t,r)}function aR(n,e,t){return Cr(n).beforeAuthStateChanged(e,t)}function lR(n,e,t,r){return Cr(n).onAuthStateChanged(e,t,r)}function oR(n){return Cr(n).signOut()}const Tu="__sak";class xE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Tu,"1"),this.storage.removeItem(Tu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const cR=1e3,uR=10;class SE extends xE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,u,d)=>{this.notifyListeners(c,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);N2()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,uR):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},cR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}SE.type="LOCAL";const fR=SE;class EE extends xE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}EE.type="SESSION";const kE=EE;function dR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Ef{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Ef(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:l}=t.data,c=this.handlersMap[s];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(c).map(async h=>h(t.origin,l)),d=await dR(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ef.receivers=[];function sg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class hR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,c;return new Promise((u,d)=>{const h=sg("",20);s.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);c={messageChannel:s,onMessage(y){const b=y;if(b.data.eventId===h)switch(b.data.status){case"ack":clearTimeout(m),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),u(b.data.response);break;default:clearTimeout(m),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function qn(){return window}function pR(n){qn().location.href=n}function TE(){return typeof qn().WorkerGlobalScope<"u"&&typeof qn().importScripts=="function"}async function mR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gR(){return navigator?.serviceWorker?.controller||null}function yR(){return TE()?self:null}const CE="firebaseLocalStorageDb",bR=1,Cu="firebaseLocalStorage",wE="fbase_key";class xo{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function kf(n,e){return n.transaction([Cu],e?"readwrite":"readonly").objectStore(Cu)}function vR(){const n=indexedDB.deleteDatabase(CE);return new xo(n).toPromise()}function fm(){const n=indexedDB.open(CE,bR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Cu,{keyPath:wE})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Cu)?e(r):(r.close(),await vR(),e(await fm()))})})}async function z1(n,e,t){const r=kf(n,!0).put({[wE]:e,value:t});return new xo(r).toPromise()}async function xR(n,e){const t=kf(n,!1).get(e),r=await new xo(t).toPromise();return r===void 0?null:r.value}function j1(n,e){const t=kf(n,!0).delete(e);return new xo(t).toPromise()}const SR=800,ER=3;class AE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>ER)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ef._getInstance(yR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await mR(),!this.activeServiceWorker)return;this.sender=new hR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fm();return await z1(e,Tu,"1"),await j1(e,Tu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>z1(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>xR(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>j1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=kf(s,!1).getAll();return new xo(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AE.type="LOCAL";const kR=AE;new bo(3e4,6e4);function TR(n,e){return e?yr(e):(fe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class ag extends rg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ha(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ha(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ha(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function CR(n){return vE(n.auth,new ag(n),n.bypassAuthState)}function wR(n){const{auth:e,user:t}=n;return fe(t,e,"internal-error"),tR(t,new ag(n),n.bypassAuthState)}async function AR(n){const{auth:e,user:t}=n;return fe(t,e,"internal-error"),eR(t,new ag(n),n.bypassAuthState)}class NE{constructor(e,t,r,s,l=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:l,error:c,type:u}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CR;case"linkViaPopup":case"linkViaRedirect":return AR;case"reauthViaPopup":case"reauthViaRedirect":return wR;default:Rn(this.auth,"internal-error")}}resolve(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const NR=new bo(2e3,1e4);class oa extends NE{constructor(e,t,r,s,l){super(e,t,s,l),this.provider=r,this.authWindow=null,this.pollId=null,oa.currentPopupAction&&oa.currentPopupAction.cancel(),oa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return fe(e,this.auth,"internal-error"),e}async onExecution(){Tr(this.filter.length===1,"Popup operations only handle one event");const e=sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject($n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject($n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NR.get())};e()}}oa.currentPopupAction=null;const MR="pendingRedirect",cu=new Map;class OR extends NE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=cu.get(this.auth._key());if(!e){try{const r=await RR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}cu.set(this.auth._key(),e)}return this.bypassAuthState||cu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RR(n,e){const t=IR(e),r=_R(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function DR(n,e){cu.set(n._key(),e)}function _R(n){return yr(n._redirectPersistence)}function IR(n){return ou(MR,n.config.apiKey,n.name)}async function LR(n,e,t=!1){if(Vn(n.app))return Promise.reject(yi(n));const r=Ma(n),s=TR(r,e),c=await new OR(r,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const zR=600*1e3;class jR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!ME(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError($n(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zR&&this.cachedEventUids.clear(),this.cachedEventUids.has(B1(e))}saveEventToCache(e){this.cachedEventUids.add(B1(e)),this.lastProcessedEventTime=Date.now()}}function B1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ME({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function BR(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ME(n);default:return!1}}async function UR(n,e={}){return Ai(n,"GET","/v1/projects",e)}const PR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HR=/^https?/;async function VR(n){if(n.config.emulator)return;const{authorizedDomains:e}=await UR(n);for(const t of e)try{if($R(t))return}catch{}Rn(n,"unauthorized-domain")}function $R(n){const e=cm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!HR.test(t))return!1;if(PR.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const qR=new bo(3e4,6e4);function U1(){const n=qn().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function FR(n){return new Promise((e,t)=>{function r(){U1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{U1(),t($n(n,"network-request-failed"))},timeout:qR.get()})}if(qn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qn().gapi?.load)r();else{const s=j2("iframefcb");return qn()[s]=()=>{gapi.load?r():t($n(n,"network-request-failed"))},pE(`${z2()}?onload=${s}`).catch(l=>t(l))}}).catch(e=>{throw uu=null,e})}let uu=null;function KR(n){return uu=uu||FR(n),uu}const GR=new bo(5e3,15e3),YR="__/auth/iframe",WR="emulator/auth/iframe",JR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QR(n){const e=n.config;fe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?eg(e,WR):`https://${n.config.authDomain}/${YR}`,r={apiKey:e.apiKey,appName:n.name,v:yo},s=XR.get(n.config.apiHost);s&&(r.eid=s);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${go(r).slice(1)}`}async function ZR(n){const e=await KR(n),t=qn().gapi;return fe(t,n,"internal-error"),e.open({where:document.body,url:QR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JR,dontclear:!0},r=>new Promise(async(s,l)=>{await r.restyle({setHideOnLeave:!1});const c=$n(n,"network-request-failed"),u=qn().setTimeout(()=>{l(c)},GR.get());function d(){qn().clearTimeout(u),s(r)}r.ping(d).then(d,()=>{l(c)})}))}const eD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tD=500,nD=600,rD="_blank",iD="http://localhost";class P1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sD(n,e,t,r=tD,s=nD){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d={...eD,width:r.toString(),height:s.toString(),top:l,left:c},h=It().toLowerCase();t&&(u=lE(h)?rD:t),sE(h)&&(e=e||iD,d.scrollbars="yes");const m=Object.entries(d).reduce((b,[v,S])=>`${b}${v}=${S},`,"");if(A2(h)&&u!=="_self")return aD(e||"",u),new P1(null);const y=window.open(e||"",u,m);fe(y,n,"popup-blocked");try{y.focus()}catch{}return new P1(y)}function aD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const lD="__/auth/handler",oD="emulator/auth/handler",cD=encodeURIComponent("fac");async function H1(n,e,t,r,s,l){fe(n.config.authDomain,n,"auth-domain-config-required"),fe(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:yo,eventId:s};if(e instanceof yE){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",YM(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))c[m]=y}if(e instanceof vo){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(c.scopes=m.join(","))}n.tenantId&&(c.tid=n.tenantId);const u=c;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await n._getAppCheckToken(),h=d?`#${cD}=${encodeURIComponent(d)}`:"";return`${uD(n)}?${go(u).slice(1)}${h}`}function uD({config:n}){return n.emulator?eg(n,oD):`https://${n.authDomain}/${lD}`}const Sp="webStorageSupport";class fD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kE,this._completeRedirectFn=LR,this._overrideRedirectResult=DR}async _openPopup(e,t,r,s){Tr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await H1(e,t,r,cm(),s);return sD(e,l,sg())}async _openRedirect(e,t,r,s){await this._originValidation(e);const l=await H1(e,t,r,cm(),s);return pR(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:l}=this.eventManagers[t];return s?Promise.resolve(s):(Tr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await ZR(e),r=new jR(e);return t.register("authEvent",s=>(fe(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Sp,{type:Sp},s=>{const l=s?.[0]?.[Sp];l!==void 0&&t(!!l),Rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=VR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return dE()||aE()||ng()}}const dD=fD;var V1="@firebase/auth",$1="1.11.1";class hD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function pD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mD(n){Jl(new ya("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:u}=r.options;fe(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:c,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hE(n)},h=new _2(r,s,l,d);return $2(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Jl(new ya("auth-internal",e=>{const t=Ma(e.getProvider("auth").getImmediate());return(r=>new hD(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ua(V1,$1,pD(n)),ua(V1,$1,"esm2020")}const gD=300,yD=$S("authIdTokenMaxAge")||gD;let q1=null;const bD=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>yD)return;const s=t?.token;q1!==s&&(q1=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function vD(n=JO()){const e=GS(n,"auth");if(e.isInitialized())return e.getImmediate();const t=V2(n,{popupRedirectResolver:dD,persistence:[kR,fR,kE]}),r=$S("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=bD(l.toString());aR(t,c,()=>c(t.currentUser)),sR(t,u=>c(u))}}const s=DM("auth");return s&&q2(t,`http://${s}`),t}function xD(){return document.getElementsByTagName("head")?.[0]??document}I2({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const l=$n("internal-error");l.customData=s,t(l)},r.type="text/javascript",r.charset="UTF-8",xD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mD("Browser");var SD="firebase",ED="12.6.0";ua(SD,ED,"app");const kD={apiKey:"AIzaSyBcNo1_iMGI4AGz-22Fng6abo00ZBAx35w",authDomain:"ld-calendar-e55df.firebaseapp.com",projectId:"ld-calendar-e55df"},TD=YS(kD),Tf=vD(TD),OE=O.createContext(void 0);function CD({children:n}){const[e,t]=O.useState(null),[r,s]=O.useState(!0),[l,c]=O.useState(!1);return O.useEffect(()=>lR(Tf,async d=>{if(t(d),d)try{const m=(await d.getIdTokenResult()).claims;c(m.admin===!0)}catch(h){console.error("Failed to get token claims",h),c(!1)}else c(!1);s(!1)}),[]),E.jsx(OE.Provider,{value:{user:e,loading:r,isAdmin:l},children:n})}function Cf(){const n=O.useContext(OE);if(!n)throw new Error("useAuth must be used within AuthProvider");return n}function wD({children:n}){const{isAdmin:e,user:t}=Cf(),[r,s]=O.useState(!1),l=async()=>{await oR(Tf),s(!1)},c=()=>s(!1);return E.jsxs("div",{className:"min-h-screen bg-slate-50 text-slate-900 transition-colors duration-200 dark:bg-slate-950 dark:text-slate-50",children:[E.jsx("header",{className:"fixed top-0 z-50 w-full border-b border-slate-200 bg-white/80 backdrop-blur-md dark:border-slate-800 dark:bg-slate-900/80",children:E.jsxs("div",{className:"mx-auto max-w-5xl px-4 sm:px-6 lg:px-8",children:[E.jsxs("div",{className:"flex h-16 items-center justify-between",children:[E.jsxs(On,{to:"/",className:"text-lg font-bold tracking-tight text-slate-900 dark:text-white",onClick:c,children:["LUCKY DRAW ",E.jsx("span",{className:"text-teal-500",children:"CALENDAR"})]}),E.jsxs("div",{className:"hidden items-center gap-6 text-sm font-medium text-slate-500 sm:flex dark:text-slate-400",children:[E.jsx(ti,{to:"/",className:({isActive:u})=>u?"text-teal-600 dark:text-teal-400":"transition-colors hover:text-slate-900 dark:hover:text-slate-200",children:""}),E.jsx(ti,{to:"/notices",className:({isActive:u})=>u?"text-teal-600 dark:text-teal-400":"transition-colors hover:text-slate-900 dark:hover:text-slate-200",children:""}),E.jsx(ti,{to:"https://ld-calendar.github.io/luckydrawsample/",target:"_blank",className:({isActive:u})=>u?"text-teal-600 dark:text-teal-400":"transition-colors hover:text-slate-900 dark:hover:text-slate-200",children:" "}),e&&E.jsxs(E.Fragment,{children:[E.jsx(ti,{to:"/admin",className:({isActive:u})=>u?"text-teal-600 dark:text-teal-400":"transition-colors hover:text-slate-900 dark:hover:text-slate-200",children:""}),E.jsxs("div",{className:"flex flex-col text-xs text-slate-400",children:[E.jsx("span",{className:"max-w-[160px] truncate",children:t?.email}),E.jsx("span",{className:"font-semibold text-teal-500",children:" "})]}),E.jsx("button",{onClick:l,className:"rounded-full border border-slate-300 px-3 py-1 text-xs text-slate-500 hover:border-teal-500 hover:text-teal-600 dark:border-slate-700 dark:hover:border-teal-400",children:""})]})]}),E.jsxs("button",{type:"button",className:"flex h-9 w-9 items-center justify-center rounded-full border border-slate-300 text-slate-600 hover:border-teal-500 hover:text-teal-600 sm:hidden dark:border-slate-700 dark:text-slate-300 dark:hover:border-teal-400 dark:hover:text-teal-400",onClick:()=>s(u=>!u),children:[E.jsx("span",{className:"sr-only",children:" "}),r?E.jsx("span",{className:"text-lg leading-none",children:""}):E.jsx("span",{className:"text-xl leading-none",children:""})]})]}),r&&E.jsxs("nav",{className:"mb-2 flex flex-col gap-2 border-t border-slate-200 py-3 text-sm font-medium text-slate-600 sm:hidden dark:border-slate-800 dark:text-slate-300",children:[E.jsx(ti,{to:"/",onClick:c,className:({isActive:u})=>(u?"text-teal-600 dark:text-teal-400":"text-slate-600 dark:text-slate-300")+" px-1 py-1",children:""}),E.jsx(ti,{to:"/notices",onClick:c,className:({isActive:u})=>(u?"text-teal-600 dark:text-teal-400":"text-slate-600 dark:text-slate-300")+" px-1 py-1",children:""}),E.jsx("a",{href:"https://ld-calendar.github.io/luckydrawsample/",target:"_blank",rel:"noreferrer",className:"px-1 py-1 text-slate-600 hover:text-teal-600 dark:text-slate-300 dark:hover:text-teal-400",onClick:c,children:" "}),e&&E.jsxs(E.Fragment,{children:[E.jsx(ti,{to:"/admin",onClick:c,className:({isActive:u})=>(u?"text-teal-600 dark:text-teal-400":"text-slate-600 dark:text-slate-300")+" px-1 py-1",children:""}),E.jsxs("div",{className:"mt-1 border-t border-slate-100 pt-2 text-xs text-slate-400 dark:border-slate-700",children:[E.jsx("div",{className:"max-w-[200px] truncate",children:t?.email}),E.jsx("div",{className:"font-semibold text-teal-500",children:" "}),E.jsx("button",{onClick:l,className:"mt-2 inline-flex rounded-full border border-slate-300 px-3 py-1 text-[11px] text-slate-500 hover:border-teal-500 hover:text-teal-600 dark:border-slate-600 dark:text-slate-300 dark:hover:border-teal-400 dark:hover:text-teal-300",children:""})]})]})]})]})}),E.jsx("main",{className:"mx-auto max-w-5xl px-4 py-24 sm:px-6 lg:px-8",children:n})]})}const AD="https://script.google.com/macros/s/AKfycbwpaO_AGrRy8WOKR-XhhAUsaI4X5qPwGHPRZLIDjJn8HGDt6P7E0xyu-fCo9AJYdI_7/exec";function gs(n){const e=new URL(AD);return e.searchParams.set("sheet",n),e.toString()}function ND(n,e){if(!n||!e)return NaN;const t=new Date(n),s=new Date(e).getTime()-t.getTime();return Math.round(s/(1e3*60*60*24))}function MD(n){return Number.isFinite(n)?n<=3?"RUSH":n<=10?"FAST":"NORMAL":"NORMAL"}function OD(n,e=5e4){switch(n){case"RUSH":return{finalPrice:e+5e4,extraPrice:5e4};case"FAST":return{finalPrice:e+2e4,extraPrice:2e4};case"NORMAL":case"PENDING":default:return{finalPrice:e,extraPrice:0}}}function RE(n,e,t=5e4){const r=ND(n,e),s=MD(r),{finalPrice:l,extraPrice:c}=OD(s,t);return{diffDays:r,priceTier:s,finalPrice:l,extraPrice:c}}const F1=5;function eo(n){const e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),r=String(n.getDate()).padStart(2,"0");return`${e}-${t}-${r}`}function RD(n){const[e,t,r]=n.split("-").map(Number);return new Date(e,t-1,r)}function wu(n){const e=new Date(n);e.setHours(0,0,0,0);const t=e.getDay();return e.setDate(e.getDate()-t),e}function lg(n){const e=RD(n);return eo(wu(e))}function DD(n){const e=n.getFullYear(),t=n.getMonth(),r=new Date(e,t,1),s=wu(r),l=new Date(e,t+1,0),c=wu(l),u=new Date(c);u.setDate(u.getDate()+6);const d=[],h=new Date(s);for(;h<=u;){const m=eo(h),y=lg(m);d.push({date:m,inCurrentMonth:h.getMonth()===t,weekStart:y}),h.setDate(h.getDate()+1)}return d}function DE(n){const e={};for(const t of n){if(!t.reviewDate)continue;const r=lg(t.reviewDate);e[r]||(e[r]={weekStart:r,capacity:F1,booked:0,remaining:F1,isClosed:!1}),e[r].booked+=1}return Object.values(e).forEach(t=>{t.remaining=Math.max(0,t.capacity-t.booked),t.isClosed=t.remaining===0}),e}function _D(n,e){return n.filter(t=>t.reviewDate===e).length}function ID(){const n=new Date;n.setHours(0,0,0,0);const e=wu(n),t=new Date(e);return t.setDate(e.getDate()+7),{thisWeekStart:eo(e),nextWeekStart:eo(t)}}async function So(){const n=Tf.currentUser;if(!n)throw new Error(" .");return await n.getIdToken()}async function _E(n){try{const e=await fetch(n);return e.ok?{ok:!0,data:await e.json()}:{ok:!1,error:`HTTP ${e.status}`}}catch(e){return{ok:!1,error:e?.message??"Unknown error"}}}function Nl(n,e=0){if(typeof n=="number")return n;if(typeof n=="string"&&n.trim()!==""){const t=Number(n);if(!Number.isNaN(t))return t}return e}function K1(n,e=!1){if(typeof n=="boolean")return n;if(typeof n=="string"){const t=n.toLowerCase().trim();if(t==="true")return!0;if(t==="false")return!1}return e}function G1(n){if(!n)return"";if(typeof n=="string")return n.slice(0,10);const e=new Date(n);return Number.isNaN(e.getTime())?"":e.toISOString().slice(0,10)}const LD=180*1e3;let fu=null,dm=0,du=null,hm=0;function IE(n){return n?Date.now()-n<LD:!1}function LE(){fu=null,dm=0}function og(){du=null,hm=0}function zD(n,e){const t=G1(n.materialReceivedDate),r=G1(n.reviewDate);if(!n.clientName||!r)return null;const s=n.id||`row-${e}`,l=Nl(n.basePrice,5e4),c=t&&r?RE(t,r,l):null,u=n.diffDays!==void 0?Nl(n.diffDays,c?.diffDays??0):c?.diffDays??"",d=n.priceTier??(c?c.priceTier:"PENDING"),h=n.finalPrice!==void 0?Nl(n.finalPrice,c?.finalPrice??l):c?.finalPrice??l,m=n.extraPrice!==void 0?Nl(n.extraPrice,c?.extraPrice??0):c?.extraPrice??0,y=lg(r),b=Nl(n.slotIndex,0),v=n.status??"PAID";return{id:s,clientName:n.clientName,depositorName:n.depositorName??"",status:v,materialReceivedDate:t,reviewDate:r,weekStart:y,slotIndex:b,basePrice:l,priceTier:d,finalPrice:h,diffDays:u,extraPrice:m,memo:n.memo,createdAt:n.createdAt}}function jD(n,e){return!n.title||!n.body?null:{id:n.id||`notice-${e}`,title:n.title,body:n.body,isPinned:K1(n.isPinned,!1),isActive:K1(n.isActive,!0),createdAt:n.createdAt||"",updatedAt:n.updatedAt}}async function cg(){if(fu&&IE(dm))return{ok:!0,data:fu};const n=gs("commission"),e=await _E(n);if(!e.ok)return e;const t=e.data.map(zD).filter(r=>r!==null);return fu=t,dm=Date.now(),{ok:!0,data:t}}async function wf(){if(du&&IE(hm))return{ok:!0,data:du};const n=gs("notices"),e=await _E(n);if(!e.ok)return e;const t=e.data.map(jD).filter(r=>r!==null).sort((r,s)=>r.createdAt>s.createdAt?-1:1);return du=t,hm=Date.now(),{ok:!0,data:t}}function Eo(n){const e=new URLSearchParams;for(const[t,r]of Object.entries(n))r!=null&&e.append(t,String(r));return e}function ko(n){return n.error&&n.message?`${n.error}: ${n.message}`:n.error||n.message||"Unknown error"}async function BD(n){const e=gs("commission");try{const t=await So(),r=Eo({mode:"create",idToken:t,...n}),s=await fetch(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:r});if(!s.ok)return{ok:!1,error:`HTTP ${s.status}`};const l=await s.json();return l.ok&&l.id?(LE(),{ok:!0,data:{id:l.id}}):{ok:!1,error:ko(l)}}catch(t){return{ok:!1,error:t?.message??"Network error"}}}async function UD(n){const e=gs("notices");try{const t=await So(),r=Eo({mode:"create",idToken:t,...n}),s=await fetch(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:r});if(!s.ok)return{ok:!1,error:`HTTP ${s.status}`};const l=await s.json();return l.ok&&l.id?(og(),{ok:!0,data:{id:l.id}}):{ok:!1,error:ko(l)}}catch(t){return{ok:!1,error:t?.message??"Network error"}}}async function PD(n,e){const t=gs("commission");try{const r=await So(),s=Eo({mode:"update",id:n,idToken:r,...e}),l=await fetch(t,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:s});if(!l.ok)return{ok:!1,error:`HTTP ${l.status}`};const c=await l.json();return c.ok&&c.id?(LE(),{ok:!0,data:{id:c.id}}):{ok:!1,error:ko(c)}}catch(r){return{ok:!1,error:r?.message??"Network error"}}}async function HD(n,e){const t=gs("notices");try{const r=await So(),s=Eo({mode:"update",id:n,idToken:r,...e}),l=await fetch(t,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:s});if(!l.ok)return{ok:!1,error:`HTTP ${l.status}`};const c=await l.json();return c.ok&&c.id?(og(),{ok:!0,data:{id:c.id}}):{ok:!1,error:ko(c)}}catch(r){return{ok:!1,error:r?.message??"Network error"}}}async function VD(n){const e=gs("notices");try{const t=await So(),r=Eo({mode:"delete",id:n,idToken:t}),s=await fetch(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:r});if(!s.ok)return{ok:!1,error:`HTTP ${s.status}`};const l=await s.json();return l.ok&&l.id?(og(),{ok:!0,data:{id:l.id}}):{ok:!1,error:ko(l)}}catch(t){return{ok:!1,error:t?.message??"Network error"}}}function Y1(n){if(typeof n=="boolean")return n;if(typeof n=="string"){const e=n.trim().toLowerCase();if(e==="true"||e==="1"||e==="y"||e==="yes")return!0;if(e==="false"||e==="0"||e==="n"||e==="no")return!1}return typeof n=="number"?n!==0:!1}function $D(n){return{...n,isPinned:Y1(n.isPinned),isActive:Y1(n.isActive)}}function Af(n){return n.map($D)}function qD(){const[n,e]=O.useState(!0),[t,r]=O.useState(null),[s,l]=O.useState([]),[c,u]=O.useState([]),[d,h]=O.useState(()=>new Date),m=new Date,y=m.getFullYear(),b=m.getMonth();O.useEffect(()=>{async function K(){e(!0),r(null);const[te,N]=await Promise.all([cg(),wf()]);if(!te.ok){r(`   : ${te.error}`),e(!1);return}if(!N.ok){r(`   : ${N.error}`),e(!1);return}l(te.data);const H=Af(N.data);u(H),e(!1)}K()},[]);const v=K=>{const te=new Date(y,b,1);return K<te?te:K},S=DD(d),T=DE(s),C=d.getFullYear(),w=d.getMonth()+1,I=Array.from({length:3},(K,te)=>y+te),B=Array.from({length:12},(K,te)=>te+1).filter(K=>C===y?K-1>=b:!0),F=C===y&&w-1===b,q=()=>{h(K=>{const te=new Date(K);return te.setMonth(te.getMonth()-1),v(te)})},W=()=>{h(K=>{const te=new Date(K);return te.setMonth(te.getMonth()+1),te})},P=K=>{const te=Number(K.target.value);h(N=>{const H=new Date(N);return H.setFullYear(te),v(H)})},ee=K=>{const te=Number(K.target.value)-1;h(N=>{const H=new Date(N);return H.setMonth(te),v(H)})},ne=S.filter(K=>K.inCurrentMonth),de=Array.from(new Set(ne.map(K=>K.weekStart))).sort(),Oe=["1","2","3","4","5"],Q=5,xe=K=>{const te=T[K];return te||{weekStart:K,capacity:Q,booked:0,remaining:Q,isClosed:!1}},_e=de.map((K,te)=>({label:Oe[te]??`${te+1}`,summary:xe(K)})),Se=eo(new Date),z=c.filter(K=>K.isPinned&&K.isActive).sort((K,te)=>te.createdAt.localeCompare(K.createdAt)),J=c.filter(K=>!K.isPinned&&K.isActive).sort((K,te)=>te.createdAt.localeCompare(K.createdAt)),ae=[];for(const K of z){if(ae.length>=2)break;ae.push(K)}for(const K of J){if(ae.length>=2)break;ae.push(K)}return E.jsxs("div",{className:"page-shell",children:[E.jsx("header",{className:"page-header",children:E.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[E.jsxs("div",{children:[E.jsxs("h1",{className:"page-title",children:["Commission ",E.jsx("span",{className:"text-teal-500",children:"Calendar"})]}),E.jsx("p",{className:"page-subtitle",children:"   ,       ."})]}),E.jsx("div",{className:"md:flex-shrink-0",children:E.jsx("a",{href:"https://open.kakao.com/o/skxgV2Th",target:"_blank",rel:"noreferrer",className:"inline-flex items-center rounded-full bg-slate-900 px-6 py-3 text-sm font-semibold text-white shadow-lg transition-transform hover:-translate-y-0.5 hover:bg-slate-800 dark:bg-teal-600 dark:hover:bg-teal-500",children:"  "})})]})}),E.jsxs("section",{className:"mt-8 space-y-3",children:[E.jsxs("div",{className:"mb-1 flex items-end justify-between",children:[E.jsx("h2",{className:"section-title",children:""}),E.jsx(On,{to:"/notices",className:"text-sm font-medium text-teal-600 hover:text-teal-700 dark:text-teal-400 dark:hover:text-teal-300",children:" "})]}),n&&!t&&E.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:[0,1].map(K=>E.jsx("article",{className:"list-card animate-pulse",children:E.jsxs("div",{className:"list-card-link",children:[E.jsxs("div",{className:"list-left",children:[E.jsx("div",{className:"mb-2 h-3 w-20 rounded bg-slate-200 dark:bg-slate-700"}),E.jsx("div",{className:"h-4 w-40 rounded bg-slate-200 dark:bg-slate-700"})]}),E.jsx("div",{className:"list-right",children:E.jsx("div",{className:"h-3 w-3 rounded-full bg-slate-200 dark:bg-slate-700"})})]})},K))}),t&&E.jsx("div",{className:"list-empty text-red-500",children:"   ."}),!n&&!t&&E.jsx(E.Fragment,{children:ae.length===0?E.jsx("div",{className:"list-empty",children:"  ."}):E.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:ae.map(K=>E.jsx("article",{className:"list-card",children:E.jsxs(On,{to:`/notices/${encodeURIComponent(K.id)}`,className:"list-card-link",children:[E.jsxs("div",{className:"list-left",children:[E.jsx("div",{className:"list-date",children:K.createdAt.slice(0,10)}),E.jsx("p",{className:"list-title-strong",children:K.title})]}),K.isPinned&&E.jsx("div",{className:"list-right",children:E.jsx("span",{className:"badge-pin-dot"})})]})},K.id))})})]}),E.jsxs("div",{className:"mt-10 grid gap-8 lg:grid-cols-3",children:[E.jsxs("section",{className:"lg:col-span-2",children:[E.jsx("h2",{className:"mb-4 section-title",children:" "}),E.jsx("p",{className:"mb-3 text-sm text-rose-500 dark:text-rose-400",children:" ,            .       ."}),E.jsx("div",{className:"grid gap-4 sm:grid-cols-3",children:[{step:"01",title:" ",desc:"/     "},{step:"02",title:"   ",desc:"        "},{step:"03",title:"   ",desc:"     ( 1 )"}].map(K=>E.jsxs("div",{className:"rounded-2xl bg-slate-100 p-5 dark:bg-slate-800/50",children:[E.jsxs("span",{className:"text-xs font-bold text-teal-600 dark:text-teal-400",children:["STEP ",K.step]}),E.jsx("h3",{className:"mt-2 font-bold text-slate-900 dark:text-slate-100",children:K.title}),E.jsx("p",{className:"mt-1 text-sm text-slate-600 dark:text-slate-400",children:K.desc})]},K.step))})]}),E.jsxs("section",{children:[E.jsx("h2",{className:"mb-4 section-title",children:" "}),E.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900",children:[E.jsxs("ul",{className:"space-y-4 text-sm",children:[E.jsxs("li",{className:"flex justify-between",children:[E.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:""}),E.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:"50,000"})]}),E.jsxs("li",{className:"flex justify-between",children:[E.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:"10  ()"}),E.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:"70,000"})]}),E.jsxs("li",{className:"flex justify-between",children:[E.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:"3  ()"}),E.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:"100,000"})]})]}),E.jsx("div",{className:"mt-4 border-t border-slate-100 pt-4 text-xs text-slate-400 dark:border-slate-800",children:"*     ."})]})]})]}),E.jsxs("section",{className:"mt-10",children:[E.jsxs("div",{className:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[E.jsx("h2",{className:"section-title",children:"  "}),E.jsxs("div",{className:"flex items-center justify-center gap-3 rounded-lg bg-white px-3 py-2 shadow-sm sm:px-4 dark:bg-slate-800",children:[E.jsx("button",{onClick:q,disabled:F,className:"text-slate-500 hover:text-teal-600 disabled:cursor-not-allowed disabled:opacity-40 dark:text-slate-400 dark:hover:text-teal-400",children:""}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("select",{value:C,onChange:P,className:"rounded-md border border-slate-300 bg-white px-2 py-1 text-sm text-slate-900 focus:border-teal-500 focus:outline-none focus:ring-1 focus:ring-teal-500 dark:border-slate-600 dark:bg-slate-900 dark:text-white",children:I.map(K=>E.jsxs("option",{value:K,children:[K,""]},K))}),E.jsx("select",{value:w,onChange:ee,className:"rounded-md border border-slate-300 bg-white px-2 py-1 text-sm text-slate-900 focus:border-teal-500 focus:outline-none focus:ring-1 focus:ring-teal-500 dark:border-slate-600 dark:bg-slate-900 dark:text-white",children:B.map(K=>E.jsxs("option",{value:K,children:[K.toString().padStart(2,"0"),""]},K))})]}),E.jsx("button",{onClick:W,className:"text-slate-500 hover:text-teal-600 dark:text-slate-400 dark:hover:text-teal-400",children:""})]})]}),E.jsxs("div",{className:"min-h-[300px] rounded-3xl border border-slate-200 bg-slate-50 p-4 sm:p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900/50",children:[n&&E.jsxs("div",{className:"animate-pulse space-y-4",children:[E.jsx("div",{className:"h-[70px] rounded-2xl bg-slate-200"}),E.jsx("div",{className:"h-64 rounded-3xl bg-slate-200"})]}),t&&!n&&E.jsx("div",{className:"py-20 text-center text-red-500",children:t}),!n&&!t&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"mb-4 -mx-2 overflow-x-auto pb-1 sm:mx-0 sm:overflow-visible",children:E.jsx("div",{className:"flex gap-3 px-2 sm:grid sm:grid-cols-3 md:grid-cols-5 sm:px-0",children:_e.map(({label:K,summary:te})=>E.jsxs("div",{className:`flex min-w-[130px] flex-col items-center justify-center rounded-xl border p-3 text-center text-xs sm:min-w-0 sm:text-sm transition-colors ${te.remaining===0?"border-red-200 bg-red-50 dark:border-red-900/30 dark:bg-red-900/10":"border-teal-200 bg-teal-50 dark:border-teal-900/30 dark:bg-teal-900/10"}`,children:[E.jsx("span",{className:"font-semibold text-slate-500 dark:text-slate-400",children:K}),E.jsxs("span",{className:`mt-1 font-bold ${te.remaining===0?"text-red-600 dark:text-red-400":"text-teal-600 dark:text-teal-400"}`,children:[te.remaining,"  "]})]},te.weekStart))})}),E.jsx("div",{className:"-mx-2 overflow-x-auto sm:mx-0",children:E.jsxs("div",{className:"min-w-[560px] space-y-2 px-1 sm:min-w-0 sm:px-0",children:[E.jsxs("div",{className:"grid grid-cols-7 text-center text-[10px] font-semibold text-slate-400 sm:text-xs",children:[E.jsx("div",{children:"SUN"}),E.jsx("div",{children:"MON"}),E.jsx("div",{children:"TUE"}),E.jsx("div",{children:"WED"}),E.jsx("div",{children:"THU"}),E.jsx("div",{children:"FRI"}),E.jsx("div",{children:"SAT"})]}),E.jsx("div",{className:"grid grid-cols-7 gap-1.5 sm:gap-2",children:S.map(K=>{const te=_D(s,K.date),N=xe(K.weekStart),H=K.date===K.weekStart,X=K.date===Se;return E.jsxs("div",{className:["relative flex min-h-[64px] flex-col rounded-lg border p-1.5 text-[11px] sm:min-h-[80px] sm:rounded-xl sm:p-2 sm:text-sm transition-all",X?"border-teal-500 ring-2 ring-teal-500/20 bg-white dark:bg-slate-800":"border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-800/50",!K.inCurrentMonth&&"opacity-30 grayscale"].filter(Boolean).join(" "),children:[E.jsx("div",{className:"flex justify-between",children:E.jsx("span",{className:X?"font-semibold text-teal-600 dark:text-teal-400":"font-medium text-slate-600 dark:text-slate-400",children:Number(K.date.slice(-2))})}),H&&E.jsx("div",{className:"mt-1",children:E.jsx("span",{className:`inline-block rounded-md px-1 py-0.5 text-[9px] font-bold sm:text-[10px] ${N.isClosed?"bg-slate-100 text-slate-500 dark:bg-slate-700 dark:text-slate-400":"bg-teal-100 text-teal-700 dark:bg-teal-900/50 dark:text-teal-300"}`,children:N.isClosed?"":` ${N.remaining}`})}),E.jsx("div",{className:"mt-auto flex justify-end gap-1",children:Array.from({length:Math.min(te,5)}).map((ie,pe)=>E.jsx("div",{className:"h-3 w-3 rounded-full bg-teal-500"},pe))})]},K.date)})})]})})]})]})]})]})}function FD(){const[n,e]=O.useState(!0),[t,r]=O.useState(null),[s,l]=O.useState([]);O.useEffect(()=>{async function d(){e(!0),r(null);const h=await wf();if(!h.ok){r(`   : ${h.error}`),e(!1);return}const m=Af(h.data);l(m),e(!1)}d()},[]);const c=s.filter(d=>d.isPinned&&d.isActive).sort((d,h)=>h.createdAt.localeCompare(d.createdAt)),u=s.filter(d=>!d.isPinned&&d.isActive).sort((d,h)=>h.createdAt.localeCompare(d.createdAt));return E.jsxs("div",{className:"page-shell",children:[E.jsxs("header",{className:"page-header",children:[E.jsx("h1",{className:"page-title",children:"Notice Board"}),E.jsx("p",{className:"page-subtitle",children:"      "})]}),n&&!t&&E.jsxs("div",{className:"mt-8 space-y-8",children:[E.jsxs("section",{className:"space-y-3",children:[E.jsx("div",{className:"h-4 w-24 rounded bg-slate-200 dark:bg-slate-700 animate-pulse"}),E.jsx("div",{className:"space-y-3",children:[0,1].map(d=>E.jsx("article",{className:"list-card animate-pulse",children:E.jsxs("div",{className:"list-card-link",children:[E.jsxs("div",{className:"list-left",children:[E.jsx("div",{className:"mb-2 h-3 w-20 rounded bg-slate-200 dark:bg-slate-700"}),E.jsx("div",{className:"h-4 w-40 rounded bg-slate-200 dark:bg-slate-700"})]}),E.jsx("div",{className:"list-right",children:E.jsx("div",{className:"h-3 w-3 rounded-full bg-slate-200 dark:bg-slate-700"})})]})},d))})]}),E.jsxs("section",{className:"space-y-3",children:[E.jsx("div",{className:"h-4 w-28 rounded bg-slate-200 dark:bg-slate-700 animate-pulse"}),E.jsx("div",{className:"space-y-3",children:[0,1,2].map(d=>E.jsx("article",{className:"list-card animate-pulse",children:E.jsxs("div",{className:"list-card-link",children:[E.jsxs("div",{className:"list-left",children:[E.jsx("div",{className:"mb-2 h-3 w-20 rounded bg-slate-200 dark:bg-slate-700"}),E.jsx("div",{className:"h-4 w-48 rounded bg-slate-200 dark:bg-slate-700"})]}),E.jsx("div",{className:"list-right"})]})},d))})]})]}),t&&E.jsx("p",{className:"mt-8 text-center text-red-500",children:t}),!n&&!t&&E.jsxs("div",{className:"mt-8 space-y-8",children:[c.length>0&&E.jsxs("section",{className:"space-y-3",children:[E.jsx("div",{className:"flex items-center gap-2 text-sm font-bold text-teal-600 dark:text-teal-400",children:" "}),E.jsx("div",{className:"space-y-3",children:c.map(d=>E.jsx("article",{className:"list-card",children:E.jsxs(On,{to:`/notices/${encodeURIComponent(d.id)}`,className:"list-card-link",children:[E.jsxs("div",{className:"list-left",children:[E.jsx("div",{className:"list-date",children:d.createdAt.slice(0,10)}),E.jsx("p",{className:"list-title-strong",children:d.title})]}),E.jsx("div",{className:"list-right",children:E.jsx("span",{className:"badge-pin-dot"})})]})},d.id))})]}),E.jsxs("section",{className:"space-y-3",children:[E.jsx("h2",{className:"text-sm font-bold text-slate-500 dark:text-slate-400",children:" "}),u.length===0?E.jsx("div",{className:"list-empty",children:"  ."}):E.jsx("div",{className:"space-y-3",children:u.map(d=>E.jsx("article",{className:"list-card",children:E.jsxs(On,{to:`/notices/${encodeURIComponent(d.id)}`,className:"list-card-link",children:[E.jsxs("div",{className:"list-left",children:[E.jsx("div",{className:"list-date",children:d.createdAt.slice(0,10)}),E.jsx("p",{className:"list-title",children:d.title})]}),E.jsx("div",{className:"list-right"})]})},d.id))})]})]})]})}function KD(){const[n,e]=O.useState(!0),[t,r]=O.useState(null),[s,l]=O.useState([]),[c,u]=O.useState(1),d=10,h=Ci();O.useEffect(()=>{async function Q(){e(!0),r(null);const xe=await cg();if(!xe.ok){r(xe.error),e(!1);return}l(xe.data),e(!1)}Q()},[]);const m=DE(s),{thisWeekStart:y,nextWeekStart:b}=ID(),v=5,S=Q=>{const xe=m[Q];return xe||{weekStart:Q,capacity:v,booked:0,remaining:v,isClosed:!1}},T=S(y),C=S(b),w=new Date;w.setHours(0,0,0,0);const I=w.toISOString().slice(0,10),B=s.filter(Q=>Q.reviewDate===I),F=[...s].sort((Q,xe)=>Q.reviewDate.localeCompare(xe.reviewDate)),q=Math.max(1,Math.ceil(F.length/d));c>q&&u(q);const W=(c-1)*d,P=F.slice(W,W+d),ee=Q=>{h(`/admin/new?id=${encodeURIComponent(Q)}`)},ne=()=>{u(Q=>Math.max(1,Q-1))},de=()=>{u(Q=>Math.min(q,Q+1))},Oe=Q=>{if(!Q)return null;const xe=new Date(Q);if(Number.isNaN(xe.getTime()))return null;xe.setHours(0,0,0,0);const _e=(xe.getTime()-w.getTime())/(1e3*60*60*24),Se=Math.round(_e);let z="";return Se===0?z="D-day":Se>0?z=`D-${Se}`:z=`D+${Math.abs(Se)}`,{label:z,daysDiff:Se}};return E.jsxs("div",{className:"page-shell",children:[E.jsxs("header",{className:"page-header",children:[E.jsx("h1",{className:"page-title",children:"Dashboard"}),E.jsx("p",{className:"page-subtitle",children:"    "})]}),n&&E.jsx("div",{className:"py-20 text-center",children:"Loading..."}),t&&E.jsx("div",{className:"py-20 text-center text-red-500",children:t}),!n&&!t&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"mb-6 flex flex-wrap gap-3",children:[E.jsx(On,{to:"/admin/new",className:"btn bg-teal-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-teal-700 focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 dark:focus:ring-offset-slate-900",children:"+  "}),E.jsx(On,{to:"/admin/notices/new",className:"btn btn-outline px-4 py-2 text-sm",children:"+ "})]}),E.jsxs("section",{className:"mb-8 grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[E.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900",children:[E.jsx("h2",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400",children:"THIS WEEK"}),E.jsxs("div",{className:"mt-2 flex items-baseline gap-2",children:[E.jsx("span",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:T.booked}),E.jsxs("span",{className:"text-sm text-slate-400",children:["/ ",T.capacity," booked"]})]}),E.jsx("div",{className:"mt-4 h-2 w-full rounded-full bg-slate-100 dark:bg-slate-800",children:E.jsx("div",{className:"h-2 rounded-full bg-teal-500 transition-all",style:{width:`${T.booked/T.capacity*100}%`}})}),E.jsxs("p",{className:"mt-2 text-xs text-teal-600 dark:text-teal-400",children:[T.remaining," slots remaining"]})]}),E.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900",children:[E.jsx("h2",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400",children:"NEXT WEEK"}),E.jsxs("div",{className:"mt-2 flex items-baseline gap-2",children:[E.jsx("span",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:C.booked}),E.jsxs("span",{className:"text-sm text-slate-400",children:["/ ",C.capacity," booked"]})]}),E.jsx("div",{className:"mt-4 h-2 w-full rounded-full bg-slate-100 dark:bg-slate-800",children:E.jsx("div",{className:"h-2 rounded-full bg-indigo-500 transition-all",style:{width:`${C.booked/C.capacity*100}%`}})}),E.jsxs("p",{className:"mt-2 text-xs text-indigo-600 dark:text-indigo-400",children:[C.remaining," slots remaining"]})]}),E.jsxs("div",{className:"rounded-2xl border border-teal-100 bg-teal-50 p-6 shadow-sm dark:border-slate-800 dark:bg-slate-800 lg:col-span-1",children:[E.jsx("h2",{className:"mb-3 text-sm font-semibold text-teal-800 dark:text-teal-200",children:"TODAY'S REVIEW"}),B.length===0?E.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"   ."}):E.jsx("div",{className:"space-y-2",children:B.map(Q=>E.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-white p-3 shadow-sm dark:bg-slate-700",children:[E.jsxs("div",{children:[E.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-100",children:Q.clientName}),E.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-300",children:[Q.finalPrice.toLocaleString(),"  ",Q.status]})]}),E.jsx("button",{onClick:()=>ee(Q.id),className:"text-xs font-medium text-teal-600 hover:text-teal-700 dark:text-teal-400",children:"Edit"})]},Q.id))})]})]}),E.jsxs("section",{className:"space-y-4",children:[E.jsx("h2",{className:"text-sm font-bold text-slate-500 dark:text-slate-400",children:"  "}),P.length===0?E.jsx("div",{className:"list-empty",children:"  ."}):E.jsx("div",{className:"space-y-3",children:P.map(Q=>{const xe=Oe(Q.reviewDate),_e=xe?.label??"",Se=xe&&xe.daysDiff>=0&&xe.daysDiff<=3,z=Q.status==="DONE"||Q.status==="";return E.jsx("article",{className:`list-card transition-all ${Se?"border-amber-300 bg-amber-50/70 shadow-md ring-1 ring-amber-200 dark:border-amber-400/70 dark:bg-amber-950/30 dark:ring-amber-500/40":""} ${z?"opacity-60 hover:opacity-90":""}`,children:E.jsxs("div",{className:"list-card-link cursor-default",children:[E.jsxs("div",{className:"list-left",children:[E.jsxs("div",{className:"mb-1 flex flex-wrap items-center gap-2 text-xs",children:[E.jsxs("span",{className:"font-semibold text-slate-800 dark:text-slate-100",children:[" ",Q.reviewDate]}),_e&&E.jsx("span",{className:`rounded-full px-2 py-0.5 text-[11px] font-semibold ${Se?"bg-amber-100 text-amber-800 dark:bg-amber-500/20 dark:text-amber-100":"bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-100"}`,children:_e}),Q.materialReceivedDate&&E.jsxs("span",{className:"text-[11px] text-slate-400 dark:text-slate-500",children:["  ",Q.materialReceivedDate]}),z&&E.jsx("span",{className:"rounded-full bg-emerald-100 px-2 py-0.5 text-[11px] font-semibold text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-200",children:""})]}),E.jsx("p",{className:`list-title-strong ${z?"line-through":""}`,children:Q.clientName}),E.jsxs("p",{className:"list-note",children:[": ",Q.depositorName||"-"]})]}),E.jsxs("div",{className:"list-right",children:[E.jsx("span",{className:"badge-status",children:Q.status}),E.jsxs("span",{className:"text-sm font-bold text-slate-900 dark:text-slate-100",children:[Q.finalPrice.toLocaleString(),""]}),E.jsx("button",{onClick:()=>ee(Q.id),className:"text-xs font-medium text-teal-600 hover:text-teal-700 dark:text-teal-400",children:""})]})]})},Q.id)})}),E.jsxs("div",{className:"pagination-bar",children:[E.jsxs("span",{children:["Page ",c," of ",q]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:ne,disabled:c===1,className:"pagination-btn",children:""}),E.jsx("button",{onClick:de,disabled:c===q,className:"pagination-btn",children:""})]})]})]})]})]})}function GD(){const[n,e]=O.useState(""),[t,r]=O.useState(""),[s,l]=O.useState("PAID"),[c,u]=O.useState(""),[d,h]=O.useState(""),[m,y]=O.useState(""),[b,v]=O.useState(!1),[S,T]=O.useState(!1),[C,w]=O.useState(null),I=Ci(),[B]=jS(),F=B.get("id"),q=!!F;O.useEffect(()=>{if(!q)return;async function de(){T(!0),w(null);const Oe=await cg();if(!Oe.ok){w(`   : ${Oe.error}`),T(!1);return}const Q=Oe.data.find(xe=>xe.id===F);if(!Q){w("    ."),T(!1);return}e(Q.clientName),r(Q.depositorName||""),l(Q.status),u(Q.materialReceivedDate||""),h(Q.reviewDate),y(Q.memo||""),T(!1)}de()},[q,F]);const W=c&&d,P=W?RE(c,d,5e4):null,ee=async de=>{if(de.preventDefault(),w(null),!n||!d){w("    .");return}v(!0);const Oe={clientName:n,depositorName:t,status:s,reviewDate:d,materialReceivedDate:c||void 0,memo:m},Q=q&&F?await PD(F,Oe):await BD(Oe);if(v(!1),!Q.ok){w(`${q?"":""} : ${Q.error}`);return}alert(` ${q?"":""}.`),I("/admin")},ne=b||S;return E.jsxs("div",{className:"page-shell",children:[E.jsxs("header",{className:"page-header",children:[E.jsx("h1",{className:"page-title",children:q?" ":" "}),E.jsx("p",{className:"page-subtitle",children:"   ,       ."})]}),E.jsxs("form",{onSubmit:ee,className:"space-y-6",children:[C&&E.jsx("div",{className:"rounded-lg bg-red-50 p-4 text-sm text-red-600 dark:bg-red-900/20 dark:text-red-400",children:C}),E.jsxs("div",{className:"section-grid-2",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsxs("label",{className:"form-label",children:["  ",E.jsx("span",{className:"text-teal-500",children:"*"})]}),E.jsx("input",{type:"text",value:n,onChange:de=>e(de.target.value),className:"form-input",disabled:ne})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"form-label",children:""}),E.jsx("input",{type:"text",value:t,onChange:de=>r(de.target.value),className:"form-input",disabled:ne})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"form-label",children:""}),E.jsxs("select",{value:s,onChange:de=>l(de.target.value),className:"form-select",disabled:ne,children:[E.jsx("option",{value:"PAID",children:"  (PAID)"}),E.jsx("option",{value:"REVIEW_REQUESTED",children:"  (REVIEW_REQUESTED)"}),E.jsx("option",{value:"DONE",children:"  (DONE)"})]})]}),E.jsxs("div",{className:"section-grid-2",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"form-label",children:"  "}),E.jsx("input",{type:"date",value:c,onChange:de=>u(de.target.value),className:"form-input",disabled:ne})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("label",{className:"form-label",children:["  ",E.jsx("span",{className:"text-teal-500",children:"*"})]}),E.jsx("input",{type:"date",value:d,onChange:de=>h(de.target.value),className:"form-input",required:!0,disabled:ne})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"form-label",children:""}),E.jsx("textarea",{value:m,onChange:de=>y(de.target.value),className:"form-textarea min-h-[100px]",disabled:ne})]}),E.jsxs("div",{className:"rounded-xl border border-teal-100 bg-teal-50/50 p-5 dark:border-teal-900/30 dark:bg-teal-900/10",children:[E.jsx("h3",{className:"mb-2 text-sm font-bold text-teal-800 dark:text-teal-200",children:"  "}),W&&P?E.jsxs("div",{className:"space-y-1 text-sm text-slate-700 dark:text-slate-300",children:[E.jsxs("p",{children:[":"," ",E.jsxs("span",{className:"font-medium",children:[P.diffDays," "]})]}),E.jsxs("p",{children:[":"," ",E.jsx("span",{className:"font-medium",children:P.priceTier})]}),E.jsxs("div",{className:"mt-2 flex items-center gap-2 border-t border-teal-200 pt-2 dark:border-teal-800",children:[E.jsx("span",{children:":"}),E.jsxs("span",{className:"text-lg font-bold text-teal-600 dark:text-teal-400",children:[P.finalPrice.toLocaleString(),""]}),E.jsxs("span",{className:"text-xs text-slate-400",children:["(+",P.extraPrice.toLocaleString(),")"]})]})]}):E.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"     . (  50,000)"})]}),E.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[E.jsx("button",{type:"button",onClick:()=>I("/admin"),className:"btn-ghost",children:""}),E.jsx("button",{type:"submit",disabled:ne,className:"btn btn-primary px-5 py-2.5 disabled:opacity-50",children:q?b?" ...":" ":b?" ...":" "})]})]})]})}var Ep={exports:{}},kp={};var W1;function YD(){if(W1)return kp;W1=1;var n=fo();function e(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,s=n.useEffect,l=n.useLayoutEffect,c=n.useDebugValue;function u(y,b){var v=b(),S=r({inst:{value:v,getSnapshot:b}}),T=S[0].inst,C=S[1];return l(function(){T.value=v,T.getSnapshot=b,d(T)&&C({inst:T})},[y,v,b]),s(function(){return d(T)&&C({inst:T}),y(function(){d(T)&&C({inst:T})})},[y]),c(v),v}function d(y){var b=y.getSnapshot;y=y.value;try{var v=b();return!t(y,v)}catch{return!0}}function h(y,b){return b()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return kp.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,kp}var J1;function zE(){return J1||(J1=1,Ep.exports=YD()),Ep.exports}var jE=zE();function Tt(n){this.content=n}Tt.prototype={constructor:Tt,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,s=r.find(n),l=r.content.slice();return s==-1?l.push(t||n,e):(l[s+1]=e,t&&(l[s]=t)),new Tt(l)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new Tt(t)},addToStart:function(n,e){return new Tt([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new Tt(t)},addBefore:function(n,e,t){var r=this.remove(e),s=r.content.slice(),l=r.find(n);return s.splice(l==-1?s.length:l,0,e,t),new Tt(s)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=Tt.from(n),n.size?new Tt(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=Tt.from(n),n.size?new Tt(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=Tt.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};Tt.from=function(n){if(n instanceof Tt)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new Tt(e)};function BE(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let s=n.child(r),l=e.child(r);if(s==l){t+=s.nodeSize;continue}if(!s.sameMarkup(l))return t;if(s.isText&&s.text!=l.text){for(let c=0;s.text[c]==l.text[c];c++)t++;return t}if(s.content.size||l.content.size){let c=BE(s.content,l.content,t+1);if(c!=null)return c}t+=s.nodeSize}}function UE(n,e,t,r){for(let s=n.childCount,l=e.childCount;;){if(s==0||l==0)return s==l?null:{a:t,b:r};let c=n.child(--s),u=e.child(--l),d=c.nodeSize;if(c==u){t-=d,r-=d;continue}if(!c.sameMarkup(u))return{a:t,b:r};if(c.isText&&c.text!=u.text){let h=0,m=Math.min(c.text.length,u.text.length);for(;h<m&&c.text[c.text.length-h-1]==u.text[u.text.length-h-1];)h++,t--,r--;return{a:t,b:r}}if(c.content.size||u.content.size){let h=UE(c.content,u.content,t-1,r-1);if(h)return h}t-=d,r-=d}}class G{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,s=0,l){for(let c=0,u=0;u<t;c++){let d=this.content[c],h=u+d.nodeSize;if(h>e&&r(d,s+u,l||null,c)!==!1&&d.content.size){let m=u+1;d.nodesBetween(Math.max(0,e-m),Math.min(d.content.size,t-m),r,s+m)}u=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,s){let l="",c=!0;return this.nodesBetween(e,t,(u,d)=>{let h=u.isText?u.text.slice(Math.max(e,d)-d,t-d):u.isLeaf?s?typeof s=="function"?s(u):s:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&h||u.isTextblock)&&r&&(c?c=!1:l+=r),l+=h},0),l}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,s=this.content.slice(),l=0;for(t.isText&&t.sameMarkup(r)&&(s[s.length-1]=t.withText(t.text+r.text),l=1);l<e.content.length;l++)s.push(e.content[l]);return new G(s,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],s=0;if(t>e)for(let l=0,c=0;c<t;l++){let u=this.content[l],d=c+u.nodeSize;d>e&&((c<e||d>t)&&(u.isText?u=u.cut(Math.max(0,e-c),Math.min(u.text.length,t-c)):u=u.cut(Math.max(0,e-c-1),Math.min(u.content.size,t-c-1))),r.push(u),s+=u.nodeSize),c=d}return new G(r,s)}cutByIndex(e,t){return e==t?G.empty:e==0&&t==this.content.length?this:new G(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let s=this.content.slice(),l=this.size+t.nodeSize-r.nodeSize;return s[e]=t,new G(s,l)}addToStart(e){return new G([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new G(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let s=this.content[t];e(s,r,t),r+=s.nodeSize}}findDiffStart(e,t=0){return BE(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return UE(this,e,t,r)}findIndex(e){if(e==0)return Yc(0,e);if(e==this.size)return Yc(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let t=0,r=0;;t++){let s=this.child(t),l=r+s.nodeSize;if(l>=e)return l==e?Yc(t+1,l):Yc(t,r);r=l}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return G.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new G(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return G.empty;let t,r=0;for(let s=0;s<e.length;s++){let l=e[s];r+=l.nodeSize,s&&l.isText&&e[s-1].sameMarkup(l)?(t||(t=e.slice(0,s)),t[t.length-1]=l.withText(t[t.length-1].text+l.text)):t&&t.push(l)}return new G(t||e,r)}static from(e){if(!e)return G.empty;if(e instanceof G)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new G([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}G.empty=new G([],0);const Tp={index:0,offset:0};function Yc(n,e){return Tp.index=n,Tp.offset=e,Tp}function Au(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!Au(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!Au(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let $e=class pm{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let s=0;s<e.length;s++){let l=e[s];if(this.eq(l))return e;if(this.type.excludes(l.type))t||(t=e.slice(0,s));else{if(l.type.excludes(this.type))return e;!r&&l.type.rank>this.type.rank&&(t||(t=e.slice(0,s)),t.push(this),r=!0),t&&t.push(l)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Au(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let s=r.create(t.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return pm.none;if(e instanceof pm)return[e];let t=e.slice();return t.sort((r,s)=>r.type.rank-s.type.rank),t}};$e.none=[];class Nu extends Error{}class Z{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=HE(this.content,e+this.openStart,t);return r&&new Z(r,this.openStart,this.openEnd)}removeBetween(e,t){return new Z(PE(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return Z.empty;let r=t.openStart||0,s=t.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Z(G.fromJSON(e,t.content),r,s)}static maxOpen(e,t=!0){let r=0,s=0;for(let l=e.firstChild;l&&!l.isLeaf&&(t||!l.type.spec.isolating);l=l.firstChild)r++;for(let l=e.lastChild;l&&!l.isLeaf&&(t||!l.type.spec.isolating);l=l.lastChild)s++;return new Z(e,r,s)}}Z.empty=new Z(G.empty,0,0);function PE(n,e,t){let{index:r,offset:s}=n.findIndex(e),l=n.maybeChild(r),{index:c,offset:u}=n.findIndex(t);if(s==e||l.isText){if(u!=t&&!n.child(c).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=c)throw new RangeError("Removing non-flat range");return n.replaceChild(r,l.copy(PE(l.content,e-s-1,t-s-1)))}function HE(n,e,t,r){let{index:s,offset:l}=n.findIndex(e),c=n.maybeChild(s);if(l==e||c.isText)return r&&!r.canReplace(s,s,t)?null:n.cut(0,e).append(t).append(n.cut(e));let u=HE(c.content,e-l-1,t,c);return u&&n.replaceChild(s,c.copy(u))}function WD(n,e,t){if(t.openStart>n.depth)throw new Nu("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new Nu("Inconsistent open depths");return VE(n,e,t,0)}function VE(n,e,t,r){let s=n.index(r),l=n.node(r);if(s==e.index(r)&&r<n.depth-t.openStart){let c=VE(n,e,t,r+1);return l.copy(l.content.replaceChild(s,c))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let c=n.parent,u=c.content;return is(c,u.cut(0,n.parentOffset).append(t.content).append(u.cut(e.parentOffset)))}else{let{start:c,end:u}=JD(t,n);return is(l,qE(n,c,u,e,r))}else return is(l,Mu(n,e,r))}function $E(n,e){if(!e.type.compatibleContent(n.type))throw new Nu("Cannot join "+e.type.name+" onto "+n.type.name)}function mm(n,e,t){let r=n.node(t);return $E(r,e.node(t)),r}function rs(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function Ul(n,e,t,r){let s=(e||n).node(t),l=0,c=e?e.index(t):s.childCount;n&&(l=n.index(t),n.depth>t?l++:n.textOffset&&(rs(n.nodeAfter,r),l++));for(let u=l;u<c;u++)rs(s.child(u),r);e&&e.depth==t&&e.textOffset&&rs(e.nodeBefore,r)}function is(n,e){return n.type.checkContent(e),n.copy(e)}function qE(n,e,t,r,s){let l=n.depth>s&&mm(n,e,s+1),c=r.depth>s&&mm(t,r,s+1),u=[];return Ul(null,n,s,u),l&&c&&e.index(s)==t.index(s)?($E(l,c),rs(is(l,qE(n,e,t,r,s+1)),u)):(l&&rs(is(l,Mu(n,e,s+1)),u),Ul(e,t,s,u),c&&rs(is(c,Mu(t,r,s+1)),u)),Ul(r,null,s,u),new G(u)}function Mu(n,e,t){let r=[];if(Ul(null,n,t,r),n.depth>t){let s=mm(n,e,t+1);rs(is(s,Mu(n,e,t+1)),r)}return Ul(e,null,t,r),new G(r)}function JD(n,e){let t=e.depth-n.openStart,s=e.node(t).copy(n.content);for(let l=t-1;l>=0;l--)s=e.node(l).copy(G.from(s));return{start:s.resolveNoCache(n.openStart+t),end:s.resolveNoCache(s.content.size-n.openEnd-t)}}class to{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(t);return r?e.child(t).cut(r):s}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],s=t==0?0:this.path[t*3-1]+1;for(let l=0;l<e;l++)s+=r.child(l).nodeSize;return s}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return $e.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),s=e.maybeChild(t);if(!r){let u=r;r=s,s=u}let l=r.marks;for(var c=0;c<l.length;c++)l[c].type.spec.inclusive===!1&&(!s||!l[c].isInSet(s.marks))&&(l=l[c--].removeFromSet(l));return l}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,s=e.parent.maybeChild(e.index());for(var l=0;l<r.length;l++)r[l].type.spec.inclusive===!1&&(!s||!r[l].isInSet(s.marks))&&(r=r[l--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new Ou(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],s=0,l=t;for(let c=e;;){let{index:u,offset:d}=c.content.findIndex(l),h=l-d;if(r.push(c,u,s+d),!h||(c=c.child(u),c.isText))break;l=h-1,s+=d+1}return new to(t,r,l)}static resolveCached(e,t){let r=X1.get(e);if(r)for(let l=0;l<r.elts.length;l++){let c=r.elts[l];if(c.pos==t)return c}else X1.set(e,r=new XD);let s=r.elts[r.i]=to.resolve(e,t);return r.i=(r.i+1)%QD,s}}class XD{constructor(){this.elts=[],this.i=0}}const QD=12,X1=new WeakMap;class Ou{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const ZD=Object.create(null);class Mn{constructor(e,t,r,s=$e.none){this.type=e,this.attrs=t,this.marks=s,this.content=r||G.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,s=0){this.content.nodesBetween(e,t,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,s){return this.content.textBetween(e,t,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&Au(this.attrs,t||e.defaultAttrs||ZD)&&$e.sameSet(this.marks,r||$e.none)}copy(e=null){return e==this.content?this:new Mn(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Mn(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return Z.empty;let s=this.resolve(e),l=this.resolve(t),c=r?0:s.sharedDepth(t),u=s.start(c),h=s.node(c).content.cut(s.pos-u,l.pos-u);return new Z(h,s.depth-c,l.depth-c)}replace(e,t,r){return WD(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:s}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(s==e||t.isText)return t;e-=s+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let s=this.content.child(t-1);return{node:s,index:t-1,offset:r-s.nodeSize}}resolve(e){return to.resolveCached(this,e)}resolveNoCache(e){return to.resolve(this,e)}rangeHasMark(e,t,r){let s=!1;return t>e&&this.nodesBetween(e,t,l=>(r.isInSet(l.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),FE(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=G.empty,s=0,l=r.childCount){let c=this.contentMatchAt(e).matchFragment(r,s,l),u=c&&c.matchFragment(this.content,t);if(!u||!u.validEnd)return!1;for(let d=s;d<l;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(e,t,r,s){if(s&&!this.type.allowsMarks(s))return!1;let l=this.contentMatchAt(e).matchType(r),c=l&&l.matchFragment(this.content,t);return c?c.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=$e.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!$e.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let s=G.fromJSON(e,t.content),l=e.nodeType(t.type).create(t.attrs,s,r);return l.type.checkAttrs(l.attrs),l}}Mn.prototype.text=void 0;class Ru extends Mn{constructor(e,t,r,s){if(super(e,t,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):FE(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Ru(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Ru(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function FE(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class us{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new e_(e,t);if(r.next==null)return us.empty;let s=KE(r);r.next&&r.err("Unexpected trailing text");let l=l_(a_(s));return o_(l,r),l}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let s=this;for(let l=t;s&&l<r;l++)s=s.matchType(e.child(l).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let s=[this];function l(c,u){let d=c.matchFragment(e,r);if(d&&(!t||d.validEnd))return G.from(u.map(h=>h.createAndFill()));for(let h=0;h<c.next.length;h++){let{type:m,next:y}=c.next[h];if(!(m.isText||m.hasRequiredAttrs())&&s.indexOf(y)==-1){s.push(y);let b=l(y,u.concat(m));if(b)return b}}return null}return l(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),l=s.match;if(l.matchType(e)){let c=[];for(let u=s;u.type;u=u.via)c.push(u.type);return c.reverse()}for(let c=0;c<l.next.length;c++){let{type:u,next:d}=l.next[c];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in t)&&(!s.type||d.validEnd)&&(r.push({match:u.contentMatch,type:u,via:s}),t[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&t(r.next[s].next)}return t(this),e.map((r,s)=>{let l=s+(r.validEnd?"*":" ")+" ";for(let c=0;c<r.next.length;c++)l+=(c?", ":"")+r.next[c].type.name+"->"+e.indexOf(r.next[c].next);return l}).join(`
`)}}us.empty=new us(!0);class e_{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function KE(n){let e=[];do e.push(t_(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function t_(n){let e=[];do e.push(n_(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function n_(n){let e=s_(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=r_(n,e);else break;return e}function Q1(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function r_(n,e){let t=Q1(n),r=t;return n.eat(",")&&(n.next!="}"?r=Q1(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function i_(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let s=[];for(let l in t){let c=t[l];c.isInGroup(e)&&s.push(c)}return s.length==0&&n.err("No node type or group '"+e+"' found"),s}function s_(n){if(n.eat("(")){let e=KE(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=i_(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function a_(n){let e=[[]];return s(l(n,0),t()),e;function t(){return e.push([])-1}function r(c,u,d){let h={term:d,to:u};return e[c].push(h),h}function s(c,u){c.forEach(d=>d.to=u)}function l(c,u){if(c.type=="choice")return c.exprs.reduce((d,h)=>d.concat(l(h,u)),[]);if(c.type=="seq")for(let d=0;;d++){let h=l(c.exprs[d],u);if(d==c.exprs.length-1)return h;s(h,u=t())}else if(c.type=="star"){let d=t();return r(u,d),s(l(c.expr,d),d),[r(d)]}else if(c.type=="plus"){let d=t();return s(l(c.expr,u),d),s(l(c.expr,d),d),[r(d)]}else{if(c.type=="opt")return[r(u)].concat(l(c.expr,u));if(c.type=="range"){let d=u;for(let h=0;h<c.min;h++){let m=t();s(l(c.expr,d),m),d=m}if(c.max==-1)s(l(c.expr,d),d);else for(let h=c.min;h<c.max;h++){let m=t();r(d,m),s(l(c.expr,d),m),d=m}return[r(d)]}else{if(c.type=="name")return[r(u,void 0,c.value)];throw new Error("Unknown expr type")}}}}function GE(n,e){return e-n}function Z1(n,e){let t=[];return r(e),t.sort(GE);function r(s){let l=n[s];if(l.length==1&&!l[0].term)return r(l[0].to);t.push(s);for(let c=0;c<l.length;c++){let{term:u,to:d}=l[c];!u&&t.indexOf(d)==-1&&r(d)}}}function l_(n){let e=Object.create(null);return t(Z1(n,0));function t(r){let s=[];r.forEach(c=>{n[c].forEach(({term:u,to:d})=>{if(!u)return;let h;for(let m=0;m<s.length;m++)s[m][0]==u&&(h=s[m][1]);Z1(n,d).forEach(m=>{h||s.push([u,h=[]]),h.indexOf(m)==-1&&h.push(m)})})});let l=e[r.join(",")]=new us(r.indexOf(n.length-1)>-1);for(let c=0;c<s.length;c++){let u=s[c][1].sort(GE);l.next.push({type:s[c][0],next:e[u.join(",")]||t(u)})}return l}}function o_(n,e){for(let t=0,r=[n];t<r.length;t++){let s=r[t],l=!s.validEnd,c=[];for(let u=0;u<s.next.length;u++){let{type:d,next:h}=s.next[u];c.push(d.name),l&&!(d.isText||d.hasRequiredAttrs())&&(l=!1),r.indexOf(h)==-1&&r.push(h)}l&&e.err("Only non-generatable nodes ("+c.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function YE(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function WE(n,e){let t=Object.create(null);for(let r in n){let s=e&&e[r];if(s===void 0){let l=n[r];if(l.hasDefault)s=l.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=s}return t}function JE(n,e,t,r){for(let s in e)if(!(s in n))throw new RangeError(`Unsupported attribute ${s} for ${t} of type ${s}`);for(let s in n){let l=n[s];l.validate&&l.validate(e[s])}}function XE(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new u_(n,r,e[r]);return t}let ex=class QE{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=XE(e,r.attrs),this.defaultAttrs=YE(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==us.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:WE(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Mn(this,this.computeAttrs(e),G.from(t),$e.setFrom(r))}createChecked(e=null,t,r){return t=G.from(t),this.checkContent(t),new Mn(this,this.computeAttrs(e),t,$e.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=G.from(t),t.size){let c=this.contentMatch.fillBefore(t);if(!c)return null;t=c.append(t)}let s=this.contentMatch.matchFragment(t),l=s&&s.fillBefore(G.empty,!0);return l?new Mn(this,e,t.append(l),$e.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){JE(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:$e.none:e}static compile(e,t){let r=Object.create(null);e.forEach((l,c)=>r[l]=new QE(l,t,c));let s=t.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let l in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function c_(n,e,t){let r=t.split("|");return s=>{let l=s===null?"null":typeof s;if(r.indexOf(l)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${l}`)}}class u_{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?c_(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Nf{constructor(e,t,r,s){this.name=e,this.rank=t,this.schema=r,this.spec=s,this.attrs=XE(e,s.attrs),this.excluded=null;let l=YE(this.attrs);this.instance=l?new $e(this,l):null}create(e=null){return!e&&this.instance?this.instance:new $e(this,WE(this.attrs,e))}static compile(e,t){let r=Object.create(null),s=0;return e.forEach((l,c)=>r[l]=new Nf(l,s++,t,c)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){JE(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class ZE{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let s in e)t[s]=e[s];t.nodes=Tt.from(e.nodes),t.marks=Tt.from(e.marks||{}),this.nodes=ex.compile(this.spec.nodes,this),this.marks=Nf.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let l=this.nodes[s],c=l.spec.content||"",u=l.spec.marks;if(l.contentMatch=r[c]||(r[c]=us.parse(c,this.nodes)),l.inlineContent=l.contentMatch.inlineContent,l.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!l.isInline||!l.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=l}l.markSet=u=="_"?null:u?tx(this,u.split(" ")):u==""||!l.inlineContent?[]:null}for(let s in this.marks){let l=this.marks[s],c=l.spec.excludes;l.excluded=c==null?[l]:c==""?[]:tx(this,c.split(" "))}this.nodeFromJSON=s=>Mn.fromJSON(this,s),this.markFromJSON=s=>$e.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof ex){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,s)}text(e,t){let r=this.nodes.text;return new Ru(r,r.defaultAttrs,e,$e.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function tx(n,e){let t=[];for(let r=0;r<e.length;r++){let s=e[r],l=n.marks[s],c=l;if(l)t.push(l);else for(let u in n.marks){let d=n.marks[u];(s=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(s)>-1)&&t.push(c=d)}if(!c)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function f_(n){return n.tag!=null}function d_(n){return n.style!=null}class bi{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(s=>{if(f_(s))this.tags.push(s);else if(d_(s)){let l=/[^=]*/.exec(s.style)[0];r.indexOf(l)<0&&r.push(l),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let l=e.nodes[s.node];return l.contentMatch.matchType(l)})}parse(e,t={}){let r=new rx(this,t,!1);return r.addAll(e,$e.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new rx(this,t,!0);return r.addAll(e,$e.none,t.from,t.to),Z.maxOpen(r.finish())}matchTag(e,t,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let l=this.tags[s];if(m_(e,l.tag)&&(l.namespace===void 0||e.namespaceURI==l.namespace)&&(!l.context||t.matchesContext(l.context))){if(l.getAttrs){let c=l.getAttrs(e);if(c===!1)continue;l.attrs=c||void 0}return l}}}matchStyle(e,t,r,s){for(let l=s?this.styles.indexOf(s)+1:0;l<this.styles.length;l++){let c=this.styles[l],u=c.style;if(!(u.indexOf(e)!=0||c.context&&!r.matchesContext(c.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=t))){if(c.getAttrs){let d=c.getAttrs(t);if(d===!1)continue;c.attrs=d||void 0}return c}}}static schemaRules(e){let t=[];function r(s){let l=s.priority==null?50:s.priority,c=0;for(;c<t.length;c++){let u=t[c];if((u.priority==null?50:u.priority)<l)break}t.splice(c,0,s)}for(let s in e.marks){let l=e.marks[s].spec.parseDOM;l&&l.forEach(c=>{r(c=ix(c)),c.mark||c.ignore||c.clearMark||(c.mark=s)})}for(let s in e.nodes){let l=e.nodes[s].spec.parseDOM;l&&l.forEach(c=>{r(c=ix(c)),c.node||c.ignore||c.mark||(c.node=s)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new bi(e,bi.schemaRules(e)))}}const ek={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},h_={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},tk={ol:!0,ul:!0},no=1,gm=2,Pl=4;function nx(n,e,t){return e!=null?(e?no:0)|(e==="full"?gm:0):n&&n.whitespace=="pre"?no|gm:t&~Pl}class Wc{constructor(e,t,r,s,l,c){this.type=e,this.attrs=t,this.marks=r,this.solid=s,this.options=c,this.content=[],this.activeMarks=$e.none,this.match=l||(c&Pl?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(G.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&no)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let l=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=l.withText(l.text.slice(0,l.text.length-s[0].length))}}let t=G.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(G.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!ek.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class rx{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=t.topNode,l,c=nx(null,t.preserveWhitespace,0)|(r?Pl:0);s?l=new Wc(s.type,s.attrs,$e.none,!0,t.topMatch||s.type.contentMatch,c):r?l=new Wc(null,null,$e.none,!0,null,c):l=new Wc(e.schema.topNodeType,null,$e.none,!0,null,c),this.nodes=[l],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,s=this.top,l=s.options&gm?"full":this.localPreserveWS||(s.options&no)>0,{schema:c}=this.parser;if(l==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(l)if(l==="full")r=r.replace(/\r\n?/g,`
`);else if(c.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(c.linebreakReplacement.create())){let u=r.split(/\r?\n|\r/);for(let d=0;d<u.length;d++)d&&this.insertNode(c.linebreakReplacement.create(),t,!0),u[d]&&this.insertNode(c.text(u[d]),t,!/\S/.test(u[d]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let u=s.content[s.content.length-1],d=e.previousSibling;(!u||d&&d.nodeName=="BR"||u.isText&&/[ \t\r\n\u000c]$/.test(u.text))&&(r=r.slice(1))}r&&this.insertNode(c.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let s=this.localPreserveWS,l=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let c=e.nodeName.toLowerCase(),u;tk.hasOwnProperty(c)&&this.parser.normalizeLists&&p_(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(u=this.parser.matchTag(e,this,r));e:if(d?d.ignore:h_.hasOwnProperty(c))this.findInside(e),this.ignoreFallback(e,t);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let h,m=this.needsBlock;if(ek.hasOwnProperty(c))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),h=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let y=d&&d.skip?t:this.readStyles(e,t);y&&this.addAll(e,y),h&&this.sync(l),this.needsBlock=m}else{let h=this.readStyles(e,t);h&&this.addElementByRule(e,d,h,d.consuming===!1?u:void 0)}this.localPreserveWS=s}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let l=this.parser.matchedStyles[s],c=r.getPropertyValue(l);if(c)for(let u=void 0;;){let d=this.parser.matchStyle(l,c,this,u);if(!d)break;if(d.ignore)return null;if(d.clearMark?t=t.filter(h=>!d.clearMark(h)):t=t.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)u=d;else break}}return t}addElementByRule(e,t,r,s){let l,c;if(t.node)if(c=this.parser.schema.nodes[t.node],c.isLeaf)this.insertNode(c.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let d=this.enter(c,t.attrs||null,r,t.preserveWhitespace);d&&(l=!0,r=d)}else{let d=this.parser.schema.marks[t.mark];r=r.concat(d.create(t.attrs))}let u=this.top;if(c&&c.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,r,!1));else{let d=e;typeof t.contentElement=="string"?d=e.querySelector(t.contentElement):typeof t.contentElement=="function"?d=t.contentElement(e):t.contentElement&&(d=t.contentElement),this.findAround(e,d,!0),this.addAll(d,r),this.findAround(e,d,!1)}l&&this.sync(u)&&this.open--}addAll(e,t,r,s){let l=r||0;for(let c=r?e.childNodes[r]:e.firstChild,u=s==null?null:e.childNodes[s];c!=u;c=c.nextSibling,++l)this.findAtPoint(e,l),this.addDOM(c,t);this.findAtPoint(e,l)}findPlace(e,t,r){let s,l;for(let c=this.open,u=0;c>=0;c--){let d=this.nodes[c],h=d.findWrapping(e);if(h&&(!s||s.length>h.length+u)&&(s=h,l=d,!h.length))break;if(d.solid){if(r)break;u+=2}}if(!s)return null;this.sync(l);for(let c=0;c<s.length;c++)t=this.enterInner(s[c],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let l=this.textblockFromContext();l&&(t=this.enterInner(l,null,t))}let s=this.findPlace(e,t,r);if(s){this.closeExtra();let l=this.top;l.match&&(l.match=l.match.matchType(e.type));let c=$e.none;for(let u of s.concat(e.marks))(l.type?l.type.allowsMarkType(u.type):sx(u.type,e.type))&&(c=u.addToSet(c));return l.content.push(e.mark(c)),!0}return!1}enter(e,t,r,s){let l=this.findPlace(e.create(t),r,!1);return l&&(l=this.enterInner(e,t,r,!0,s)),l}enterInner(e,t,r,s=!1,l){this.closeExtra();let c=this.top;c.match=c.match&&c.match.matchType(e);let u=nx(e,l,c.options);c.options&Pl&&c.content.length==0&&(u|=Pl);let d=$e.none;return r=r.filter(h=>(c.type?c.type.allowsMarkType(h.type):sx(h.type,e))?(d=h.addToSet(d),!1):!0),this.nodes.push(new Wc(e,t,d,s,null,u)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=no)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&t.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),l=-(r?r.depth+1:0)+(s?0:1),c=(u,d)=>{for(;u>=0;u--){let h=t[u];if(h==""){if(u==t.length-1||u==0)continue;for(;d>=l;d--)if(c(u-1,d))return!0;return!1}else{let m=d>0||d==0&&s?this.nodes[d].type:r&&d>=l?r.node(d-l).type:null;if(!m||m.name!=h&&!m.isInGroup(h))return!1;d--}}return!0};return c(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function p_(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&tk.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function m_(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function ix(n){let e={};for(let t in n)e[t]=n[t];return e}function sx(n,e){let t=e.schema.nodes;for(let r in t){let s=t[r];if(!s.allowsMarkType(n))continue;let l=[],c=u=>{l.push(u);for(let d=0;d<u.edgeCount;d++){let{type:h,next:m}=u.edge(d);if(h==e||l.indexOf(m)<0&&c(m))return!0}};if(c(s.contentMatch))return!0}}class ys{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=Cp(t).createDocumentFragment());let s=r,l=[];return e.forEach(c=>{if(l.length||c.marks.length){let u=0,d=0;for(;u<l.length&&d<c.marks.length;){let h=c.marks[d];if(!this.marks[h.type.name]){d++;continue}if(!h.eq(l[u][0])||h.type.spec.spanning===!1)break;u++,d++}for(;u<l.length;)s=l.pop()[1];for(;d<c.marks.length;){let h=c.marks[d++],m=this.serializeMark(h,c.isInline,t);m&&(l.push([h,s]),s.appendChild(m.dom),s=m.contentDOM||m.dom)}}s.appendChild(this.serializeNodeInner(c,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:s}=hu(Cp(t),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,s)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let s=e.marks.length-1;s>=0;s--){let l=this.serializeMark(e.marks[s],e.isInline,t);l&&((l.contentDOM||l.dom).appendChild(r),r=l.dom)}return r}serializeMark(e,t,r={}){let s=this.marks[e.type.name];return s&&hu(Cp(r),s(e,t),null,e.attrs)}static renderSpec(e,t,r=null,s){return hu(e,t,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ys(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=ax(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return ax(e.marks)}}function ax(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function Cp(n){return n.document||window.document}const lx=new WeakMap;function g_(n){let e=lx.get(n);return e===void 0&&lx.set(n,e=y_(n)),e}function y_(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)t(r[s]);else for(let s in r)t(r[s])}return t(n),e}function hu(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],l;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(l=g_(r))&&l.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let c=s.indexOf(" ");c>0&&(t=s.slice(0,c),s=s.slice(c+1));let u,d=t?n.createElementNS(t,s):n.createElement(s),h=e[1],m=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){m=2;for(let y in h)if(h[y]!=null){let b=y.indexOf(" ");b>0?d.setAttributeNS(y.slice(0,b),y.slice(b+1),h[y]):y=="style"&&d.style?d.style.cssText=h[y]:d.setAttribute(y,h[y])}}for(let y=m;y<e.length;y++){let b=e[y];if(b===0){if(y<e.length-1||y>m)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:v,contentDOM:S}=hu(n,b,t,r);if(d.appendChild(v),S){if(u)throw new RangeError("Multiple content holes");u=S}}}return{dom:d,contentDOM:u}}const nk=65535,rk=Math.pow(2,16);function b_(n,e){return n+e*rk}function ox(n){return n&nk}function v_(n){return(n-(n&nk))/rk}const ik=1,sk=2,pu=4,ak=8;class ym{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&ak)>0}get deletedBefore(){return(this.delInfo&(ik|pu))>0}get deletedAfter(){return(this.delInfo&(sk|pu))>0}get deletedAcross(){return(this.delInfo&pu)>0}}class nn{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&nn.empty)return nn.empty}recover(e){let t=0,r=ox(e);if(!this.inverted)for(let s=0;s<r;s++)t+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+t+v_(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let s=0,l=this.inverted?2:1,c=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?s:0);if(d>e)break;let h=this.ranges[u+l],m=this.ranges[u+c],y=d+h;if(e<=y){let b=h?e==d?-1:e==y?1:t:t,v=d+s+(b<0?0:m);if(r)return v;let S=e==(t<0?d:y)?null:b_(u/3,e-d),T=e==d?sk:e==y?ik:pu;return(t<0?e!=d:e!=y)&&(T|=ak),new ym(v,T,S)}s+=m-h}return r?e+s:new ym(e+s,0,null)}touches(e,t){let r=0,s=ox(t),l=this.inverted?2:1,c=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?r:0);if(d>e)break;let h=this.ranges[u+l],m=d+h;if(e<=m&&u==s*3)return!0;r+=this.ranges[u+c]-h}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,l=0;s<this.ranges.length;s+=3){let c=this.ranges[s],u=c-(this.inverted?l:0),d=c+(this.inverted?0:l),h=this.ranges[s+t],m=this.ranges[s+r];e(u,u+h,d,d+m),l+=m-h}}invert(){return new nn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?nn.empty:new nn(e<0?[0,-e,0]:[0,0,e])}}nn.empty=new nn([]);class ro{constructor(e,t,r=0,s=e?e.length:0){this.mirror=t,this.from=r,this.to=s,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new ro(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let s=e.getMirror(t);this.appendMap(e._maps[t],s!=null&&s<t?r+s:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let s=e.getMirror(t);this.appendMap(e._maps[t].invert(),s!=null&&s>t?r-s-1:void 0)}}invert(){let e=new ro;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let s=0;for(let l=this.from;l<this.to;l++){let c=this._maps[l],u=c.mapResult(e,t);if(u.recover!=null){let d=this.getMirror(l);if(d!=null&&d>l&&d<this.to){l=d,e=this._maps[d].recover(u.recover);continue}}s|=u.delInfo,e=u.pos}return r?e:new ym(e,s,null)}}const wp=Object.create(null);class Ot{getMap(){return nn.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=wp[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in wp)throw new RangeError("Duplicate use of step JSON ID "+e);return wp[e]=t,t.prototype.jsonID=e,t}}class ct{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new ct(e,null)}static fail(e){return new ct(null,e)}static fromReplace(e,t,r,s){try{return ct.ok(e.replace(t,r,s))}catch(l){if(l instanceof Nu)return ct.fail(l.message);throw l}}}function ug(n,e,t){let r=[];for(let s=0;s<n.childCount;s++){let l=n.child(s);l.content.size&&(l=l.copy(ug(l.content,e,l))),l.isInline&&(l=e(l,t,s)),r.push(l)}return G.fromArray(r)}class di extends Ot{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),l=new Z(ug(t.content,(c,u)=>!c.isAtom||!u.type.allowsMarkType(this.mark.type)?c:c.mark(this.mark.addToSet(c.marks)),s),t.openStart,t.openEnd);return ct.fromReplace(e,this.from,this.to,l)}invert(){return new Nn(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new di(t.pos,r.pos,this.mark)}merge(e){return e instanceof di&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new di(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new di(t.from,t.to,e.markFromJSON(t.mark))}}Ot.jsonID("addMark",di);class Nn extends Ot{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new Z(ug(t.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),t.openStart,t.openEnd);return ct.fromReplace(e,this.from,this.to,r)}invert(){return new di(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Nn(t.pos,r.pos,this.mark)}merge(e){return e instanceof Nn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Nn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Nn(t.from,t.to,e.markFromJSON(t.mark))}}Ot.jsonID("removeMark",Nn);class hi extends Ot{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return ct.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return ct.fromReplace(e,this.pos,this.pos+1,new Z(G.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let s=0;s<t.marks.length;s++)if(!t.marks[s].isInSet(r))return new hi(this.pos,t.marks[s]);return new hi(this.pos,this.mark)}}return new fs(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new hi(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new hi(t.pos,e.markFromJSON(t.mark))}}Ot.jsonID("addNodeMark",hi);class fs extends Ot{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return ct.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return ct.fromReplace(e,this.pos,this.pos+1,new Z(G.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new hi(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new fs(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new fs(t.pos,e.markFromJSON(t.mark))}}Ot.jsonID("removeNodeMark",fs);class mt extends Ot{constructor(e,t,r,s=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=s}apply(e){return this.structure&&bm(e,this.from,this.to)?ct.fail("Structure replace would overwrite content"):ct.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new nn([this.from,this.to-this.from,this.slice.size])}invert(e){return new mt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new mt(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof mt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?Z.empty:new Z(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new mt(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?Z.empty:new Z(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new mt(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new mt(t.from,t.to,Z.fromJSON(e,t.slice),!!t.structure)}}Ot.jsonID("replace",mt);class yt extends Ot{constructor(e,t,r,s,l,c,u=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=s,this.slice=l,this.insert=c,this.structure=u}apply(e){if(this.structure&&(bm(e,this.from,this.gapFrom)||bm(e,this.gapTo,this.to)))return ct.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return ct.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?ct.fromReplace(e,this.from,this.to,r):ct.fail("Content does not fit in gap")}getMap(){return new nn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new yt(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),l=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||s<t.pos||l>r.pos?null:new yt(t.pos,r.pos,s,l,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new yt(t.from,t.to,t.gapFrom,t.gapTo,Z.fromJSON(e,t.slice),t.insert,!!t.structure)}}Ot.jsonID("replaceAround",yt);function bm(n,e,t){let r=n.resolve(e),s=t-e,l=r.depth;for(;s>0&&l>0&&r.indexAfter(l)==r.node(l).childCount;)l--,s--;if(s>0){let c=r.node(l).maybeChild(r.indexAfter(l));for(;s>0;){if(!c||c.isLeaf)return!0;c=c.firstChild,s--}}return!1}function x_(n,e,t,r){let s=[],l=[],c,u;n.doc.nodesBetween(e,t,(d,h,m)=>{if(!d.isInline)return;let y=d.marks;if(!r.isInSet(y)&&m.type.allowsMarkType(r.type)){let b=Math.max(h,e),v=Math.min(h+d.nodeSize,t),S=r.addToSet(y);for(let T=0;T<y.length;T++)y[T].isInSet(S)||(c&&c.to==b&&c.mark.eq(y[T])?c.to=v:s.push(c=new Nn(b,v,y[T])));u&&u.to==b?u.to=v:l.push(u=new di(b,v,r))}}),s.forEach(d=>n.step(d)),l.forEach(d=>n.step(d))}function S_(n,e,t,r){let s=[],l=0;n.doc.nodesBetween(e,t,(c,u)=>{if(!c.isInline)return;l++;let d=null;if(r instanceof Nf){let h=c.marks,m;for(;m=r.isInSet(h);)(d||(d=[])).push(m),h=m.removeFromSet(h)}else r?r.isInSet(c.marks)&&(d=[r]):d=c.marks;if(d&&d.length){let h=Math.min(u+c.nodeSize,t);for(let m=0;m<d.length;m++){let y=d[m],b;for(let v=0;v<s.length;v++){let S=s[v];S.step==l-1&&y.eq(s[v].style)&&(b=S)}b?(b.to=h,b.step=l):s.push({style:y,from:Math.max(u,e),to:h,step:l})}}}),s.forEach(c=>n.step(new Nn(c.from,c.to,c.style)))}function fg(n,e,t,r=t.contentMatch,s=!0){let l=n.doc.nodeAt(e),c=[],u=e+1;for(let d=0;d<l.childCount;d++){let h=l.child(d),m=u+h.nodeSize,y=r.matchType(h.type);if(!y)c.push(new mt(u,m,Z.empty));else{r=y;for(let b=0;b<h.marks.length;b++)t.allowsMarkType(h.marks[b].type)||n.step(new Nn(u,m,h.marks[b]));if(s&&h.isText&&t.whitespace!="pre"){let b,v=/\r?\n|\r/g,S;for(;b=v.exec(h.text);)S||(S=new Z(G.from(t.schema.text(" ",t.allowedMarks(h.marks))),0,0)),c.push(new mt(u+b.index,u+b.index+b[0].length,S))}}u=m}if(!r.validEnd){let d=r.fillBefore(G.empty,!0);n.replace(u,u,new Z(d,0,0))}for(let d=c.length-1;d>=0;d--)n.step(c[d])}function E_(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function Ra(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth,s=0,l=0;;--r){let c=n.$from.node(r),u=n.$from.index(r)+s,d=n.$to.indexAfter(r)-l;if(r<n.depth&&c.canReplace(u,d,t))return r;if(r==0||c.type.spec.isolating||!E_(c,u,d))break;u&&(s=1),d<c.childCount&&(l=1)}return null}function k_(n,e,t){let{$from:r,$to:s,depth:l}=e,c=r.before(l+1),u=s.after(l+1),d=c,h=u,m=G.empty,y=0;for(let S=l,T=!1;S>t;S--)T||r.index(S)>0?(T=!0,m=G.from(r.node(S).copy(m)),y++):d--;let b=G.empty,v=0;for(let S=l,T=!1;S>t;S--)T||s.after(S+1)<s.end(S)?(T=!0,b=G.from(s.node(S).copy(b)),v++):h++;n.step(new yt(d,h,c,u,new Z(m.append(b),y,v),m.size-y,!0))}function dg(n,e,t=null,r=n){let s=T_(n,e),l=s&&C_(r,e);return l?s.map(cx).concat({type:e,attrs:t}).concat(l.map(cx)):null}function cx(n){return{type:n,attrs:null}}function T_(n,e){let{parent:t,startIndex:r,endIndex:s}=n,l=t.contentMatchAt(r).findWrapping(e);if(!l)return null;let c=l.length?l[0]:e;return t.canReplaceWith(r,s,c)?l:null}function C_(n,e){let{parent:t,startIndex:r,endIndex:s}=n,l=t.child(r),c=e.contentMatch.findWrapping(l.type);if(!c)return null;let d=(c.length?c[c.length-1]:e).contentMatch;for(let h=r;d&&h<s;h++)d=d.matchType(t.child(h).type);return!d||!d.validEnd?null:c}function w_(n,e,t){let r=G.empty;for(let c=t.length-1;c>=0;c--){if(r.size){let u=t[c].type.contentMatch.matchFragment(r);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=G.from(t[c].type.create(t[c].attrs,r))}let s=e.start,l=e.end;n.step(new yt(s,l,s,l,new Z(r,0,0),t.length,!0))}function A_(n,e,t,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let l=n.steps.length;n.doc.nodesBetween(e,t,(c,u)=>{let d=typeof s=="function"?s(c):s;if(c.isTextblock&&!c.hasMarkup(r,d)&&N_(n.doc,n.mapping.slice(l).map(u),r)){let h=null;if(r.schema.linebreakReplacement){let v=r.whitespace=="pre",S=!!r.contentMatch.matchType(r.schema.linebreakReplacement);v&&!S?h=!1:!v&&S&&(h=!0)}h===!1&&ok(n,c,u,l),fg(n,n.mapping.slice(l).map(u,1),r,void 0,h===null);let m=n.mapping.slice(l),y=m.map(u,1),b=m.map(u+c.nodeSize,1);return n.step(new yt(y,b,y+1,b-1,new Z(G.from(r.create(d,null,c.marks)),0,0),1,!0)),h===!0&&lk(n,c,u,l),!1}})}function lk(n,e,t,r){e.forEach((s,l)=>{if(s.isText){let c,u=/\r?\n|\r/g;for(;c=u.exec(s.text);){let d=n.mapping.slice(r).map(t+1+l+c.index);n.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function ok(n,e,t,r){e.forEach((s,l)=>{if(s.type==s.type.schema.linebreakReplacement){let c=n.mapping.slice(r).map(t+1+l);n.replaceWith(c,c+1,e.type.schema.text(`
`))}})}function N_(n,e,t){let r=n.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,t)}function M_(n,e,t,r,s){let l=n.doc.nodeAt(e);if(!l)throw new RangeError("No node at given position");t||(t=l.type);let c=t.create(r,null,s||l.marks);if(l.isLeaf)return n.replaceWith(e,e+l.nodeSize,c);if(!t.validContent(l.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new yt(e,e+l.nodeSize,e+1,e+l.nodeSize-1,new Z(G.from(c),0,0),1,!0))}function xr(n,e,t=1,r){let s=n.resolve(e),l=s.depth-t,c=r&&r[r.length-1]||s.parent;if(l<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!c.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let h=s.depth-1,m=t-2;h>l;h--,m--){let y=s.node(h),b=s.index(h);if(y.type.spec.isolating)return!1;let v=y.content.cutByIndex(b,y.childCount),S=r&&r[m+1];S&&(v=v.replaceChild(0,S.type.create(S.attrs)));let T=r&&r[m]||y;if(!y.canReplace(b+1,y.childCount)||!T.type.validContent(v))return!1}let u=s.indexAfter(l),d=r&&r[0];return s.node(l).canReplaceWith(u,u,d?d.type:s.node(l+1).type)}function O_(n,e,t=1,r){let s=n.doc.resolve(e),l=G.empty,c=G.empty;for(let u=s.depth,d=s.depth-t,h=t-1;u>d;u--,h--){l=G.from(s.node(u).copy(l));let m=r&&r[h];c=G.from(m?m.type.create(m.attrs,c):s.node(u).copy(c))}n.step(new mt(e,e,new Z(l.append(c),t,t),!0))}function Ni(n,e){let t=n.resolve(e),r=t.index();return ck(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function R_(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let s=0;s<e.childCount;s++){let l=e.child(s),c=l.type==r?n.type.schema.nodes.text:l.type;if(t=t.matchType(c),!t||!n.type.allowsMarks(l.marks))return!1}return t.validEnd}function ck(n,e){return!!(n&&e&&!n.isLeaf&&R_(n,e))}function Mf(n,e,t=-1){let r=n.resolve(e);for(let s=r.depth;;s--){let l,c,u=r.index(s);if(s==r.depth?(l=r.nodeBefore,c=r.nodeAfter):t>0?(l=r.node(s+1),u++,c=r.node(s).maybeChild(u)):(l=r.node(s).maybeChild(u-1),c=r.node(s+1)),l&&!l.isTextblock&&ck(l,c)&&r.node(s).canReplace(u,u+1))return e;if(s==0)break;e=t<0?r.before(s):r.after(s)}}function D_(n,e,t){let r=null,{linebreakReplacement:s}=n.doc.type.schema,l=n.doc.resolve(e-t),c=l.node().type;if(s&&c.inlineContent){let m=c.whitespace=="pre",y=!!c.contentMatch.matchType(s);m&&!y?r=!1:!m&&y&&(r=!0)}let u=n.steps.length;if(r===!1){let m=n.doc.resolve(e+t);ok(n,m.node(),m.before(),u)}c.inlineContent&&fg(n,e+t-1,c,l.node().contentMatchAt(l.index()),r==null);let d=n.mapping.slice(u),h=d.map(e-t);if(n.step(new mt(h,d.map(e+t,-1),Z.empty,!0)),r===!0){let m=n.doc.resolve(h);lk(n,m.node(),m.before(),n.steps.length)}return n}function __(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let l=r.index(s);if(r.node(s).canReplaceWith(l,l,t))return r.before(s+1);if(l>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let l=r.indexAfter(s);if(r.node(s).canReplaceWith(l,l,t))return r.after(s+1);if(l<r.node(s).childCount)return null}return null}function uk(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let s=t.content;for(let l=0;l<t.openStart;l++)s=s.firstChild.content;for(let l=1;l<=(t.openStart==0&&t.size?2:1);l++)for(let c=r.depth;c>=0;c--){let u=c==r.depth?0:r.pos<=(r.start(c+1)+r.end(c+1))/2?-1:1,d=r.index(c)+(u>0?1:0),h=r.node(c),m=!1;if(l==1)m=h.canReplace(d,d,s);else{let y=h.contentMatchAt(d).findWrapping(s.firstChild.type);m=y&&h.canReplaceWith(d,d,y[0])}if(m)return u==0?r.pos:u<0?r.before(c+1):r.after(c+1)}return null}function Of(n,e,t=e,r=Z.empty){if(e==t&&!r.size)return null;let s=n.resolve(e),l=n.resolve(t);return fk(s,l,r)?new mt(e,t,r):new I_(s,l,r).fit()}function fk(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class I_{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=G.empty;for(let s=0;s<=e.depth;s++){let l=e.node(s);this.frontier.push({type:l.type,match:l.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=G.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let l=this.placed,c=r.depth,u=s.depth;for(;c&&u&&l.childCount==1;)l=l.firstChild.content,c--,u--;let d=new Z(l,c,u);return e>-1?new yt(r.pos,e,this.$to.pos,this.$to.end(),d,t):d.size||r.pos!=this.$to.pos?new mt(r.pos,s.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let l=t.firstChild;if(t.childCount>1&&(s=0),l.type.spec.isolating&&s<=r){e=r;break}t=l.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let s,l=null;r?(l=Ap(this.unplaced.content,r-1).firstChild,s=l.content):s=this.unplaced.content;let c=s.firstChild;for(let u=this.depth;u>=0;u--){let{type:d,match:h}=this.frontier[u],m,y=null;if(t==1&&(c?h.matchType(c.type)||(y=h.fillBefore(G.from(c),!1)):l&&d.compatibleContent(l.type)))return{sliceDepth:r,frontierDepth:u,parent:l,inject:y};if(t==2&&c&&(m=h.findWrapping(c.type)))return{sliceDepth:r,frontierDepth:u,parent:l,wrap:m};if(l&&h.matchType(l.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,s=Ap(e,t);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new Z(e,t+1,Math.max(r,s.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,s=Ap(e,t);if(s.childCount<=1&&t>0){let l=e.size-t<=t+s.size;this.unplaced=new Z(_l(e,t-1,1),t-1,l?t-1:r)}else this.unplaced=new Z(_l(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:s,wrap:l}){for(;this.depth>t;)this.closeFrontierNode();if(l)for(let T=0;T<l.length;T++)this.openFrontierNode(l[T]);let c=this.unplaced,u=r?r.content:c.content,d=c.openStart-e,h=0,m=[],{match:y,type:b}=this.frontier[t];if(s){for(let T=0;T<s.childCount;T++)m.push(s.child(T));y=y.matchFragment(s)}let v=u.size+e-(c.content.size-c.openEnd);for(;h<u.childCount;){let T=u.child(h),C=y.matchType(T.type);if(!C)break;h++,(h>1||d==0||T.content.size)&&(y=C,m.push(dk(T.mark(b.allowedMarks(T.marks)),h==1?d:0,h==u.childCount?v:-1)))}let S=h==u.childCount;S||(v=-1),this.placed=Il(this.placed,t,G.from(m)),this.frontier[t].match=y,S&&v<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let T=0,C=u;T<v;T++){let w=C.lastChild;this.frontier.push({type:w.type,match:w.contentMatchAt(w.childCount)}),C=w.content}this.unplaced=S?e==0?Z.empty:new Z(_l(c.content,e-1,1),e-1,v<0?c.openEnd:e-1):new Z(_l(c.content,e,h),c.openStart,c.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Np(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:s}=this.frontier[t],l=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),c=Np(e,t,s,r,l);if(c){for(let u=t-1;u>=0;u--){let{match:d,type:h}=this.frontier[u],m=Np(e,u,h,d,!0);if(!m||m.childCount)continue e}return{depth:t,fit:c,move:l?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Il(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let s=e.node(r),l=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,l)}return e}openFrontierNode(e,t=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=Il(this.placed,this.depth,G.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(G.empty,!0);t.childCount&&(this.placed=Il(this.placed,this.frontier.length,t))}}function _l(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(_l(n.firstChild.content,e-1,t)))}function Il(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(Il(n.lastChild.content,e-1,t)))}function Ap(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function dk(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,dk(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(G.empty,!0)))),n.copy(r)}function Np(n,e,t,r,s){let l=n.node(e),c=s?n.indexAfter(e):n.index(e);if(c==l.childCount&&!t.compatibleContent(l.type))return null;let u=r.fillBefore(l.content,!0,c);return u&&!L_(t,l.content,c)?u:null}function L_(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function z_(n){return n.spec.defining||n.spec.definingForContent}function j_(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let s=n.doc.resolve(e),l=n.doc.resolve(t);if(fk(s,l,r))return n.step(new mt(e,t,r));let c=pk(s,l);c[c.length-1]==0&&c.pop();let u=-(s.depth+1);c.unshift(u);for(let b=s.depth,v=s.pos-1;b>0;b--,v--){let S=s.node(b).type.spec;if(S.defining||S.definingAsContext||S.isolating)break;c.indexOf(b)>-1?u=b:s.before(b)==v&&c.splice(1,0,-b)}let d=c.indexOf(u),h=[],m=r.openStart;for(let b=r.content,v=0;;v++){let S=b.firstChild;if(h.push(S),v==r.openStart)break;b=S.content}for(let b=m-1;b>=0;b--){let v=h[b],S=z_(v.type);if(S&&!v.sameMarkup(s.node(Math.abs(u)-1)))m=b;else if(S||!v.type.isTextblock)break}for(let b=r.openStart;b>=0;b--){let v=(b+m+1)%(r.openStart+1),S=h[v];if(S)for(let T=0;T<c.length;T++){let C=c[(T+d)%c.length],w=!0;C<0&&(w=!1,C=-C);let I=s.node(C-1),B=s.index(C-1);if(I.canReplaceWith(B,B,S.type,S.marks))return n.replace(s.before(C),w?l.after(C):t,new Z(hk(r.content,0,r.openStart,v),v,r.openEnd))}}let y=n.steps.length;for(let b=c.length-1;b>=0&&(n.replace(e,t,r),!(n.steps.length>y));b--){let v=c[b];v<0||(e=s.before(v),t=l.after(v))}}function hk(n,e,t,r,s){if(e<t){let l=n.firstChild;n=n.replaceChild(0,l.copy(hk(l.content,e+1,t,r,l)))}if(e>r){let l=s.contentMatchAt(0),c=l.fillBefore(n).append(n);n=c.append(l.matchFragment(c).fillBefore(G.empty,!0))}return n}function B_(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let s=__(n.doc,e,r.type);s!=null&&(e=t=s)}n.replaceRange(e,t,new Z(G.from(r),0,0))}function U_(n,e,t){let r=n.doc.resolve(e),s=n.doc.resolve(t),l=pk(r,s);for(let c=0;c<l.length;c++){let u=l[c],d=c==l.length-1;if(d&&u==0||r.node(u).type.contentMatch.validEnd)return n.delete(r.start(u),s.end(u));if(u>0&&(d||r.node(u-1).canReplace(r.index(u-1),s.indexAfter(u-1))))return n.delete(r.before(u),s.after(u))}for(let c=1;c<=r.depth&&c<=s.depth;c++)if(e-r.start(c)==r.depth-c&&t>r.end(c)&&s.end(c)-t!=s.depth-c&&r.start(c-1)==s.start(c-1)&&r.node(c-1).canReplace(r.index(c-1),s.index(c-1)))return n.delete(r.before(c),t);n.delete(e,t)}function pk(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let s=r;s>=0;s--){let l=n.start(s);if(l<n.pos-(n.depth-s)||e.end(s)>e.pos+(e.depth-s)||n.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(l==e.start(s)||s==n.depth&&s==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==l-1)&&t.push(s)}return t}class pa extends Ot{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return ct.fail("No node at attribute step's position");let r=Object.create(null);for(let l in t.attrs)r[l]=t.attrs[l];r[this.attr]=this.value;let s=t.type.create(r,null,t.marks);return ct.fromReplace(e,this.pos,this.pos+1,new Z(G.from(s),0,t.isLeaf?0:1))}getMap(){return nn.empty}invert(e){return new pa(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new pa(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new pa(t.pos,t.attr,t.value)}}Ot.jsonID("attr",pa);class io extends Ot{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let s in e.attrs)t[s]=e.attrs[s];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return ct.ok(r)}getMap(){return nn.empty}invert(e){return new io(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new io(t.attr,t.value)}}Ot.jsonID("docAttr",io);let va=class extends Error{};va=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};va.prototype=Object.create(Error.prototype);va.prototype.constructor=va;va.prototype.name="TransformError";class mk{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new ro}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new va(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=Z.empty){let s=Of(this.doc,e,t,r);return s&&this.step(s),this}replaceWith(e,t,r){return this.replace(e,t,new Z(G.from(r),0,0))}delete(e,t){return this.replace(e,t,Z.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return j_(this,e,t,r),this}replaceRangeWith(e,t,r){return B_(this,e,t,r),this}deleteRange(e,t){return U_(this,e,t),this}lift(e,t){return k_(this,e,t),this}join(e,t=1){return D_(this,e,t),this}wrap(e,t){return w_(this,e,t),this}setBlockType(e,t=e,r,s=null){return A_(this,e,t,r,s),this}setNodeMarkup(e,t,r=null,s){return M_(this,e,t,r,s),this}setNodeAttribute(e,t,r){return this.step(new pa(e,t,r)),this}setDocAttribute(e,t){return this.step(new io(e,t)),this}addNodeMark(e,t){return this.step(new hi(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof $e)t.isInSet(r.marks)&&this.step(new fs(e,t));else{let s=r.marks,l,c=[];for(;l=t.isInSet(s);)c.push(new fs(e,l)),s=l.removeFromSet(s);for(let u=c.length-1;u>=0;u--)this.step(c[u])}return this}split(e,t=1,r){return O_(this,e,t,r),this}addMark(e,t,r){return x_(this,e,t,r),this}removeMark(e,t,r){return S_(this,e,t,r),this}clearIncompatible(e,t,r){return fg(this,e,t,r),this}}const Mp=Object.create(null);class ve{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new P_(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=Z.empty){let r=t.content.lastChild,s=null;for(let u=0;u<t.openEnd;u++)s=r,r=r.lastChild;let l=e.steps.length,c=this.ranges;for(let u=0;u<c.length;u++){let{$from:d,$to:h}=c[u],m=e.mapping.slice(l);e.replaceRange(m.map(d.pos),m.map(h.pos),u?Z.empty:t),u==0&&dx(e,l,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,s=this.ranges;for(let l=0;l<s.length;l++){let{$from:c,$to:u}=s[l],d=e.mapping.slice(r),h=d.map(c.pos),m=d.map(u.pos);l?e.deleteRange(h,m):(e.replaceRangeWith(h,m,t),dx(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let s=e.parent.inlineContent?new he(e):ia(e.node(0),e.parent,e.pos,e.index(),t,r);if(s)return s;for(let l=e.depth-1;l>=0;l--){let c=t<0?ia(e.node(0),e.node(l),e.before(l+1),e.index(l),t,r):ia(e.node(0),e.node(l),e.after(l+1),e.index(l)+1,t,r);if(c)return c}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new rn(e.node(0))}static atStart(e){return ia(e,e,0,0,1)||new rn(e)}static atEnd(e){return ia(e,e,e.content.size,e.childCount,-1)||new rn(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Mp[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Mp)throw new RangeError("Duplicate use of selection JSON ID "+e);return Mp[e]=t,t.prototype.jsonID=e,t}getBookmark(){return he.between(this.$anchor,this.$head).getBookmark()}}ve.prototype.visible=!0;class P_{constructor(e,t){this.$from=e,this.$to=t}}let ux=!1;function fx(n){!ux&&!n.parent.inlineContent&&(ux=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class he extends ve{constructor(e,t=e){fx(e),fx(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return ve.near(r);let s=e.resolve(t.map(this.anchor));return new he(s.parent.inlineContent?s:r,r)}replace(e,t=Z.empty){if(super.replace(e,t),t==Z.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof he&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Rf(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new he(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let s=e.resolve(t);return new this(s,r==t?s:e.resolve(r))}static between(e,t,r){let s=e.pos-t.pos;if((!r||s)&&(r=s>=0?1:-1),!t.parent.inlineContent){let l=ve.findFrom(t,r,!0)||ve.findFrom(t,-r,!0);if(l)t=l.$head;else return ve.near(t,r)}return e.parent.inlineContent||(s==0?e=t:(e=(ve.findFrom(e,-r,!0)||ve.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=s<0&&(e=t))),new he(e,t)}}ve.jsonID("text",he);class Rf{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Rf(e.map(this.anchor),e.map(this.head))}resolve(e){return he.between(e.resolve(this.anchor),e.resolve(this.head))}}class ce extends ve{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:s}=t.mapResult(this.anchor),l=e.resolve(s);return r?ve.near(l):new ce(l)}content(){return new Z(G.from(this.node),0,0)}eq(e){return e instanceof ce&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new hg(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ce(e.resolve(t.anchor))}static create(e,t){return new ce(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ce.prototype.visible=!1;ve.jsonID("node",ce);class hg{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new Rf(r,r):new hg(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&ce.isSelectable(r)?new ce(t):ve.near(t)}}class rn extends ve{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=Z.empty){if(t==Z.empty){e.delete(0,e.doc.content.size);let r=ve.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new rn(e)}map(e){return new rn(e)}eq(e){return e instanceof rn}getBookmark(){return H_}}ve.jsonID("all",rn);const H_={map(){return this},resolve(n){return new rn(n)}};function ia(n,e,t,r,s,l=!1){if(e.inlineContent)return he.create(n,t);for(let c=r-(s>0?0:1);s>0?c<e.childCount:c>=0;c+=s){let u=e.child(c);if(u.isAtom){if(!l&&ce.isSelectable(u))return ce.create(n,t-(s<0?u.nodeSize:0))}else{let d=ia(n,u,t+s,s<0?u.childCount:0,s,l);if(d)return d}t+=u.nodeSize*s}return null}function dx(n,e,t){let r=n.steps.length-1;if(r<e)return;let s=n.steps[r];if(!(s instanceof mt||s instanceof yt))return;let l=n.mapping.maps[r],c;l.forEach((u,d,h,m)=>{c==null&&(c=m)}),n.setSelection(ve.near(n.doc.resolve(c),t))}const hx=1,Jc=2,px=4;class V_ extends mk{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|hx)&~Jc,this.storedMarks=null,this}get selectionSet(){return(this.updated&hx)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Jc,this}ensureMarks(e){return $e.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Jc)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~Jc,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||$e.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let s=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),!e)return this.deleteRange(t,r);let l=this.storedMarks;if(!l){let c=this.doc.resolve(t);l=r==t?c.marks():c.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,s.text(e,l)),!this.selection.empty&&this.selection.to==t+e.length&&this.setSelection(ve.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=px,this}get scrolledIntoView(){return(this.updated&px)>0}}function mx(n,e){return!e||!n?n:n.bind(e)}class Ll{constructor(e,t,r){this.name=e,this.init=mx(t.init,r),this.apply=mx(t.apply,r)}}const $_=[new Ll("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new Ll("selection",{init(n,e){return n.selection||ve.atStart(e.doc)},apply(n){return n.selection}}),new Ll("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new Ll("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class Op{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=$_.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Ll(r.key,r.spec.state,r))})}}class ca{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),s=null;for(;;){let l=!1;for(let c=0;c<this.config.plugins.length;c++){let u=this.config.plugins[c];if(u.spec.appendTransaction){let d=s?s[c].n:0,h=s?s[c].state:this,m=d<t.length&&u.spec.appendTransaction.call(u,d?t.slice(d):t,h,r);if(m&&r.filterTransaction(m,c)){if(m.setMeta("appendedTransaction",e),!s){s=[];for(let y=0;y<this.config.plugins.length;y++)s.push(y<c?{state:r,n:t.length}:{state:this,n:0})}t.push(m),r=r.applyInner(m),l=!0}s&&(s[c]={state:r,n:t.length})}}if(!l)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new ca(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let l=r[s];t[l.name]=l.apply(e,this[l.name],this,t)}return t}get tr(){return new V_(this)}static create(e){let t=new Op(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new ca(t);for(let s=0;s<t.fields.length;s++)r[t.fields[s].name]=t.fields[s].init(e,r);return r}reconfigure(e){let t=new Op(this.schema,e.plugins),r=t.fields,s=new ca(t);for(let l=0;l<r.length;l++){let c=r[l].name;s[c]=this.hasOwnProperty(c)?this[c]:r[l].init(e,s)}return s}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],l=s.spec.state;l&&l.toJSON&&(t[r]=l.toJSON.call(s,this[s.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new Op(e.schema,e.plugins),l=new ca(s);return s.fields.forEach(c=>{if(c.name=="doc")l.doc=Mn.fromJSON(e.schema,t.doc);else if(c.name=="selection")l.selection=ve.fromJSON(l.doc,t.selection);else if(c.name=="storedMarks")t.storedMarks&&(l.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let u in r){let d=r[u],h=d.spec.state;if(d.key==c.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(t,u)){l[c.name]=h.fromJSON.call(d,e,t[u],l);return}}l[c.name]=c.init(e,l)}}),l}}function gk(n,e,t){for(let r in n){let s=n[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=gk(s,e,{})),t[r]=s}return t}class Je{constructor(e){this.spec=e,this.props={},e.props&&gk(e.props,this,this.props),this.key=e.key?e.key.key:yk("plugin")}getState(e){return e[this.key]}}const Rp=Object.create(null);function yk(n){return n in Rp?n+"$"+ ++Rp[n]:(Rp[n]=0,n+"$")}class dt{constructor(e="key"){this.key=yk(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const pg=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function bk(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const vk=(n,e,t)=>{let r=bk(n,t);if(!r)return!1;let s=mg(r);if(!s){let c=r.blockRange(),u=c&&Ra(c);return u==null?!1:(e&&e(n.tr.lift(c,u).scrollIntoView()),!0)}let l=s.nodeBefore;if(Nk(n,s,e,-1))return!0;if(r.parent.content.size==0&&(xa(l,"end")||ce.isSelectable(l)))for(let c=r.depth;;c--){let u=Of(n.doc,r.before(c),r.after(c),Z.empty);if(u&&u.slice.size<u.to-u.from){if(e){let d=n.tr.step(u);d.setSelection(xa(l,"end")?ve.findFrom(d.doc.resolve(d.mapping.map(s.pos,-1)),-1):ce.create(d.doc,s.pos-l.nodeSize)),e(d.scrollIntoView())}return!0}if(c==1||r.node(c-1).childCount>1)break}return l.isAtom&&s.depth==r.depth-1?(e&&e(n.tr.delete(s.pos-l.nodeSize,s.pos).scrollIntoView()),!0):!1},q_=(n,e,t)=>{let r=bk(n,t);if(!r)return!1;let s=mg(r);return s?xk(n,s,e):!1},F_=(n,e,t)=>{let r=Ek(n,t);if(!r)return!1;let s=gg(r);return s?xk(n,s,e):!1};function xk(n,e,t){let r=e.nodeBefore,s=r,l=e.pos-1;for(;!s.isTextblock;l--){if(s.type.spec.isolating)return!1;let m=s.lastChild;if(!m)return!1;s=m}let c=e.nodeAfter,u=c,d=e.pos+1;for(;!u.isTextblock;d++){if(u.type.spec.isolating)return!1;let m=u.firstChild;if(!m)return!1;u=m}let h=Of(n.doc,l,d,Z.empty);if(!h||h.from!=l||h instanceof mt&&h.slice.size>=d-l)return!1;if(t){let m=n.tr.step(h);m.setSelection(he.create(m.doc,l)),t(m.scrollIntoView())}return!0}function xa(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const Sk=(n,e,t)=>{let{$head:r,empty:s}=n.selection,l=r;if(!s)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;l=mg(r)}let c=l&&l.nodeBefore;return!c||!ce.isSelectable(c)?!1:(e&&e(n.tr.setSelection(ce.create(n.doc,l.pos-c.nodeSize)).scrollIntoView()),!0)};function mg(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function Ek(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const kk=(n,e,t)=>{let r=Ek(n,t);if(!r)return!1;let s=gg(r);if(!s)return!1;let l=s.nodeAfter;if(Nk(n,s,e,1))return!0;if(r.parent.content.size==0&&(xa(l,"start")||ce.isSelectable(l))){let c=Of(n.doc,r.before(),r.after(),Z.empty);if(c&&c.slice.size<c.to-c.from){if(e){let u=n.tr.step(c);u.setSelection(xa(l,"start")?ve.findFrom(u.doc.resolve(u.mapping.map(s.pos)),1):ce.create(u.doc,u.mapping.map(s.pos))),e(u.scrollIntoView())}return!0}}return l.isAtom&&s.depth==r.depth-1?(e&&e(n.tr.delete(s.pos,s.pos+l.nodeSize).scrollIntoView()),!0):!1},Tk=(n,e,t)=>{let{$head:r,empty:s}=n.selection,l=r;if(!s)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;l=gg(r)}let c=l&&l.nodeAfter;return!c||!ce.isSelectable(c)?!1:(e&&e(n.tr.setSelection(ce.create(n.doc,l.pos)).scrollIntoView()),!0)};function gg(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const K_=(n,e)=>{let t=n.selection,r=t instanceof ce,s;if(r){if(t.node.isTextblock||!Ni(n.doc,t.from))return!1;s=t.from}else if(s=Mf(n.doc,t.from,-1),s==null)return!1;if(e){let l=n.tr.join(s);r&&l.setSelection(ce.create(l.doc,s-n.doc.resolve(s).nodeBefore.nodeSize)),e(l.scrollIntoView())}return!0},G_=(n,e)=>{let t=n.selection,r;if(t instanceof ce){if(t.node.isTextblock||!Ni(n.doc,t.to))return!1;r=t.to}else if(r=Mf(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},Y_=(n,e)=>{let{$from:t,$to:r}=n.selection,s=t.blockRange(r),l=s&&Ra(s);return l==null?!1:(e&&e(n.tr.lift(s,l).scrollIntoView()),!0)},Ck=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function yg(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const W_=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let s=t.node(-1),l=t.indexAfter(-1),c=yg(s.contentMatchAt(l));if(!c||!s.canReplaceWith(l,l,c))return!1;if(e){let u=t.after(),d=n.tr.replaceWith(u,u,c.createAndFill());d.setSelection(ve.near(d.doc.resolve(u),1)),e(d.scrollIntoView())}return!0},wk=(n,e)=>{let t=n.selection,{$from:r,$to:s}=t;if(t instanceof rn||r.parent.inlineContent||s.parent.inlineContent)return!1;let l=yg(s.parent.contentMatchAt(s.indexAfter()));if(!l||!l.isTextblock)return!1;if(e){let c=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,u=n.tr.insert(c,l.createAndFill());u.setSelection(he.create(u.doc,c+1)),e(u.scrollIntoView())}return!0},Ak=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let l=t.before();if(xr(n.doc,l))return e&&e(n.tr.split(l).scrollIntoView()),!0}let r=t.blockRange(),s=r&&Ra(r);return s==null?!1:(e&&e(n.tr.lift(r,s).scrollIntoView()),!0)};function J_(n){return(e,t)=>{let{$from:r,$to:s}=e.selection;if(e.selection instanceof ce&&e.selection.node.isBlock)return!r.parentOffset||!xr(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let l=[],c,u,d=!1,h=!1;for(let v=r.depth;;v--)if(r.node(v).isBlock){d=r.end(v)==r.pos+(r.depth-v),h=r.start(v)==r.pos-(r.depth-v),u=yg(r.node(v-1).contentMatchAt(r.indexAfter(v-1))),l.unshift(d&&u?{type:u}:null),c=v;break}else{if(v==1)return!1;l.unshift(null)}let m=e.tr;(e.selection instanceof he||e.selection instanceof rn)&&m.deleteSelection();let y=m.mapping.map(r.pos),b=xr(m.doc,y,l.length,l);if(b||(l[0]=u?{type:u}:null,b=xr(m.doc,y,l.length,l)),!b)return!1;if(m.split(y,l.length,l),!d&&h&&r.node(c).type!=u){let v=m.mapping.map(r.before(c)),S=m.doc.resolve(v);u&&r.node(c-1).canReplaceWith(S.index(),S.index()+1,u)&&m.setNodeMarkup(m.mapping.map(r.before(c)),u)}return t&&t(m.scrollIntoView()),!0}}const X_=J_(),Q_=(n,e)=>{let{$from:t,to:r}=n.selection,s,l=t.sharedDepth(r);return l==0?!1:(s=t.before(l),e&&e(n.tr.setSelection(ce.create(n.doc,s))),!0)};function Z_(n,e,t){let r=e.nodeBefore,s=e.nodeAfter,l=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(l-1,l)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(l,l+1)||!(s.isTextblock||Ni(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function Nk(n,e,t,r){let s=e.nodeBefore,l=e.nodeAfter,c,u,d=s.type.spec.isolating||l.type.spec.isolating;if(!d&&Z_(n,e,t))return!0;let h=!d&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(c=(u=s.contentMatchAt(s.childCount)).findWrapping(l.type))&&u.matchType(c[0]||l.type).validEnd){if(t){let v=e.pos+l.nodeSize,S=G.empty;for(let w=c.length-1;w>=0;w--)S=G.from(c[w].create(null,S));S=G.from(s.copy(S));let T=n.tr.step(new yt(e.pos-1,v,e.pos,v,new Z(S,1,0),c.length,!0)),C=T.doc.resolve(v+2*c.length);C.nodeAfter&&C.nodeAfter.type==s.type&&Ni(T.doc,C.pos)&&T.join(C.pos),t(T.scrollIntoView())}return!0}let m=l.type.spec.isolating||r>0&&d?null:ve.findFrom(e,1),y=m&&m.$from.blockRange(m.$to),b=y&&Ra(y);if(b!=null&&b>=e.depth)return t&&t(n.tr.lift(y,b).scrollIntoView()),!0;if(h&&xa(l,"start",!0)&&xa(s,"end")){let v=s,S=[];for(;S.push(v),!v.isTextblock;)v=v.lastChild;let T=l,C=1;for(;!T.isTextblock;T=T.firstChild)C++;if(v.canReplace(v.childCount,v.childCount,T.content)){if(t){let w=G.empty;for(let B=S.length-1;B>=0;B--)w=G.from(S[B].copy(w));let I=n.tr.step(new yt(e.pos-S.length,e.pos+l.nodeSize,e.pos+C,e.pos+l.nodeSize-C,new Z(w,S.length,0),0,!0));t(I.scrollIntoView())}return!0}}return!1}function Mk(n){return function(e,t){let r=e.selection,s=n<0?r.$from:r.$to,l=s.depth;for(;s.node(l).isInline;){if(!l)return!1;l--}return s.node(l).isTextblock?(t&&t(e.tr.setSelection(he.create(e.doc,n<0?s.start(l):s.end(l)))),!0):!1}}const e3=Mk(-1),t3=Mk(1);function n3(n,e=null){return function(t,r){let{$from:s,$to:l}=t.selection,c=s.blockRange(l),u=c&&dg(c,n,e);return u?(r&&r(t.tr.wrap(c,u).scrollIntoView()),!0):!1}}function gx(n,e=null){return function(t,r){let s=!1;for(let l=0;l<t.selection.ranges.length&&!s;l++){let{$from:{pos:c},$to:{pos:u}}=t.selection.ranges[l];t.doc.nodesBetween(c,u,(d,h)=>{if(s)return!1;if(!(!d.isTextblock||d.hasMarkup(n,e)))if(d.type==n)s=!0;else{let m=t.doc.resolve(h),y=m.index();s=m.parent.canReplaceWith(y,y+1,n)}})}if(!s)return!1;if(r){let l=t.tr;for(let c=0;c<t.selection.ranges.length;c++){let{$from:{pos:u},$to:{pos:d}}=t.selection.ranges[c];l.setBlockType(u,d,n,e)}r(l.scrollIntoView())}return!0}}function bg(...n){return function(e,t,r){for(let s=0;s<n.length;s++)if(n[s](e,t,r))return!0;return!1}}bg(pg,vk,Sk);bg(pg,kk,Tk);bg(Ck,wk,Ak,X_);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function r3(n,e=null){return function(t,r){let{$from:s,$to:l}=t.selection,c=s.blockRange(l);if(!c)return!1;let u=r?t.tr:null;return i3(u,c,n,e)?(r&&r(u.scrollIntoView()),!0):!1}}function i3(n,e,t,r=null){let s=!1,l=e,c=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=c.resolve(e.start-2);l=new Ou(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new Ou(e.$from,c.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let u=dg(l,t,r,e);return u?(n&&s3(n,e,u,s,t),!0):!1}function s3(n,e,t,r,s){let l=G.empty;for(let m=t.length-1;m>=0;m--)l=G.from(t[m].type.create(t[m].attrs,l));n.step(new yt(e.start-(r?2:0),e.end,e.start,e.end,new Z(l,0,0),t.length,!0));let c=0;for(let m=0;m<t.length;m++)t[m].type==s&&(c=m+1);let u=t.length-c,d=e.start+t.length-(r?2:0),h=e.parent;for(let m=e.startIndex,y=e.endIndex,b=!0;m<y;m++,b=!1)!b&&xr(n.doc,d,u)&&(n.split(d,u),d+=2*u),d+=h.child(m).nodeSize;return n}function a3(n){return function(e,t){let{$from:r,$to:s}=e.selection,l=r.blockRange(s,c=>c.childCount>0&&c.firstChild.type==n);return l?t?r.node(l.depth-1).type==n?l3(e,t,n,l):o3(e,t,l):!0:!1}}function l3(n,e,t,r){let s=n.tr,l=r.end,c=r.$to.end(r.depth);l<c&&(s.step(new yt(l-1,c,l,c,new Z(G.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new Ou(s.doc.resolve(r.$from.pos),s.doc.resolve(c),r.depth));const u=Ra(r);if(u==null)return!1;s.lift(r,u);let d=s.doc.resolve(s.mapping.map(l,-1)-1);return Ni(s.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&s.join(d.pos),e(s.scrollIntoView()),!0}function o3(n,e,t){let r=n.tr,s=t.parent;for(let v=t.end,S=t.endIndex-1,T=t.startIndex;S>T;S--)v-=s.child(S).nodeSize,r.delete(v-1,v+1);let l=r.doc.resolve(t.start),c=l.nodeAfter;if(r.mapping.map(t.end)!=t.start+l.nodeAfter.nodeSize)return!1;let u=t.startIndex==0,d=t.endIndex==s.childCount,h=l.node(-1),m=l.index(-1);if(!h.canReplace(m+(u?0:1),m+1,c.content.append(d?G.empty:G.from(s))))return!1;let y=l.pos,b=y+c.nodeSize;return r.step(new yt(y-(u?1:0),b+(d?1:0),y+1,b-1,new Z((u?G.empty:G.from(s.copy(G.empty))).append(d?G.empty:G.from(s.copy(G.empty))),u?0:1,d?0:1),u?0:1)),e(r.scrollIntoView()),!0}function c3(n){return function(e,t){let{$from:r,$to:s}=e.selection,l=r.blockRange(s,h=>h.childCount>0&&h.firstChild.type==n);if(!l)return!1;let c=l.startIndex;if(c==0)return!1;let u=l.parent,d=u.child(c-1);if(d.type!=n)return!1;if(t){let h=d.lastChild&&d.lastChild.type==u.type,m=G.from(h?n.create():null),y=new Z(G.from(n.create(null,G.from(u.type.create(null,m)))),h?3:1,0),b=l.start,v=l.end;t(e.tr.step(new yt(b-(h?3:1),v,b,v,y,1,!0)).scrollIntoView())}return!0}}const Ct=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Sa=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let vm=null;const mr=function(n,e,t){let r=vm||(vm=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},u3=function(){vm=null},ds=function(n,e,t,r){return t&&(yx(n,e,t,r,-1)||yx(n,e,t,r,1))},f3=/^(img|br|input|textarea|hr)$/i;function yx(n,e,t,r,s){for(var l;;){if(n==t&&e==r)return!0;if(e==(s<0?0:xn(n))){let c=n.parentNode;if(!c||c.nodeType!=1||To(n)||f3.test(n.nodeName)||n.contentEditable=="false")return!1;e=Ct(n)+(s<0?0:1),n=c}else if(n.nodeType==1){let c=n.childNodes[e+(s<0?-1:0)];if(c.nodeType==1&&c.contentEditable=="false")if(!((l=c.pmViewDesc)===null||l===void 0)&&l.ignoreForSelection)e+=s;else return!1;else n=c,e=s<0?xn(n):0}else return!1}}function xn(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function d3(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=xn(n)}else if(n.parentNode&&!To(n))e=Ct(n),n=n.parentNode;else return null}}function h3(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!To(n))e=Ct(n)+1,n=n.parentNode;else return null}}function p3(n,e,t){for(let r=e==0,s=e==xn(n);r||s;){if(n==t)return!0;let l=Ct(n);if(n=n.parentNode,!n)return!1;r=r&&l==0,s=s&&l==xn(n)}}function To(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const Df=function(n){return n.focusNode&&ds(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function Qi(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function m3(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function g3(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(xn(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(xn(r.startContainer),r.startOffset)}}}const Fn=typeof navigator<"u"?navigator:null,bx=typeof document<"u"?document:null,Mi=Fn&&Fn.userAgent||"",xm=/Edge\/(\d+)/.exec(Mi),Ok=/MSIE \d/.exec(Mi),Sm=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Mi),Ft=!!(Ok||Sm||xm),vi=Ok?document.documentMode:Sm?+Sm[1]:xm?+xm[1]:0,Sn=!Ft&&/gecko\/(\d+)/i.test(Mi);Sn&&+(/Firefox\/(\d+)/.exec(Mi)||[0,0])[1];const Em=!Ft&&/Chrome\/(\d+)/.exec(Mi),gt=!!Em,Rk=Em?+Em[1]:0,Mt=!Ft&&!!Fn&&/Apple Computer/.test(Fn.vendor),Ea=Mt&&(/Mobile\/\w+/.test(Mi)||!!Fn&&Fn.maxTouchPoints>2),vn=Ea||(Fn?/Mac/.test(Fn.platform):!1),Dk=Fn?/Win/.test(Fn.platform):!1,br=/Android \d/.test(Mi),Co=!!bx&&"webkitFontSmoothing"in bx.documentElement.style,y3=Co?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function b3(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function fr(n,e){return typeof n=="number"?n:n[e]}function v3(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function vx(n,e,t){let r=n.someProp("scrollThreshold")||0,s=n.someProp("scrollMargin")||5,l=n.dom.ownerDocument;for(let c=t||n.dom;c;){if(c.nodeType!=1){c=Sa(c);continue}let u=c,d=u==l.body,h=d?b3(l):v3(u),m=0,y=0;if(e.top<h.top+fr(r,"top")?y=-(h.top-e.top+fr(s,"top")):e.bottom>h.bottom-fr(r,"bottom")&&(y=e.bottom-e.top>h.bottom-h.top?e.top+fr(s,"top")-h.top:e.bottom-h.bottom+fr(s,"bottom")),e.left<h.left+fr(r,"left")?m=-(h.left-e.left+fr(s,"left")):e.right>h.right-fr(r,"right")&&(m=e.right-h.right+fr(s,"right")),m||y)if(d)l.defaultView.scrollBy(m,y);else{let v=u.scrollLeft,S=u.scrollTop;y&&(u.scrollTop+=y),m&&(u.scrollLeft+=m);let T=u.scrollLeft-v,C=u.scrollTop-S;e={left:e.left-T,top:e.top-C,right:e.right-T,bottom:e.bottom-C}}let b=d?"fixed":getComputedStyle(c).position;if(/^(fixed|sticky)$/.test(b))break;c=b=="absolute"?c.offsetParent:Sa(c)}}function x3(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,s;for(let l=(e.left+e.right)/2,c=t+1;c<Math.min(innerHeight,e.bottom);c+=5){let u=n.root.elementFromPoint(l,c);if(!u||u==n.dom||!n.dom.contains(u))continue;let d=u.getBoundingClientRect();if(d.top>=t-20){r=u,s=d.top;break}}return{refDOM:r,refTop:s,stack:_k(n.dom)}}function _k(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=Sa(r));return e}function S3({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;Ik(t,r==0?0:r-e)}function Ik(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:s,left:l}=n[t];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=l&&(r.scrollLeft=l)}}let na=null;function E3(n){if(n.setActive)return n.setActive();if(na)return n.focus(na);let e=_k(n);n.focus(na==null?{get preventScroll(){return na={preventScroll:!0},!0}}:void 0),na||(na=!1,Ik(e,0))}function Lk(n,e){let t,r=2e8,s,l=0,c=e.top,u=e.top,d,h;for(let m=n.firstChild,y=0;m;m=m.nextSibling,y++){let b;if(m.nodeType==1)b=m.getClientRects();else if(m.nodeType==3)b=mr(m).getClientRects();else continue;for(let v=0;v<b.length;v++){let S=b[v];if(S.top<=c&&S.bottom>=u){c=Math.max(S.bottom,c),u=Math.min(S.top,u);let T=S.left>e.left?S.left-e.left:S.right<e.left?e.left-S.right:0;if(T<r){t=m,r=T,s=T&&t.nodeType==3?{left:S.right<e.left?S.right:S.left,top:e.top}:e,m.nodeType==1&&T&&(l=y+(e.left>=(S.left+S.right)/2?1:0));continue}}else S.top>e.top&&!d&&S.left<=e.left&&S.right>=e.left&&(d=m,h={left:Math.max(S.left,Math.min(S.right,e.left)),top:S.top});!t&&(e.left>=S.right&&e.top>=S.top||e.left>=S.left&&e.top>=S.bottom)&&(l=y+1)}}return!t&&d&&(t=d,s=h,r=0),t&&t.nodeType==3?k3(t,s):!t||r&&t.nodeType==1?{node:n,offset:l}:Lk(t,s)}function k3(n,e){let t=n.nodeValue.length,r=document.createRange(),s;for(let l=0;l<t;l++){r.setEnd(n,l+1),r.setStart(n,l);let c=ni(r,1);if(c.top!=c.bottom&&vg(e,c)){s={node:n,offset:l+(e.left>=(c.left+c.right)/2?1:0)};break}}return r.detach(),s||{node:n,offset:0}}function vg(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function T3(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function C3(n,e,t){let{node:r,offset:s}=Lk(e,t),l=-1;if(r.nodeType==1&&!r.firstChild){let c=r.getBoundingClientRect();l=c.left!=c.right&&t.left>(c.left+c.right)/2?1:-1}return n.docView.posFromDOM(r,s,l)}function w3(n,e,t,r){let s=-1;for(let l=e,c=!1;l!=n.dom;){let u=n.docView.nearestDesc(l,!0),d;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((d=u.dom.getBoundingClientRect()).width||d.height)&&(u.node.isBlock&&u.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(u.dom.nodeName)&&(!c&&d.left>r.left||d.top>r.top?s=u.posBefore:(!c&&d.right<r.left||d.bottom<r.top)&&(s=u.posAfter),c=!0),!u.contentDOM&&s<0&&!u.node.isText))return(u.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?u.posBefore:u.posAfter;l=u.dom.parentNode}return s>-1?s:n.docView.posFromDOM(e,t,-1)}function zk(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),l=s;;){let c=n.childNodes[l];if(c.nodeType==1){let u=c.getClientRects();for(let d=0;d<u.length;d++){let h=u[d];if(vg(e,h))return zk(c,e,h)}}if((l=(l+1)%r)==s)break}return n}function A3(n,e){let t=n.dom.ownerDocument,r,s=0,l=g3(t,e.left,e.top);l&&({node:r,offset:s}=l);let c=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),u;if(!c||!n.dom.contains(c.nodeType!=1?c.parentNode:c)){let h=n.dom.getBoundingClientRect();if(!vg(e,h)||(c=zk(n.dom,e,h),!c))return null}if(Mt)for(let h=c;r&&h;h=Sa(h))h.draggable&&(r=void 0);if(c=T3(c,e),r){if(Sn&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let m=r.childNodes[s],y;m.nodeName=="IMG"&&(y=m.getBoundingClientRect()).right<=e.left&&y.bottom>e.top&&s++}let h;Co&&s&&r.nodeType==1&&(h=r.childNodes[s-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&s--,r==n.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?u=n.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(u=w3(n,r,s,e))}u==null&&(u=C3(n,c,e));let d=n.docView.nearestDesc(c,!0);return{pos:u,inside:d?d.posAtStart-d.border:-1}}function xx(n){return n.top<n.bottom||n.left<n.right}function ni(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(xx(r))return r}return Array.prototype.find.call(t,xx)||n.getBoundingClientRect()}const N3=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function jk(n,e,t){let{node:r,offset:s,atom:l}=n.docView.domFromPos(e,t<0?-1:1),c=Co||Sn;if(r.nodeType==3)if(c&&(N3.test(r.nodeValue)||(t<0?!s:s==r.nodeValue.length))){let d=ni(mr(r,s,s),t);if(Sn&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let h=ni(mr(r,s-1,s-1),-1);if(h.top==d.top){let m=ni(mr(r,s,s+1),-1);if(m.top!=d.top)return Ml(m,m.left<h.left)}}return d}else{let d=s,h=s,m=t<0?1:-1;return t<0&&!s?(h++,m=-1):t>=0&&s==r.nodeValue.length?(d--,m=1):t<0?d--:h++,Ml(ni(mr(r,d,h),m),m<0)}if(!n.state.doc.resolve(e-(l||0)).parent.inlineContent){if(l==null&&s&&(t<0||s==xn(r))){let d=r.childNodes[s-1];if(d.nodeType==1)return Dp(d.getBoundingClientRect(),!1)}if(l==null&&s<xn(r)){let d=r.childNodes[s];if(d.nodeType==1)return Dp(d.getBoundingClientRect(),!0)}return Dp(r.getBoundingClientRect(),t>=0)}if(l==null&&s&&(t<0||s==xn(r))){let d=r.childNodes[s-1],h=d.nodeType==3?mr(d,xn(d)-(c?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(h)return Ml(ni(h,1),!1)}if(l==null&&s<xn(r)){let d=r.childNodes[s];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let h=d?d.nodeType==3?mr(d,0,c?0:1):d.nodeType==1?d:null:null;if(h)return Ml(ni(h,-1),!0)}return Ml(ni(r.nodeType==3?mr(r):r,-t),t>=0)}function Ml(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function Dp(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function Bk(n,e,t){let r=n.state,s=n.root.activeElement;r!=e&&n.updateState(e),s!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),s!=n.dom&&s&&s.focus()}}function M3(n,e,t){let r=e.selection,s=t=="up"?r.$from:r.$to;return Bk(n,e,()=>{let{node:l}=n.docView.domFromPos(s.pos,t=="up"?-1:1);for(;;){let u=n.docView.nearestDesc(l,!0);if(!u)break;if(u.node.isBlock){l=u.contentDOM||u.dom;break}l=u.dom.parentNode}let c=jk(n,s.pos,1);for(let u=l.firstChild;u;u=u.nextSibling){let d;if(u.nodeType==1)d=u.getClientRects();else if(u.nodeType==3)d=mr(u,0,u.nodeValue.length).getClientRects();else continue;for(let h=0;h<d.length;h++){let m=d[h];if(m.bottom>m.top+1&&(t=="up"?c.top-m.top>(m.bottom-c.top)*2:m.bottom-c.bottom>(c.bottom-m.top)*2))return!1}}return!0})}const O3=/[\u0590-\u08ac]/;function R3(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,l=!s,c=s==r.parent.content.size,u=n.domSelection();return u?!O3.test(r.parent.textContent)||!u.modify?t=="left"||t=="backward"?l:c:Bk(n,e,()=>{let{focusNode:d,focusOffset:h,anchorNode:m,anchorOffset:y}=n.domSelectionRange(),b=u.caretBidiLevel;u.modify("move",t,"character");let v=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:S,focusOffset:T}=n.domSelectionRange(),C=S&&!v.contains(S.nodeType==1?S:S.parentNode)||d==S&&h==T;try{u.collapse(m,y),d&&(d!=m||h!=y)&&u.extend&&u.extend(d,h)}catch{}return b!=null&&(u.caretBidiLevel=b),C}):r.pos==r.start()||r.pos==r.end()}let Sx=null,Ex=null,kx=!1;function D3(n,e,t){return Sx==e&&Ex==t?kx:(Sx=e,Ex=t,kx=t=="up"||t=="down"?M3(n,e,t):R3(n,e,t))}const En=0,Tx=1,Zi=2,Kn=3;class wo{constructor(e,t,r,s){this.parent=e,this.children=t,this.dom=r,this.contentDOM=s,this.dirty=En,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let s=this.children[t];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let l,c;if(e==this.contentDOM)l=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.previousSibling}for(;l&&!((c=l.pmViewDesc)&&c.parent==this);)l=l.previousSibling;return l?this.posBeforeChild(c)+c.size:this.posAtStart}else{let l,c;if(e==this.contentDOM)l=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.nextSibling}for(;l&&!((c=l.pmViewDesc)&&c.parent==this);)l=l.nextSibling;return l?this.posBeforeChild(c):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=t>Ct(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let l=e;;l=l.parentNode){if(l==this.dom){s=!1;break}if(l.previousSibling)break}if(s==null&&t==e.childNodes.length)for(let l=e;;l=l.parentNode){if(l==this.dom){s=!0;break}if(l.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,s=e;s;s=s.parentNode){let l=this.getDesc(s),c;if(l&&(!t||l.node))if(r&&(c=l.nodeDOM)&&!(c.nodeType==1?c.contains(e.nodeType==1?e:e.parentNode):c==e))r=!1;else return l}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let s=e;s;s=s.parentNode){let l=this.getDesc(s);if(l)return l.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let s=this.children[t],l=r+s.size;if(r==e&&l!=r){for(;!s.border&&s.children.length;)for(let c=0;c<s.children.length;c++){let u=s.children[c];if(u.size){s=u;break}}return s}if(e<l)return s.descAt(e-r-s.border);r=l}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let l=0;r<this.children.length;r++){let c=this.children[r],u=l+c.size;if(u>e||c instanceof Pk){s=e-l;break}l=u}if(s)return this.children[r].domFromPos(s-this.children[r].border,t);for(let l;r&&!(l=this.children[r-1]).size&&l instanceof Uk&&l.side>=0;r--);if(t<=0){let l,c=!0;for(;l=r?this.children[r-1]:null,!(!l||l.dom.parentNode==this.contentDOM);r--,c=!1);return l&&t&&c&&!l.border&&!l.domAtom?l.domFromPos(l.size,t):{node:this.contentDOM,offset:l?Ct(l.dom)+1:0}}else{let l,c=!0;for(;l=r<this.children.length?this.children[r]:null,!(!l||l.dom.parentNode==this.contentDOM);r++,c=!1);return l&&c&&!l.border&&!l.domAtom?l.domFromPos(0,t):{node:this.contentDOM,offset:l?Ct(l.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,l=-1;for(let c=r,u=0;;u++){let d=this.children[u],h=c+d.size;if(s==-1&&e<=h){let m=c+d.border;if(e>=m&&t<=h-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,t,m);e=c;for(let y=u;y>0;y--){let b=this.children[y-1];if(b.size&&b.dom.parentNode==this.contentDOM&&!b.emptyChildAt(1)){s=Ct(b.dom)+1;break}e-=b.size}s==-1&&(s=0)}if(s>-1&&(h>t||u==this.children.length-1)){t=h;for(let m=u+1;m<this.children.length;m++){let y=this.children[m];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(-1)){l=Ct(y.dom);break}t+=y.size}l==-1&&(l=this.contentDOM.childNodes.length);break}c=h}return{node:this.contentDOM,from:e,to:t,fromOffset:s,toOffset:l}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,s=!1){let l=Math.min(e,t),c=Math.max(e,t);for(let v=0,S=0;v<this.children.length;v++){let T=this.children[v],C=S+T.size;if(l>S&&c<C)return T.setSelection(e-S-T.border,t-S-T.border,r,s);S=C}let u=this.domFromPos(e,e?-1:1),d=t==e?u:this.domFromPos(t,t?-1:1),h=r.root.getSelection(),m=r.domSelectionRange(),y=!1;if((Sn||Mt)&&e==t){let{node:v,offset:S}=u;if(v.nodeType==3){if(y=!!(S&&v.nodeValue[S-1]==`
`),y&&S==v.nodeValue.length)for(let T=v,C;T;T=T.parentNode){if(C=T.nextSibling){C.nodeName=="BR"&&(u=d={node:C.parentNode,offset:Ct(C)+1});break}let w=T.pmViewDesc;if(w&&w.node&&w.node.isBlock)break}}else{let T=v.childNodes[S-1];y=T&&(T.nodeName=="BR"||T.contentEditable=="false")}}if(Sn&&m.focusNode&&m.focusNode!=d.node&&m.focusNode.nodeType==1){let v=m.focusNode.childNodes[m.focusOffset];v&&v.contentEditable=="false"&&(s=!0)}if(!(s||y&&Mt)&&ds(u.node,u.offset,m.anchorNode,m.anchorOffset)&&ds(d.node,d.offset,m.focusNode,m.focusOffset))return;let b=!1;if((h.extend||e==t)&&!(y&&Sn)){h.collapse(u.node,u.offset);try{e!=t&&h.extend(d.node,d.offset),b=!0}catch{}}if(!b){if(e>t){let S=u;u=d,d=S}let v=document.createRange();v.setEnd(d.node,d.offset),v.setStart(u.node,u.offset),h.removeAllRanges(),h.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,s=0;s<this.children.length;s++){let l=this.children[s],c=r+l.size;if(r==c?e<=c&&t>=r:e<c&&t>r){let u=r+l.border,d=c-l.border;if(e>=u&&t<=d){this.dirty=e==r||t==c?Zi:Tx,e==u&&t==d&&(l.contentLost||l.dom.parentNode!=this.contentDOM)?l.dirty=Kn:l.markDirty(e-u,t-u);return}else l.dirty=l.dom==l.contentDOM&&l.dom.parentNode==this.contentDOM&&!l.children.length?Zi:Kn}r=c}this.dirty=Zi}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?Zi:Tx;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class Uk extends wo{constructor(e,t,r,s){let l,c=t.type.toDOM;if(typeof c=="function"&&(c=c(r,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)})),!t.type.spec.raw){if(c.nodeType!=1){let u=document.createElement("span");u.appendChild(c),c=u}c.contentEditable="false",c.classList.add("ProseMirror-widget")}super(e,[],c,null),this.widget=t,this.widget=t,l=this}matchesWidget(e){return this.dirty==En&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class _3 extends wo{constructor(e,t,r,s){super(e,[],t,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class hs extends wo{constructor(e,t,r,s,l){super(e,[],r,s),this.mark=t,this.spec=l}static create(e,t,r,s){let l=s.nodeViews[t.type.name],c=l&&l(t,s,r);return(!c||!c.dom)&&(c=ys.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new hs(e,t,c.dom,c.contentDOM||c.dom,c)}parseRule(){return this.dirty&Kn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Kn&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=En){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=En}}slice(e,t,r){let s=hs.create(this.parent,this.mark,!0,r),l=this.children,c=this.size;t<c&&(l=Tm(l,t,c,r)),e>0&&(l=Tm(l,0,e,r));for(let u=0;u<l.length;u++)l[u].parent=s;return s.children=l,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class xi extends wo{constructor(e,t,r,s,l,c,u,d,h){super(e,[],l,c),this.node=t,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=u}static create(e,t,r,s,l,c){let u=l.nodeViews[t.type.name],d,h=u&&u(t,l,()=>{if(!d)return c;if(d.parent)return d.parent.posBeforeChild(d)},r,s),m=h&&h.dom,y=h&&h.contentDOM;if(t.isText){if(!m)m=document.createTextNode(t.text);else if(m.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else m||({dom:m,contentDOM:y}=ys.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!y&&!t.isText&&m.nodeName!="BR"&&(m.hasAttribute("contenteditable")||(m.contentEditable="false"),t.type.spec.draggable&&(m.draggable=!0));let b=m;return m=$k(m,r,t),h?d=new I3(e,t,r,s,m,y||null,b,h,l,c+1):t.isText?new _f(e,t,r,s,m,b,l):new xi(e,t,r,s,m,y||null,b,l,c+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>G.empty)}return e}matchesNode(e,t,r){return this.dirty==En&&e.eq(this.node)&&Du(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,s=t,l=e.composing?this.localCompositionInfo(e,t):null,c=l&&l.pos>-1?l:null,u=l&&l.pos<0,d=new z3(this,c&&c.node,e);U3(this.node,this.innerDeco,(h,m,y)=>{h.spec.marks?d.syncToMarks(h.spec.marks,r,e):h.type.side>=0&&!y&&d.syncToMarks(m==this.node.childCount?$e.none:this.node.child(m).marks,r,e),d.placeWidget(h,e,s)},(h,m,y,b)=>{d.syncToMarks(h.marks,r,e);let v;d.findNodeMatch(h,m,y,b)||u&&e.state.selection.from>s&&e.state.selection.to<s+h.nodeSize&&(v=d.findIndexWithChild(l.node))>-1&&d.updateNodeAt(h,m,y,v,e)||d.updateNextNode(h,m,y,e,b,s)||d.addNode(h,m,y,e,s),s+=h.nodeSize}),d.syncToMarks([],r,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==Zi)&&(c&&this.protectLocalComposition(e,c),Hk(this.contentDOM,this.children,e),Ea&&P3(this.dom))}localCompositionInfo(e,t){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof he)||r<t||s>t+this.node.content.size)return null;let l=e.input.compositionNode;if(!l||!this.dom.contains(l.parentNode))return null;if(this.node.inlineContent){let c=l.nodeValue,u=H3(this.node.content,c,r-t,s-t);return u<0?null:{node:l,pos:u,text:c}}else return{node:l,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:s}){if(this.getDesc(t))return;let l=t;for(;l.parentNode!=this.contentDOM;l=l.parentNode){for(;l.previousSibling;)l.parentNode.removeChild(l.previousSibling);for(;l.nextSibling;)l.parentNode.removeChild(l.nextSibling);l.pmViewDesc&&(l.pmViewDesc=void 0)}let c=new _3(this,l,t,s);e.input.compositionNodes.push(c),this.children=Tm(this.children,r,r+s.length,e,c)}update(e,t,r,s){return this.dirty==Kn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,s),!0)}updateInner(e,t,r,s){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=En}updateOuterDeco(e){if(Du(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=Vk(this.dom,this.nodeDOM,km(this.outerDeco,this.node,t),km(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Cx(n,e,t,r,s){$k(r,e,n);let l=new xi(void 0,n,e,t,r,r,r,s,0);return l.contentDOM&&l.updateChildren(s,0),l}class _f extends xi{constructor(e,t,r,s,l,c,u){super(e,t,r,s,l,null,c,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,s){return this.dirty==Kn||this.dirty!=En&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=En||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=En,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let s=this.node.cut(e,t),l=document.createTextNode(s.text);return new _f(this.parent,s,this.outerDeco,this.innerDeco,l,l,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=Kn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class Pk extends wo{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==En&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class I3 extends xi{constructor(e,t,r,s,l,c,u,d,h,m){super(e,t,r,s,l,c,u,h,m),this.spec=d}update(e,t,r,s){if(this.dirty==Kn)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let l=this.spec.update(e,t,r);return l&&this.updateInner(e,t,r,s),l}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,s){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Hk(n,e,t){let r=n.firstChild,s=!1;for(let l=0;l<e.length;l++){let c=e[l],u=c.dom;if(u.parentNode==n){for(;u!=r;)r=wx(r),s=!0;r=r.nextSibling}else s=!0,n.insertBefore(u,r);if(c instanceof hs){let d=r?r.previousSibling:n.lastChild;Hk(c.contentDOM,c.children,t),r=d?d.nextSibling:n.firstChild}}for(;r;)r=wx(r),s=!0;s&&t.trackWrites==n&&(t.trackWrites=null)}const Hl=function(n){n&&(this.nodeName=n)};Hl.prototype=Object.create(null);const es=[new Hl];function km(n,e,t){if(n.length==0)return es;let r=t?es[0]:new Hl,s=[r];for(let l=0;l<n.length;l++){let c=n[l].type.attrs;if(c){c.nodeName&&s.push(r=new Hl(c.nodeName));for(let u in c){let d=c[u];d!=null&&(t&&s.length==1&&s.push(r=new Hl(e.isInline?"span":"div")),u=="class"?r.class=(r.class?r.class+" ":"")+d:u=="style"?r.style=(r.style?r.style+";":"")+d:u!="nodeName"&&(r[u]=d))}}}return s}function Vk(n,e,t,r){if(t==es&&r==es)return e;let s=e;for(let l=0;l<r.length;l++){let c=r[l],u=t[l];if(l){let d;u&&u.nodeName==c.nodeName&&s!=n&&(d=s.parentNode)&&d.nodeName.toLowerCase()==c.nodeName||(d=document.createElement(c.nodeName),d.pmIsDeco=!0,d.appendChild(s),u=es[0]),s=d}L3(s,u||es[0],c)}return s}function L3(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=t.class?t.class.split(" ").filter(Boolean):[];for(let l=0;l<r.length;l++)s.indexOf(r[l])==-1&&n.classList.remove(r[l]);for(let l=0;l<s.length;l++)r.indexOf(s[l])==-1&&n.classList.add(s[l]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)n.style.removeProperty(s[1])}t.style&&(n.style.cssText+=t.style)}}function $k(n,e,t){return Vk(n,n,es,km(e,t,n.nodeType!=1))}function Du(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function wx(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class z3{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=j3(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let s=0,l=this.stack.length>>1,c=Math.min(l,e.length);for(;s<c&&(s==l-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<l;)this.destroyRest(),this.top.dirty=En,this.index=this.stack.pop(),this.top=this.stack.pop(),l--;for(;l<e.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let h=this.top.children[d];if(h.matchesMark(e[l])&&!this.isLocked(h.dom)){u=d;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let d=hs.create(this.top,e[l],t,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,l++}}findNodeMatch(e,t,r,s){let l=-1,c;if(s>=this.preMatch.index&&(c=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&c.matchesNode(e,t,r))l=this.top.children.indexOf(c,this.index);else for(let u=this.index,d=Math.min(this.top.children.length,u+5);u<d;u++){let h=this.top.children[u];if(h.matchesNode(e,t,r)&&!this.preMatch.matched.has(h)){l=u;break}}return l<0?!1:(this.destroyBetween(this.index,l),this.index++,!0)}updateNodeAt(e,t,r,s,l){let c=this.top.children[s];return c.dirty==Kn&&c.dom==c.contentDOM&&(c.dirty=Zi),c.update(e,t,r,l)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=t}}updateNextNode(e,t,r,s,l,c){for(let u=this.index;u<this.top.children.length;u++){let d=this.top.children[u];if(d instanceof xi){let h=this.preMatch.matched.get(d);if(h!=null&&h!=l)return!1;let m=d.dom,y,b=this.isLocked(m)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=Kn&&Du(t,d.outerDeco));if(!b&&d.update(e,t,r,s))return this.destroyBetween(this.index,u),d.dom!=m&&(this.changed=!0),this.index++,!0;if(!b&&(y=this.recreateWrapper(d,e,t,r,s,c)))return this.destroyBetween(this.index,u),this.top.children[this.index]=y,y.contentDOM&&(y.dirty=Zi,y.updateChildren(s,c+1),y.dirty=En),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,s,l,c){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!Du(r,e.outerDeco)||!s.eq(e.innerDeco))return null;let u=xi.create(this.top,t,r,s,l,c);if(u.contentDOM){u.children=e.children,e.children=[];for(let d of u.children)d.parent=u}return e.destroy(),u}addNode(e,t,r,s,l){let c=xi.create(this.top,e,t,r,s,l);c.contentDOM&&c.updateChildren(s,l+1),this.top.children.splice(this.index++,0,c),this.changed=!0}placeWidget(e,t,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let l=new Uk(this.top,e,t,r);this.top.children.splice(this.index++,0,l),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof hs;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof _f)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Mt||gt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new Pk(this.top,[],r,null);t!=this.top?t.children.push(s):t.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function j3(n,e){let t=e,r=t.children.length,s=n.childCount,l=new Map,c=[];e:for(;s>0;){let u;for(;;)if(r){let h=t.children[r-1];if(h instanceof hs)t=h,r=h.children.length;else{u=h,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let d=u.node;if(d){if(d!=n.child(s-1))break;--s,l.set(u,s),c.push(u)}}return{index:s,matched:l,matches:c.reverse()}}function B3(n,e){return n.type.side-e.type.side}function U3(n,e,t,r){let s=e.locals(n),l=0;if(s.length==0){for(let h=0;h<n.childCount;h++){let m=n.child(h);r(m,s,e.forChild(l,m),h),l+=m.nodeSize}return}let c=0,u=[],d=null;for(let h=0;;){let m,y;for(;c<s.length&&s[c].to==l;){let C=s[c++];C.widget&&(m?(y||(y=[m])).push(C):m=C)}if(m)if(y){y.sort(B3);for(let C=0;C<y.length;C++)t(y[C],h,!!d)}else t(m,h,!!d);let b,v;if(d)v=-1,b=d,d=null;else if(h<n.childCount)v=h,b=n.child(h++);else break;for(let C=0;C<u.length;C++)u[C].to<=l&&u.splice(C--,1);for(;c<s.length&&s[c].from<=l&&s[c].to>l;)u.push(s[c++]);let S=l+b.nodeSize;if(b.isText){let C=S;c<s.length&&s[c].from<C&&(C=s[c].from);for(let w=0;w<u.length;w++)u[w].to<C&&(C=u[w].to);C<S&&(d=b.cut(C-l),b=b.cut(0,C-l),S=C,v=-1)}else for(;c<s.length&&s[c].to<S;)c++;let T=b.isInline&&!b.isLeaf?u.filter(C=>!C.inline):u.slice();r(b,T,e.forChild(l,b),v),l=S}}function P3(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function H3(n,e,t,r){for(let s=0,l=0;s<n.childCount&&l<=r;){let c=n.child(s++),u=l;if(l+=c.nodeSize,!c.isText)continue;let d=c.text;for(;s<n.childCount;){let h=n.child(s++);if(l+=h.nodeSize,!h.isText)break;d+=h.text}if(l>=t){if(l>=r&&d.slice(r-e.length-u,r-u)==e)return r-e.length;let h=u<r?d.lastIndexOf(e,r-u-1):-1;if(h>=0&&h+e.length+u>=t)return u+h;if(t==r&&d.length>=r+e.length-u&&d.slice(r-u,r-u+e.length)==e)return r}}return-1}function Tm(n,e,t,r,s){let l=[];for(let c=0,u=0;c<n.length;c++){let d=n[c],h=u,m=u+=d.size;h>=t||m<=e?l.push(d):(h<e&&l.push(d.slice(0,e-h,r)),s&&(l.push(s),s=void 0),m>t&&l.push(d.slice(t-h,d.size,r)))}return l}function xg(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let s=n.docView.nearestDesc(t.focusNode),l=s&&s.size==0,c=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(c<0)return null;let u=r.resolve(c),d,h;if(Df(t)){for(d=c;s&&!s.node;)s=s.parent;let y=s.node;if(s&&y.isAtom&&ce.isSelectable(y)&&s.parent&&!(y.isInline&&p3(t.focusNode,t.focusOffset,s.dom))){let b=s.posBefore;h=new ce(c==b?u:r.resolve(b))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let y=c,b=c;for(let v=0;v<t.rangeCount;v++){let S=t.getRangeAt(v);y=Math.min(y,n.docView.posFromDOM(S.startContainer,S.startOffset,1)),b=Math.max(b,n.docView.posFromDOM(S.endContainer,S.endOffset,-1))}if(y<0)return null;[d,c]=b==n.state.selection.anchor?[b,y]:[y,b],u=r.resolve(c)}else d=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(d<0)return null}let m=r.resolve(d);if(!h){let y=e=="pointer"||n.state.selection.head<u.pos&&!l?1:-1;h=Sg(n,m,u,y)}return h}function qk(n){return n.editable?n.hasFocus():Kk(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Sr(n,e=!1){let t=n.state.selection;if(Fk(n,t),!!qk(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&gt){let r=n.domSelectionRange(),s=n.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&ds(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)$3(n);else{let{anchor:r,head:s}=t,l,c;Ax&&!(t instanceof he)&&(t.$from.parent.inlineContent||(l=Nx(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(c=Nx(n,t.to))),n.docView.setSelection(r,s,n,e),Ax&&(l&&Mx(l),c&&Mx(c)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&V3(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const Ax=Mt||gt&&Rk<63;function Nx(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),s=r<t.childNodes.length?t.childNodes[r]:null,l=r?t.childNodes[r-1]:null;if(Mt&&s&&s.contentEditable=="false")return _p(s);if((!s||s.contentEditable=="false")&&(!l||l.contentEditable=="false")){if(s)return _p(s);if(l)return _p(l)}}function _p(n){return n.contentEditable="true",Mt&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function Mx(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function V3(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,s=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=s)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!qk(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function $3(n){let e=n.domSelection();if(!e)return;let t=n.cursorWrapper.dom,r=t.nodeName=="IMG";r?e.collapse(t.parentNode,Ct(t)+1):e.collapse(t,0),!r&&!n.state.selection.visible&&Ft&&vi<=11&&(t.disabled=!0,t.disabled=!1)}function Fk(n,e){if(e instanceof ce){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(Ox(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else Ox(n)}function Ox(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function Sg(n,e,t,r){return n.someProp("createSelectionBetween",s=>s(n,e,t))||he.between(e,t,r)}function Rx(n){return n.editable&&!n.hasFocus()?!1:Kk(n)}function Kk(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function q3(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return ds(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Cm(n,e){let{$anchor:t,$head:r}=n.selection,s=e>0?t.max(r):t.min(r),l=s.parent.inlineContent?s.depth?n.doc.resolve(e>0?s.after():s.before()):null:s;return l&&ve.findFrom(l,e)}function ri(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function Dx(n,e,t){let r=n.state.selection;if(r instanceof he)if(t.indexOf("s")>-1){let{$head:s}=r,l=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!l||l.isText||!l.isLeaf)return!1;let c=n.state.doc.resolve(s.pos+l.nodeSize*(e<0?-1:1));return ri(n,new he(r.$anchor,c))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let s=Cm(n.state,e);return s&&s instanceof ce?ri(n,s):!1}else if(!(vn&&t.indexOf("m")>-1)){let s=r.$head,l=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,c;if(!l||l.isText)return!1;let u=e<0?s.pos-l.nodeSize:s.pos;return l.isAtom||(c=n.docView.descAt(u))&&!c.contentDOM?ce.isSelectable(l)?ri(n,new ce(e<0?n.state.doc.resolve(s.pos-l.nodeSize):s)):Co?ri(n,new he(n.state.doc.resolve(e<0?u:u+l.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ce&&r.node.isInline)return ri(n,new he(e>0?r.$to:r.$from));{let s=Cm(n.state,e);return s?ri(n,s):!1}}}function _u(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Vl(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function ra(n,e){return e<0?F3(n):K3(n)}function F3(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let s,l,c=!1;for(Sn&&t.nodeType==1&&r<_u(t)&&Vl(t.childNodes[r],-1)&&(c=!0);;)if(r>0){if(t.nodeType!=1)break;{let u=t.childNodes[r-1];if(Vl(u,-1))s=t,l=--r;else if(u.nodeType==3)t=u,r=t.nodeValue.length;else break}}else{if(Gk(t))break;{let u=t.previousSibling;for(;u&&Vl(u,-1);)s=t.parentNode,l=Ct(u),u=u.previousSibling;if(u)t=u,r=_u(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}c?wm(n,t,r):s&&wm(n,s,l)}function K3(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let s=_u(t),l,c;for(;;)if(r<s){if(t.nodeType!=1)break;let u=t.childNodes[r];if(Vl(u,1))l=t,c=++r;else break}else{if(Gk(t))break;{let u=t.nextSibling;for(;u&&Vl(u,1);)l=u.parentNode,c=Ct(u)+1,u=u.nextSibling;if(u)t=u,r=0,s=_u(t);else{if(t=t.parentNode,t==n.dom)break;r=s=0}}}l&&wm(n,l,c)}function Gk(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function G3(n,e){for(;n&&e==n.childNodes.length&&!To(n);)e=Ct(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function Y3(n,e){for(;n&&!e&&!To(n);)e=Ct(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function wm(n,e,t){if(e.nodeType!=3){let l,c;(c=G3(e,t))?(e=c,t=0):(l=Y3(e,t))&&(e=l,t=l.nodeValue.length)}let r=n.domSelection();if(!r)return;if(Df(r)){let l=document.createRange();l.setEnd(e,t),l.setStart(e,t),r.removeAllRanges(),r.addRange(l)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:s}=n;setTimeout(()=>{n.state==s&&Sr(n)},50)}function _x(n,e){let t=n.state.doc.resolve(e);if(!(gt||Dk)&&t.parent.inlineContent){let s=n.coordsAtPos(e);if(e>t.start()){let l=n.coordsAtPos(e-1),c=(l.top+l.bottom)/2;if(c>s.top&&c<s.bottom&&Math.abs(l.left-s.left)>1)return l.left<s.left?"ltr":"rtl"}if(e<t.end()){let l=n.coordsAtPos(e+1),c=(l.top+l.bottom)/2;if(c>s.top&&c<s.bottom&&Math.abs(l.left-s.left)>1)return l.left>s.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function Ix(n,e,t){let r=n.state.selection;if(r instanceof he&&!r.empty||t.indexOf("s")>-1||vn&&t.indexOf("m")>-1)return!1;let{$from:s,$to:l}=r;if(!s.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let c=Cm(n.state,e);if(c&&c instanceof ce)return ri(n,c)}if(!s.parent.inlineContent){let c=e<0?s:l,u=r instanceof rn?ve.near(c,e):ve.findFrom(c,e);return u?ri(n,u):!1}return!1}function Lx(n,e){if(!(n.state.selection instanceof he))return!0;let{$head:t,$anchor:r,empty:s}=n.state.selection;if(!t.sameParent(r))return!0;if(!s)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let l=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(l&&!l.isText){let c=n.state.tr;return e<0?c.delete(t.pos-l.nodeSize,t.pos):c.delete(t.pos,t.pos+l.nodeSize),n.dispatch(c),!0}return!1}function zx(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function W3(n){if(!Mt||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;zx(n,r,"true"),setTimeout(()=>zx(n,r,"false"),20)}return!1}function J3(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function X3(n,e){let t=e.keyCode,r=J3(e);if(t==8||vn&&t==72&&r=="c")return Lx(n,-1)||ra(n,-1);if(t==46&&!e.shiftKey||vn&&t==68&&r=="c")return Lx(n,1)||ra(n,1);if(t==13||t==27)return!0;if(t==37||vn&&t==66&&r=="c"){let s=t==37?_x(n,n.state.selection.from)=="ltr"?-1:1:-1;return Dx(n,s,r)||ra(n,s)}else if(t==39||vn&&t==70&&r=="c"){let s=t==39?_x(n,n.state.selection.from)=="ltr"?1:-1:1;return Dx(n,s,r)||ra(n,s)}else{if(t==38||vn&&t==80&&r=="c")return Ix(n,-1,r)||ra(n,-1);if(t==40||vn&&t==78&&r=="c")return W3(n)||Ix(n,1,r)||ra(n,1);if(r==(vn?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function Eg(n,e){n.someProp("transformCopied",v=>{e=v(e,n)});let t=[],{content:r,openStart:s,openEnd:l}=e;for(;s>1&&l>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,l--;let v=r.firstChild;t.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),r=v.content}let c=n.someProp("clipboardSerializer")||ys.fromSchema(n.state.schema),u=Zk(),d=u.createElement("div");d.appendChild(c.serializeFragment(r,{document:u}));let h=d.firstChild,m,y=0;for(;h&&h.nodeType==1&&(m=Qk[h.nodeName.toLowerCase()]);){for(let v=m.length-1;v>=0;v--){let S=u.createElement(m[v]);for(;d.firstChild;)S.appendChild(d.firstChild);d.appendChild(S),y++}h=d.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${s} ${l}${y?` -${y}`:""} ${JSON.stringify(t)}`);let b=n.someProp("clipboardTextSerializer",v=>v(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:b,slice:e}}function Yk(n,e,t,r,s){let l=s.parent.type.spec.code,c,u;if(!t&&!e)return null;let d=!!e&&(r||l||!t);if(d){if(n.someProp("transformPastedText",b=>{e=b(e,l||r,n)}),l)return u=new Z(G.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),n.someProp("transformPasted",b=>{u=b(u,n,!0)}),u;let y=n.someProp("clipboardTextParser",b=>b(e,s,r,n));if(y)u=y;else{let b=s.marks(),{schema:v}=n.state,S=ys.fromSchema(v);c=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(T=>{let C=c.appendChild(document.createElement("p"));T&&C.appendChild(S.serializeNode(v.text(T,b)))})}}else n.someProp("transformPastedHTML",y=>{t=y(t,n)}),c=tI(t),Co&&nI(c);let h=c&&c.querySelector("[data-pm-slice]"),m=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(m&&m[3])for(let y=+m[3];y>0;y--){let b=c.firstChild;for(;b&&b.nodeType!=1;)b=b.nextSibling;if(!b)break;c=b}if(u||(u=(n.someProp("clipboardParser")||n.someProp("domParser")||bi.fromSchema(n.state.schema)).parseSlice(c,{preserveWhitespace:!!(d||m),context:s,ruleFromNode(b){return b.nodeName=="BR"&&!b.nextSibling&&b.parentNode&&!Q3.test(b.parentNode.nodeName)?{ignore:!0}:null}})),m)u=rI(jx(u,+m[1],+m[2]),m[4]);else if(u=Z.maxOpen(Z3(u.content,s),!0),u.openStart||u.openEnd){let y=0,b=0;for(let v=u.content.firstChild;y<u.openStart&&!v.type.spec.isolating;y++,v=v.firstChild);for(let v=u.content.lastChild;b<u.openEnd&&!v.type.spec.isolating;b++,v=v.lastChild);u=jx(u,y,b)}return n.someProp("transformPasted",y=>{u=y(u,n,d)}),u}const Q3=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Z3(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let s=e.node(t).contentMatchAt(e.index(t)),l,c=[];if(n.forEach(u=>{if(!c)return;let d=s.findWrapping(u.type),h;if(!d)return c=null;if(h=c.length&&l.length&&Jk(d,l,u,c[c.length-1],0))c[c.length-1]=h;else{c.length&&(c[c.length-1]=Xk(c[c.length-1],l.length));let m=Wk(u,d);c.push(m),s=s.matchType(m.type),l=d}}),c)return G.from(c)}return n}function Wk(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,G.from(n));return n}function Jk(n,e,t,r,s){if(s<n.length&&s<e.length&&n[s]==e[s]){let l=Jk(n,e,t,r.lastChild,s+1);if(l)return r.copy(r.content.replaceChild(r.childCount-1,l));if(r.contentMatchAt(r.childCount).matchType(s==n.length-1?t.type:n[s+1]))return r.copy(r.content.append(G.from(Wk(t,n,s+1))))}}function Xk(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,Xk(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(G.empty,!0);return n.copy(t.append(r))}function Am(n,e,t,r,s,l){let c=e<0?n.firstChild:n.lastChild,u=c.content;return n.childCount>1&&(l=0),s<r-1&&(u=Am(u,e,t,r,s+1,l)),s>=t&&(u=e<0?c.contentMatchAt(0).fillBefore(u,l<=s).append(u):u.append(c.contentMatchAt(c.childCount).fillBefore(G.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,c.copy(u))}function jx(n,e,t){return e<n.openStart&&(n=new Z(Am(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new Z(Am(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const Qk={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Bx=null;function Zk(){return Bx||(Bx=document.implementation.createHTMLDocument("title"))}let Ip=null;function eI(n){let e=window.trustedTypes;return e?(Ip||(Ip=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),Ip.createHTML(n)):n}function tI(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=Zk().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),s;if((s=r&&Qk[r[1].toLowerCase()])&&(n=s.map(l=>"<"+l+">").join("")+n+s.map(l=>"</"+l+">").reverse().join("")),t.innerHTML=eI(n),s)for(let l=0;l<s.length;l++)t=t.querySelector(s[l])||t;return t}function nI(n){let e=n.querySelectorAll(gt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function rI(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:s,openStart:l,openEnd:c}=n;for(let u=r.length-2;u>=0;u-=2){let d=t.nodes[r[u]];if(!d||d.hasRequiredAttrs())break;s=G.from(d.create(r[u+1],s)),l++,c++}return new Z(s,l,c)}const Lt={},zt={},iI={touchstart:!0,touchmove:!0};class sI{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function aI(n){for(let e in Lt){let t=Lt[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{oI(n,r)&&!kg(n,r)&&(n.editable||!(r.type in zt))&&t(n,r)},iI[e]?{passive:!0}:void 0)}Mt&&n.dom.addEventListener("input",()=>null),Nm(n)}function pi(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function lI(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function Nm(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>kg(n,r))})}function kg(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function oI(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function cI(n,e){!kg(n,e)&&Lt[e.type]&&(n.editable||!(e.type in zt))&&Lt[e.type](n,e)}zt.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!tT(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(br&&gt&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),Ea&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",s=>s(n,Qi(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||X3(n,t)?t.preventDefault():pi(n,"key")};zt.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};zt.keypress=(n,e)=>{let t=e;if(tT(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||vn&&t.metaKey)return;if(n.someProp("handleKeyPress",s=>s(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof he)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(t.charCode),l=()=>n.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!n.someProp("handleTextInput",c=>c(n,r.$from.pos,r.$to.pos,s,l))&&n.dispatch(l()),t.preventDefault()}};function If(n){return{left:n.clientX,top:n.clientY}}function uI(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function Tg(n,e,t,r,s){if(r==-1)return!1;let l=n.state.doc.resolve(r);for(let c=l.depth+1;c>0;c--)if(n.someProp(e,u=>c>l.depth?u(n,t,l.nodeAfter,l.before(c),s,!0):u(n,t,l.node(c),l.before(c),s,!1)))return!0;return!1}function ma(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function fI(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&ce.isSelectable(r)?(ma(n,new ce(t)),!0):!1}function dI(n,e){if(e==-1)return!1;let t=n.state.selection,r,s;t instanceof ce&&(r=t.node);let l=n.state.doc.resolve(e);for(let c=l.depth+1;c>0;c--){let u=c>l.depth?l.nodeAfter:l.node(c);if(ce.isSelectable(u)){r&&t.$from.depth>0&&c>=t.$from.depth&&l.before(t.$from.depth+1)==t.$from.pos?s=l.before(t.$from.depth):s=l.before(c);break}}return s!=null?(ma(n,ce.create(n.state.doc,s)),!0):!1}function hI(n,e,t,r,s){return Tg(n,"handleClickOn",e,t,r)||n.someProp("handleClick",l=>l(n,e,r))||(s?dI(n,t):fI(n,t))}function pI(n,e,t,r){return Tg(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",s=>s(n,e,r))}function mI(n,e,t,r){return Tg(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",s=>s(n,e,r))||gI(n,t,r)}function gI(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(ma(n,he.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let l=s.depth+1;l>0;l--){let c=l>s.depth?s.nodeAfter:s.node(l),u=s.before(l);if(c.inlineContent)ma(n,he.create(r,u+1,u+1+c.content.size));else if(ce.isSelectable(c))ma(n,ce.create(r,u));else continue;return!0}}function Cg(n){return Iu(n)}const eT=vn?"metaKey":"ctrlKey";Lt.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=Cg(n),s=Date.now(),l="singleClick";s-n.input.lastClick.time<500&&uI(t,n.input.lastClick)&&!t[eT]&&n.input.lastClick.button==t.button&&(n.input.lastClick.type=="singleClick"?l="doubleClick":n.input.lastClick.type=="doubleClick"&&(l="tripleClick")),n.input.lastClick={time:s,x:t.clientX,y:t.clientY,type:l,button:t.button};let c=n.posAtCoords(If(t));c&&(l=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new yI(n,c,t,!!r)):(l=="doubleClick"?pI:mI)(n,c.pos,c.inside,t)?t.preventDefault():pi(n,"pointer"))};class yI{constructor(e,t,r,s){this.view=e,this.pos=t,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[eT],this.allowDefault=r.shiftKey;let l,c;if(t.inside>-1)l=e.state.doc.nodeAt(t.inside),c=t.inside;else{let m=e.state.doc.resolve(t.pos);l=m.parent,c=m.depth?m.before():0}const u=s?null:r.target,d=u?e.docView.nearestDesc(u,!0):null;this.target=d&&d.nodeDOM.nodeType==1?d.nodeDOM:null;let{selection:h}=e.state;(r.button==0&&l.type.spec.draggable&&l.type.spec.selectable!==!1||h instanceof ce&&h.from<=c&&h.to>c)&&(this.mightDrag={node:l,pos:c,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Sn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),pi(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Sr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(If(e))),this.updateAllowDefault(e),this.allowDefault||!t?pi(this.view,"pointer"):hI(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Mt&&this.mightDrag&&!this.mightDrag.node.isAtom||gt&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(ma(this.view,ve.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):pi(this.view,"pointer")}move(e){this.updateAllowDefault(e),pi(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Lt.touchstart=n=>{n.input.lastTouch=Date.now(),Cg(n),pi(n,"pointer")};Lt.touchmove=n=>{n.input.lastTouch=Date.now(),pi(n,"pointer")};Lt.contextmenu=n=>Cg(n);function tT(n,e){return n.composing?!0:Mt&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const bI=br?5e3:-1;zt.compositionstart=zt.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof he&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||gt&&Dk&&vI(n)))n.markCursor=n.state.storedMarks||t.marks(),Iu(n,!0),n.markCursor=null;else if(Iu(n,!e.selection.empty),Sn&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let s=r.focusNode,l=r.focusOffset;s&&s.nodeType==1&&l!=0;){let c=l<0?s.lastChild:s.childNodes[l-1];if(!c)break;if(c.nodeType==3){let u=n.domSelection();u&&u.collapse(c,c.nodeValue.length);break}else s=c,l=-1}}n.input.composing=!0}nT(n,bI)};function vI(n){let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(!e||e.nodeType!=1||t>=e.childNodes.length)return!1;let r=e.childNodes[t];return r.nodeType==1&&r.contentEditable=="false"}zt.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,nT(n,20))};function nT(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>Iu(n),e))}function rT(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=SI());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function xI(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=d3(e.focusNode,e.focusOffset),r=h3(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let s=r.pmViewDesc,l=n.domObserver.lastChangedTextNode;if(t==l||r==l)return l;if(!s||!s.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let c=t.pmViewDesc;if(!(!c||!c.isText(t.nodeValue)))return r}}return t||r}function SI(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function Iu(n,e=!1){if(!(br&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),rT(n),e||n.docView&&n.docView.dirty){let t=xg(n),r=n.state.selection;return t&&!t.eq(r)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function EI(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const so=Ft&&vi<15||Ea&&y3<604;Lt.copy=zt.cut=(n,e)=>{let t=e,r=n.state.selection,s=t.type=="cut";if(r.empty)return;let l=so?null:t.clipboardData,c=r.content(),{dom:u,text:d}=Eg(n,c);l?(t.preventDefault(),l.clearData(),l.setData("text/html",u.innerHTML),l.setData("text/plain",d)):EI(n,u),s&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function kI(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function TI(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?ao(n,r.value,null,s,e):ao(n,r.textContent,r.innerHTML,s,e)},50)}function ao(n,e,t,r,s){let l=Yk(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",d=>d(n,s,l||Z.empty)))return!0;if(!l)return!1;let c=kI(l),u=c?n.state.tr.replaceSelectionWith(c,r):n.state.tr.replaceSelection(l);return n.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function iT(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}zt.paste=(n,e)=>{let t=e;if(n.composing&&!br)return;let r=so?null:t.clipboardData,s=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&ao(n,iT(r),r.getData("text/html"),s,t)?t.preventDefault():TI(n,t)};class sT{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const CI=vn?"altKey":"ctrlKey";function aT(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t??!e[CI]}Lt.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let s=n.state.selection,l=s.empty?null:n.posAtCoords(If(t)),c;if(!(l&&l.pos>=s.from&&l.pos<=(s instanceof ce?s.to-1:s.to))){if(r&&r.mightDrag)c=ce.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let y=n.docView.nearestDesc(t.target,!0);y&&y.node.type.spec.draggable&&y!=n.docView&&(c=ce.create(n.state.doc,y.posBefore))}}let u=(c||n.state.selection).content(),{dom:d,text:h,slice:m}=Eg(n,u);(!t.dataTransfer.files.length||!gt||Rk>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(so?"Text":"text/html",d.innerHTML),t.dataTransfer.effectAllowed="copyMove",so||t.dataTransfer.setData("text/plain",h),n.dragging=new sT(m,aT(n,t),c)};Lt.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};zt.dragover=zt.dragenter=(n,e)=>e.preventDefault();zt.drop=(n,e)=>{try{wI(n,e,n.dragging)}finally{n.dragging=null}};function wI(n,e,t){if(!e.dataTransfer)return;let r=n.posAtCoords(If(e));if(!r)return;let s=n.state.doc.resolve(r.pos),l=t&&t.slice;l?n.someProp("transformPasted",v=>{l=v(l,n,!1)}):l=Yk(n,iT(e.dataTransfer),so?null:e.dataTransfer.getData("text/html"),!1,s);let c=!!(t&&aT(n,e));if(n.someProp("handleDrop",v=>v(n,e,l||Z.empty,c))){e.preventDefault();return}if(!l)return;e.preventDefault();let u=l?uk(n.state.doc,s.pos,l):s.pos;u==null&&(u=s.pos);let d=n.state.tr;if(c){let{node:v}=t;v?v.replace(d):d.deleteSelection()}let h=d.mapping.map(u),m=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,y=d.doc;if(m?d.replaceRangeWith(h,h,l.content.firstChild):d.replaceRange(h,h,l),d.doc.eq(y))return;let b=d.doc.resolve(h);if(m&&ce.isSelectable(l.content.firstChild)&&b.nodeAfter&&b.nodeAfter.sameMarkup(l.content.firstChild))d.setSelection(new ce(b));else{let v=d.mapping.map(u);d.mapping.maps[d.mapping.maps.length-1].forEach((S,T,C,w)=>v=w),d.setSelection(Sg(n,b,d.doc.resolve(v)))}n.focus(),n.dispatch(d.setMeta("uiEvent","drop"))}Lt.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&Sr(n)},20))};Lt.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};Lt.beforeinput=(n,e)=>{if(gt&&br&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",l=>l(n,Qi(8,"Backspace")))))return;let{$cursor:s}=n.state.selection;s&&s.pos>0&&n.dispatch(n.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let n in zt)Lt[n]=zt[n];function lo(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class Lu{constructor(e,t){this.toDOM=e,this.spec=t||ss,this.side=this.spec.side||0}map(e,t,r,s){let{pos:l,deleted:c}=e.mapResult(t.from+s,this.side<0?-1:1);return c?null:new _t(l-r,l-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Lu&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&lo(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Si{constructor(e,t){this.attrs=e,this.spec=t||ss}map(e,t,r,s){let l=e.map(t.from+s,this.spec.inclusiveStart?-1:1)-r,c=e.map(t.to+s,this.spec.inclusiveEnd?1:-1)-r;return l>=c?null:new _t(l,c,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Si&&lo(this.attrs,e.attrs)&&lo(this.spec,e.spec)}static is(e){return e.type instanceof Si}destroy(){}}class wg{constructor(e,t){this.attrs=e,this.spec=t||ss}map(e,t,r,s){let l=e.mapResult(t.from+s,1);if(l.deleted)return null;let c=e.mapResult(t.to+s,-1);return c.deleted||c.pos<=l.pos?null:new _t(l.pos-r,c.pos-r,this)}valid(e,t){let{index:r,offset:s}=e.content.findIndex(t.from),l;return s==t.from&&!(l=e.child(r)).isText&&s+l.nodeSize==t.to}eq(e){return this==e||e instanceof wg&&lo(this.attrs,e.attrs)&&lo(this.spec,e.spec)}destroy(){}}class _t{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new _t(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new _t(e,e,new Lu(t,r))}static inline(e,t,r,s){return new _t(e,t,new Si(r,s))}static node(e,t,r,s){return new _t(e,t,new wg(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof Si}get widget(){return this.type instanceof Lu}}const sa=[],ss={};class We{constructor(e,t){this.local=e.length?e:sa,this.children=t.length?t:sa}static create(e,t){return t.length?zu(t,e,0,ss):Nt}find(e,t,r){let s=[];return this.findInner(e??0,t??1e9,s,0,r),s}findInner(e,t,r,s,l){for(let c=0;c<this.local.length;c++){let u=this.local[c];u.from<=t&&u.to>=e&&(!l||l(u.spec))&&r.push(u.copy(u.from+s,u.to+s))}for(let c=0;c<this.children.length;c+=3)if(this.children[c]<t&&this.children[c+1]>e){let u=this.children[c]+1;this.children[c+2].findInner(e-u,t-u,r,s+u,l)}}map(e,t,r){return this==Nt||e.maps.length==0?this:this.mapInner(e,t,0,0,r||ss)}mapInner(e,t,r,s,l){let c;for(let u=0;u<this.local.length;u++){let d=this.local[u].map(e,r,s);d&&d.type.valid(t,d)?(c||(c=[])).push(d):l.onRemove&&l.onRemove(this.local[u].spec)}return this.children.length?AI(this.children,c||[],e,t,r,s,l):c?new We(c.sort(as),sa):Nt}add(e,t){return t.length?this==Nt?We.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let s,l=0;e.forEach((u,d)=>{let h=d+r,m;if(m=oT(t,u,h)){for(s||(s=this.children.slice());l<s.length&&s[l]<d;)l+=3;s[l]==d?s[l+2]=s[l+2].addInner(u,m,h+1):s.splice(l,0,d,d+u.nodeSize,zu(m,u,h+1,ss)),l+=3}});let c=lT(l?cT(t):t,-r);for(let u=0;u<c.length;u++)c[u].type.valid(e,c[u])||c.splice(u--,1);return new We(c.length?this.local.concat(c).sort(as):this.local,s||this.children)}remove(e){return e.length==0||this==Nt?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,s=this.local;for(let l=0;l<r.length;l+=3){let c,u=r[l]+t,d=r[l+1]+t;for(let m=0,y;m<e.length;m++)(y=e[m])&&y.from>u&&y.to<d&&(e[m]=null,(c||(c=[])).push(y));if(!c)continue;r==this.children&&(r=this.children.slice());let h=r[l+2].removeInner(c,u+1);h!=Nt?r[l+2]=h:(r.splice(l,3),l-=3)}if(s.length){for(let l=0,c;l<e.length;l++)if(c=e[l])for(let u=0;u<s.length;u++)s[u].eq(c,t)&&(s==this.local&&(s=this.local.slice()),s.splice(u--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new We(s,r):Nt}forChild(e,t){if(this==Nt)return this;if(t.isLeaf)return We.empty;let r,s;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(r=this.children[u+2]);break}let l=e+1,c=l+t.content.size;for(let u=0;u<this.local.length;u++){let d=this.local[u];if(d.from<c&&d.to>l&&d.type instanceof Si){let h=Math.max(l,d.from)-l,m=Math.min(c,d.to)-l;h<m&&(s||(s=[])).push(d.copy(h,m))}}if(s){let u=new We(s.sort(as),sa);return r?new ui([u,r]):u}return r||Nt}eq(e){if(this==e)return!0;if(!(e instanceof We)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Ag(this.localsInner(e))}localsInner(e){if(this==Nt)return sa;if(e.inlineContent||!this.local.some(Si.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Si||t.push(this.local[r]);return t}forEachSet(e){e(this)}}We.empty=new We([],[]);We.removeOverlap=Ag;const Nt=We.empty;class ui{constructor(e){this.members=e}map(e,t){const r=this.members.map(s=>s.map(e,t,ss));return ui.from(r)}forChild(e,t){if(t.isLeaf)return We.empty;let r=[];for(let s=0;s<this.members.length;s++){let l=this.members[s].forChild(e,t);l!=Nt&&(l instanceof ui?r=r.concat(l.members):r.push(l))}return ui.from(r)}eq(e){if(!(e instanceof ui)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let s=0;s<this.members.length;s++){let l=this.members[s].localsInner(e);if(l.length)if(!t)t=l;else{r&&(t=t.slice(),r=!1);for(let c=0;c<l.length;c++)t.push(l[c])}}return t?Ag(r?t:t.sort(as)):sa}static from(e){switch(e.length){case 0:return Nt;case 1:return e[0];default:return new ui(e.every(t=>t instanceof We)?e:e.reduce((t,r)=>t.concat(r instanceof We?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function AI(n,e,t,r,s,l,c){let u=n.slice();for(let h=0,m=l;h<t.maps.length;h++){let y=0;t.maps[h].forEach((b,v,S,T)=>{let C=T-S-(v-b);for(let w=0;w<u.length;w+=3){let I=u[w+1];if(I<0||b>I+m-y)continue;let B=u[w]+m-y;v>=B?u[w+1]=b<=B?-2:-1:b>=m&&C&&(u[w]+=C,u[w+1]+=C)}y+=C}),m=t.maps[h].map(m,-1)}let d=!1;for(let h=0;h<u.length;h+=3)if(u[h+1]<0){if(u[h+1]==-2){d=!0,u[h+1]=-1;continue}let m=t.map(n[h]+l),y=m-s;if(y<0||y>=r.content.size){d=!0;continue}let b=t.map(n[h+1]+l,-1),v=b-s,{index:S,offset:T}=r.content.findIndex(y),C=r.maybeChild(S);if(C&&T==y&&T+C.nodeSize==v){let w=u[h+2].mapInner(t,C,m+1,n[h]+l+1,c);w!=Nt?(u[h]=y,u[h+1]=v,u[h+2]=w):(u[h+1]=-2,d=!0)}else d=!0}if(d){let h=NI(u,n,e,t,s,l,c),m=zu(h,r,0,c);e=m.local;for(let y=0;y<u.length;y+=3)u[y+1]<0&&(u.splice(y,3),y-=3);for(let y=0,b=0;y<m.children.length;y+=3){let v=m.children[y];for(;b<u.length&&u[b]<v;)b+=3;u.splice(b,0,m.children[y],m.children[y+1],m.children[y+2])}}return new We(e.sort(as),u)}function lT(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let s=n[r];t.push(new _t(s.from+e,s.to+e,s.type))}return t}function NI(n,e,t,r,s,l,c){function u(d,h){for(let m=0;m<d.local.length;m++){let y=d.local[m].map(r,s,h);y?t.push(y):c.onRemove&&c.onRemove(d.local[m].spec)}for(let m=0;m<d.children.length;m+=3)u(d.children[m+2],d.children[m]+h+1)}for(let d=0;d<n.length;d+=3)n[d+1]==-1&&u(n[d+2],e[d]+l+1);return t}function oT(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,s=null;for(let l=0,c;l<n.length;l++)(c=n[l])&&c.from>t&&c.to<r&&((s||(s=[])).push(c),n[l]=null);return s}function cT(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function zu(n,e,t,r){let s=[],l=!1;e.forEach((u,d)=>{let h=oT(n,u,d+t);if(h){l=!0;let m=zu(h,u,t+d+1,r);m!=Nt&&s.push(d,d+u.nodeSize,m)}});let c=lT(l?cT(n):n,-t).sort(as);for(let u=0;u<c.length;u++)c[u].type.valid(e,c[u])||(r.onRemove&&r.onRemove(c[u].spec),c.splice(u--,1));return c.length||s.length?new We(c,s):Nt}function as(n,e){return n.from-e.from||n.to-e.to}function Ag(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let s=t+1;s<e.length;s++){let l=e[s];if(l.from==r.from){l.to!=r.to&&(e==n&&(e=n.slice()),e[s]=l.copy(l.from,r.to),Ux(e,s+1,l.copy(r.to,l.to)));continue}else{l.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,l.from),Ux(e,s,r.copy(l.from,r.to)));break}}}return e}function Ux(n,e,t){for(;e<n.length&&as(t,n[e])>0;)e++;n.splice(e,0,t)}function Lp(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=Nt&&e.push(r)}),n.cursorWrapper&&e.push(We.create(n.state.doc,[n.cursorWrapper.deco])),ui.from(e)}const MI={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},OI=Ft&&vi<=11;class RI{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class DI{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new RI,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);Ft&&vi<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),OI&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,MI)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Rx(this.view)){if(this.suppressingSelectionUpdates)return Sr(this.view);if(Ft&&vi<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ds(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let l=e.focusNode;l;l=Sa(l))t.add(l);for(let l=e.anchorNode;l;l=Sa(l))if(t.has(l)){r=l;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Rx(e)&&!this.ignoreSelectionChange(r),l=-1,c=-1,u=!1,d=[];if(e.editable)for(let m=0;m<t.length;m++){let y=this.registerMutation(t[m],d);y&&(l=l<0?y.from:Math.min(y.from,l),c=c<0?y.to:Math.max(y.to,c),y.typeOver&&(u=!0))}if(Sn&&d.length){let m=d.filter(y=>y.nodeName=="BR");if(m.length==2){let[y,b]=m;y.parentNode&&y.parentNode.parentNode==b.parentNode?b.remove():y.remove()}else{let{focusNode:y}=this.currentSelection;for(let b of m){let v=b.parentNode;v&&v.nodeName=="LI"&&(!y||LI(e,y)!=v)&&b.remove()}}}else if((gt||Mt)&&d.some(m=>m.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let m of d)if(m.nodeName=="BR"&&m.parentNode){let y=m.nextSibling;y&&y.nodeType==1&&y.contentEditable=="false"&&m.parentNode.removeChild(m)}}let h=null;l<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Df(r)&&(h=xg(e))&&h.eq(ve.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Sr(e),this.currentSelection.set(r),e.scrollToSelection()):(l>-1||s)&&(l>-1&&(e.docView.markDirty(l,c),_I(e)),this.handleDOMChange(l,c,u,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Sr(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let m=0;m<e.addedNodes.length;m++){let y=e.addedNodes[m];t.push(y),y.nodeType==3&&(this.lastChangedTextNode=y)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,l=e.nextSibling;if(Ft&&vi<=11&&e.addedNodes.length)for(let m=0;m<e.addedNodes.length;m++){let{previousSibling:y,nextSibling:b}=e.addedNodes[m];(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(s=y),(!b||Array.prototype.indexOf.call(e.addedNodes,b)<0)&&(l=b)}let c=s&&s.parentNode==e.target?Ct(s)+1:0,u=r.localPosFromDOM(e.target,c,-1),d=l&&l.parentNode==e.target?Ct(l):e.target.childNodes.length,h=r.localPosFromDOM(e.target,d,1);return{from:u,to:h}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Px=new WeakMap,Hx=!1;function _I(n){if(!Px.has(n)&&(Px.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=Sn,Hx)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Hx=!0}}function Vx(n,e){let t=e.startContainer,r=e.startOffset,s=e.endContainer,l=e.endOffset,c=n.domAtPos(n.state.selection.anchor);return ds(c.node,c.offset,s,l)&&([t,r,s,l]=[s,l,t,r]),{anchorNode:t,anchorOffset:r,focusNode:s,focusOffset:l}}function II(n,e){if(e.getComposedRanges){let s=e.getComposedRanges(n.root)[0];if(s)return Vx(n,s)}let t;function r(s){s.preventDefault(),s.stopImmediatePropagation(),t=s.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?Vx(n,t):null}function LI(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function zI(n,e,t){let{node:r,fromOffset:s,toOffset:l,from:c,to:u}=n.docView.parseRange(e,t),d=n.domSelectionRange(),h,m=d.anchorNode;if(m&&n.dom.contains(m.nodeType==1?m:m.parentNode)&&(h=[{node:m,offset:d.anchorOffset}],Df(d)||h.push({node:d.focusNode,offset:d.focusOffset})),gt&&n.input.lastKeyCode===8)for(let C=l;C>s;C--){let w=r.childNodes[C-1],I=w.pmViewDesc;if(w.nodeName=="BR"&&!I){l=C;break}if(!I||I.size)break}let y=n.state.doc,b=n.someProp("domParser")||bi.fromSchema(n.state.schema),v=y.resolve(c),S=null,T=b.parse(r,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:s,to:l,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:jI,context:v});if(h&&h[0].pos!=null){let C=h[0].pos,w=h[1]&&h[1].pos;w==null&&(w=C),S={anchor:C+c,head:w+c}}return{doc:T,sel:S,from:c,to:u}}function jI(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(Mt&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||Mt&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const BI=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function UI(n,e,t,r,s){let l=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let P=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,ee=xg(n,P);if(ee&&!n.state.selection.eq(ee)){if(gt&&br&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",de=>de(n,Qi(13,"Enter"))))return;let ne=n.state.tr.setSelection(ee);P=="pointer"?ne.setMeta("pointer",!0):P=="key"&&ne.scrollIntoView(),l&&ne.setMeta("composition",l),n.dispatch(ne)}return}let c=n.state.doc.resolve(e),u=c.sharedDepth(t);e=c.before(u+1),t=n.state.doc.resolve(t).after(u+1);let d=n.state.selection,h=zI(n,e,t),m=n.state.doc,y=m.slice(h.from,h.to),b,v;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(b=n.state.selection.to,v="end"):(b=n.state.selection.from,v="start"),n.input.lastKeyCode=null;let S=VI(y.content,h.doc.content,h.from,b,v);if(S&&n.input.domChangeCount++,(Ea&&n.input.lastIOSEnter>Date.now()-225||br)&&s.some(P=>P.nodeType==1&&!BI.test(P.nodeName))&&(!S||S.endA>=S.endB)&&n.someProp("handleKeyDown",P=>P(n,Qi(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!S)if(r&&d instanceof he&&!d.empty&&d.$head.sameParent(d.$anchor)&&!n.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))S={start:d.from,endA:d.to,endB:d.to};else{if(h.sel){let P=$x(n,n.state.doc,h.sel);if(P&&!P.eq(n.state.selection)){let ee=n.state.tr.setSelection(P);l&&ee.setMeta("composition",l),n.dispatch(ee)}}return}n.state.selection.from<n.state.selection.to&&S.start==S.endB&&n.state.selection instanceof he&&(S.start>n.state.selection.from&&S.start<=n.state.selection.from+2&&n.state.selection.from>=h.from?S.start=n.state.selection.from:S.endA<n.state.selection.to&&S.endA>=n.state.selection.to-2&&n.state.selection.to<=h.to&&(S.endB+=n.state.selection.to-S.endA,S.endA=n.state.selection.to)),Ft&&vi<=11&&S.endB==S.start+1&&S.endA==S.start&&S.start>h.from&&h.doc.textBetween(S.start-h.from-1,S.start-h.from+1)==" "&&(S.start--,S.endA--,S.endB--);let T=h.doc.resolveNoCache(S.start-h.from),C=h.doc.resolveNoCache(S.endB-h.from),w=m.resolve(S.start),I=T.sameParent(C)&&T.parent.inlineContent&&w.end()>=S.endA;if((Ea&&n.input.lastIOSEnter>Date.now()-225&&(!I||s.some(P=>P.nodeName=="DIV"||P.nodeName=="P"))||!I&&T.pos<h.doc.content.size&&(!T.sameParent(C)||!T.parent.inlineContent)&&T.pos<C.pos&&!/\S/.test(h.doc.textBetween(T.pos,C.pos,"","")))&&n.someProp("handleKeyDown",P=>P(n,Qi(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>S.start&&HI(m,S.start,S.endA,T,C)&&n.someProp("handleKeyDown",P=>P(n,Qi(8,"Backspace")))){br&&gt&&n.domObserver.suppressSelectionUpdates();return}gt&&S.endB==S.start&&(n.input.lastChromeDelete=Date.now()),br&&!I&&T.start()!=C.start()&&C.parentOffset==0&&T.depth==C.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==S.endA&&(S.endB-=2,C=h.doc.resolveNoCache(S.endB-h.from),setTimeout(()=>{n.someProp("handleKeyDown",function(P){return P(n,Qi(13,"Enter"))})},20));let B=S.start,F=S.endA,q=P=>{let ee=P||n.state.tr.replace(B,F,h.doc.slice(S.start-h.from,S.endB-h.from));if(h.sel){let ne=$x(n,ee.doc,h.sel);ne&&!(gt&&n.composing&&ne.empty&&(S.start!=S.endB||n.input.lastChromeDelete<Date.now()-100)&&(ne.head==B||ne.head==ee.mapping.map(F)-1)||Ft&&ne.empty&&ne.head==B)&&ee.setSelection(ne)}return l&&ee.setMeta("composition",l),ee.scrollIntoView()},W;if(I)if(T.pos==C.pos){Ft&&vi<=11&&T.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>Sr(n),20));let P=q(n.state.tr.delete(B,F)),ee=m.resolve(S.start).marksAcross(m.resolve(S.endA));ee&&P.ensureMarks(ee),n.dispatch(P)}else if(S.endA==S.endB&&(W=PI(T.parent.content.cut(T.parentOffset,C.parentOffset),w.parent.content.cut(w.parentOffset,S.endA-w.start())))){let P=q(n.state.tr);W.type=="add"?P.addMark(B,F,W.mark):P.removeMark(B,F,W.mark),n.dispatch(P)}else if(T.parent.child(T.index()).isText&&T.index()==C.index()-(C.textOffset?0:1)){let P=T.parent.textBetween(T.parentOffset,C.parentOffset),ee=()=>q(n.state.tr.insertText(P,B,F));n.someProp("handleTextInput",ne=>ne(n,B,F,P,ee))||n.dispatch(ee())}else n.dispatch(q());else n.dispatch(q())}function $x(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:Sg(n,e.resolve(t.anchor),e.resolve(t.head))}function PI(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,s=t,l=r,c,u,d;for(let m=0;m<r.length;m++)s=r[m].removeFromSet(s);for(let m=0;m<t.length;m++)l=t[m].removeFromSet(l);if(s.length==1&&l.length==0)u=s[0],c="add",d=m=>m.mark(u.addToSet(m.marks));else if(s.length==0&&l.length==1)u=l[0],c="remove",d=m=>m.mark(u.removeFromSet(m.marks));else return null;let h=[];for(let m=0;m<e.childCount;m++)h.push(d(e.child(m)));if(G.from(h).eq(n))return{mark:u,type:c}}function HI(n,e,t,r,s){if(t-e<=s.pos-r.pos||zp(r,!0,!1)<s.pos)return!1;let l=n.resolve(e);if(!r.parent.isTextblock){let u=l.nodeAfter;return u!=null&&t==e+u.nodeSize}if(l.parentOffset<l.parent.content.size||!l.parent.isTextblock)return!1;let c=n.resolve(zp(l,!0,!0));return!c.parent.isTextblock||c.pos>t||zp(c,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(c.parent.content)}function zp(n,e,t){let r=n.depth,s=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,s++,e=!1;if(t){let l=n.node(r).maybeChild(n.indexAfter(r));for(;l&&!l.isLeaf;)l=l.firstChild,s++}return s}function VI(n,e,t,r,s){let l=n.findDiffStart(e,t);if(l==null)return null;let{a:c,b:u}=n.findDiffEnd(e,t+n.size,t+e.size);if(s=="end"){let d=Math.max(0,l-Math.min(c,u));r-=c+d-l}if(c<l&&n.size<e.size){let d=r<=l&&r>=c?l-r:0;l-=d,l&&l<e.size&&qx(e.textBetween(l-1,l+1))&&(l+=d?1:-1),u=l+(u-c),c=l}else if(u<l){let d=r<=l&&r>=u?l-r:0;l-=d,l&&l<n.size&&qx(n.textBetween(l-1,l+1))&&(l+=d?1:-1),c=l+(c-u),u=l}return{start:l,endA:c,endB:u}}function qx(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class uT{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new sI,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(Wx),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Gx(this),Kx(this),this.nodeViews=Yx(this),this.docView=Cx(this.state.doc,Fx(this),Lp(this),this.dom,this),this.domObserver=new DI(this,(r,s,l,c)=>UI(this,r,s,l,c)),this.domObserver.start(),aI(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Nm(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Wx),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let s=this.state,l=!1,c=!1;e.storedMarks&&this.composing&&(rT(this),c=!0),this.state=e;let u=s.plugins!=e.plugins||this._props.plugins!=t.plugins;if(u||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let v=Yx(this);qI(v,this.nodeViews)&&(this.nodeViews=v,l=!0)}(u||t.handleDOMEvents!=this._props.handleDOMEvents)&&Nm(this),this.editable=Gx(this),Kx(this);let d=Lp(this),h=Fx(this),m=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",y=l||!this.docView.matchesNode(e.doc,h,d);(y||!e.selection.eq(s.selection))&&(c=!0);let b=m=="preserve"&&c&&this.dom.style.overflowAnchor==null&&x3(this);if(c){this.domObserver.stop();let v=y&&(Ft||gt)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&$I(s.selection,e.selection);if(y){let S=gt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=xI(this)),(l||!this.docView.update(e.doc,h,d,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=Cx(e.doc,h,d,this.dom,this)),S&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&q3(this))?Sr(this,v):(Fk(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),m=="reset"?this.dom.scrollTop=0:m=="to selection"?this.scrollToSelection():b&&S3(b)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof ce){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&vx(this,t.getBoundingClientRect(),e)}else vx(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let l=r.from+(this.state.doc.content.size-t.doc.content.size);(l>0&&this.state.doc.nodeAt(l))==r.node&&(s=l)}this.dragging=new sT(e.slice,e.move,s<0?void 0:ce.create(this.state.doc,s))}someProp(e,t){let r=this._props&&this._props[e],s;if(r!=null&&(s=t?t(r):r))return s;for(let c=0;c<this.directPlugins.length;c++){let u=this.directPlugins[c].props[e];if(u!=null&&(s=t?t(u):u))return s}let l=this.state.plugins;if(l)for(let c=0;c<l.length;c++){let u=l[c].props[e];if(u!=null&&(s=t?t(u):u))return s}}hasFocus(){if(Ft){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&E3(this.dom),Sr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return A3(this,e)}coordsAtPos(e,t=1){return jk(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let s=this.docView.posFromDOM(e,t,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,t){return D3(this,t||this.state,e)}pasteHTML(e,t){return ao(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return ao(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return Eg(this,e)}destroy(){this.docView&&(lI(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Lp(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,u3())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return cI(this,e)}domSelectionRange(){let e=this.domSelection();return e?Mt&&this.root.nodeType===11&&m3(this.dom.ownerDocument)==this.dom&&II(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}uT.prototype.dispatch=function(n){let e=this._props.dispatchTransaction;e?e.call(this,n):this.updateState(this.state.apply(n))};function Fx(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[_t.node(0,n.state.doc.content.size,e)]}function Kx(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:_t.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function Gx(n){return!n.someProp("editable",e=>e(n.state)===!1)}function $I(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function Yx(n){let e=Object.create(null);function t(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function qI(n,e){let t=0,r=0;for(let s in n){if(n[s]!=e[s])return!0;t++}for(let s in e)r++;return t!=r}function Wx(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ki={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ju={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},FI=typeof navigator<"u"&&/Mac/.test(navigator.platform),KI=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var wt=0;wt<10;wt++)ki[48+wt]=ki[96+wt]=String(wt);for(var wt=1;wt<=24;wt++)ki[wt+111]="F"+wt;for(var wt=65;wt<=90;wt++)ki[wt]=String.fromCharCode(wt+32),ju[wt]=String.fromCharCode(wt);for(var jp in ki)ju.hasOwnProperty(jp)||(ju[jp]=ki[jp]);function GI(n){var e=FI&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||KI&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?ju:ki)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const YI=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),WI=typeof navigator<"u"&&/Win/.test(navigator.platform);function JI(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,s,l,c;for(let u=0;u<e.length-1;u++){let d=e[u];if(/^(cmd|meta|m)$/i.test(d))c=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))l=!0;else if(/^mod$/i.test(d))YI?c=!0:s=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(t="Alt-"+t),s&&(t="Ctrl-"+t),c&&(t="Meta-"+t),l&&(t="Shift-"+t),t}function XI(n){let e=Object.create(null);for(let t in n)e[JI(t)]=n[t];return e}function Bp(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function QI(n){return new Je({props:{handleKeyDown:fT(n)}})}function fT(n){let e=XI(n);return function(t,r){let s=GI(r),l,c=e[Bp(s,r)];if(c&&c(t.state,t.dispatch,t))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let u=e[Bp(s,r,!1)];if(u&&u(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(WI&&r.ctrlKey&&r.altKey)&&(l=ki[r.keyCode])&&l!=s){let u=e[Bp(l,r)];if(u&&u(t.state,t.dispatch,t))return!0}}return!1}}var ZI=Object.defineProperty,Ng=(n,e)=>{for(var t in e)ZI(n,t,{get:e[t],enumerable:!0})};function Lf(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:s}=t,{storedMarks:l}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return l},get selection(){return r},get doc(){return s},get tr(){return r=t.selection,s=t.doc,l=t.storedMarks,t}}}var zf=class{constructor(n){this.editor=n.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=n.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:n,editor:e,state:t}=this,{view:r}=e,{tr:s}=t,l=this.buildProps(s);return Object.fromEntries(Object.entries(n).map(([c,u])=>[c,(...h)=>{const m=u(...h)(l);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(s),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(n,e=!0){const{rawCommands:t,editor:r,state:s}=this,{view:l}=r,c=[],u=!!n,d=n||s.tr,h=()=>(!u&&e&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&l.dispatch(d),c.every(y=>y===!0)),m={...Object.fromEntries(Object.entries(t).map(([y,b])=>[y,(...S)=>{const T=this.buildProps(d,e),C=b(...S)(T);return c.push(C),m}])),run:h};return m}createCan(n){const{rawCommands:e,state:t}=this,r=!1,s=n||t.tr,l=this.buildProps(s,r);return{...Object.fromEntries(Object.entries(e).map(([u,d])=>[u,(...h)=>d(...h)({...l,dispatch:void 0})])),chain:()=>this.createChain(s,r)}}buildProps(n,e=!0){const{rawCommands:t,editor:r,state:s}=this,{view:l}=r,c={tr:n,editor:r,view:l,state:Lf({state:s,transaction:n}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(n,e),can:()=>this.createCan(n),get commands(){return Object.fromEntries(Object.entries(t).map(([u,d])=>[u,(...h)=>d(...h)(c)]))}};return c}},dT={};Ng(dT,{blur:()=>eL,clearContent:()=>tL,clearNodes:()=>nL,command:()=>rL,createParagraphNear:()=>iL,cut:()=>sL,deleteCurrentNode:()=>aL,deleteNode:()=>lL,deleteRange:()=>oL,deleteSelection:()=>cL,enter:()=>uL,exitCode:()=>fL,extendMarkRange:()=>dL,first:()=>hL,focus:()=>mL,forEach:()=>gL,insertContent:()=>yL,insertContentAt:()=>xL,joinBackward:()=>kL,joinDown:()=>EL,joinForward:()=>TL,joinItemBackward:()=>CL,joinItemForward:()=>wL,joinTextblockBackward:()=>AL,joinTextblockForward:()=>NL,joinUp:()=>SL,keyboardShortcut:()=>OL,lift:()=>RL,liftEmptyBlock:()=>DL,liftListItem:()=>_L,newlineInCode:()=>IL,resetAttributes:()=>LL,scrollIntoView:()=>zL,selectAll:()=>jL,selectNodeBackward:()=>BL,selectNodeForward:()=>UL,selectParentNode:()=>PL,selectTextblockEnd:()=>HL,selectTextblockStart:()=>VL,setContent:()=>$L,setMark:()=>lz,setMeta:()=>oz,setNode:()=>cz,setNodeSelection:()=>uz,setTextDirection:()=>fz,setTextSelection:()=>dz,sinkListItem:()=>hz,splitBlock:()=>pz,splitListItem:()=>mz,toggleList:()=>gz,toggleMark:()=>yz,toggleNode:()=>bz,toggleWrap:()=>vz,undoInputRule:()=>xz,unsetAllMarks:()=>Sz,unsetMark:()=>Ez,unsetTextDirection:()=>kz,updateAttributes:()=>Tz,wrapIn:()=>Cz,wrapInList:()=>wz});var eL=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window?.getSelection())==null||t.removeAllRanges())}),!0),tL=(n=!0)=>({commands:e})=>e.setContent("",{emitUpdate:n}),nL=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:s}=r;return t&&s.forEach(({$from:l,$to:c})=>{n.doc.nodesBetween(l.pos,c.pos,(u,d)=>{if(u.type.isText)return;const{doc:h,mapping:m}=e,y=h.resolve(m.map(d)),b=h.resolve(m.map(d+u.nodeSize)),v=y.blockRange(b);if(!v)return;const S=Ra(v);if(u.type.isTextblock){const{defaultType:T}=y.parent.contentMatchAt(y.index());e.setNodeMarkup(v.start,T)}(S||S===0)&&e.lift(v,S)})}),!0},rL=n=>e=>n(e),iL=()=>({state:n,dispatch:e})=>wk(n,e),sL=(n,e)=>({editor:t,tr:r})=>{const{state:s}=t,l=s.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const c=r.mapping.map(e);return r.insert(c,l.content),r.setSelection(new he(r.doc.resolve(Math.max(c-1,0)))),!0},aL=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const s=n.selection.$anchor;for(let l=s.depth;l>0;l-=1)if(s.node(l).type===r.type){if(e){const u=s.before(l),d=s.after(l);n.delete(u,d).scrollIntoView()}return!0}return!1};function ut(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}var lL=n=>({tr:e,state:t,dispatch:r})=>{const s=ut(n,t.schema),l=e.selection.$anchor;for(let c=l.depth;c>0;c-=1)if(l.node(c).type===s){if(r){const d=l.before(c),h=l.after(c);e.delete(d,h).scrollIntoView()}return!0}return!1},oL=n=>({tr:e,dispatch:t})=>{const{from:r,to:s}=n;return t&&e.delete(r,s),!0},cL=()=>({state:n,dispatch:e})=>pg(n,e),uL=()=>({commands:n})=>n.keyboardShortcut("Enter"),fL=()=>({state:n,dispatch:e})=>W_(n,e);function Mg(n){return Object.prototype.toString.call(n)==="[object RegExp]"}function Bu(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>t.strict?e[s]===n[s]:Mg(e[s])?e[s].test(n[s]):e[s]===n[s]):!0}function hT(n,e,t={}){return n.find(r=>r.type===e&&Bu(Object.fromEntries(Object.keys(t).map(s=>[s,r.attrs[s]])),t))}function Jx(n,e,t={}){return!!hT(n,e,t)}function Og(n,e,t){var r;if(!n||!e)return;let s=n.parent.childAfter(n.parentOffset);if((!s.node||!s.node.marks.some(m=>m.type===e))&&(s=n.parent.childBefore(n.parentOffset)),!s.node||!s.node.marks.some(m=>m.type===e)||(t=t||((r=s.node.marks[0])==null?void 0:r.attrs),!hT([...s.node.marks],e,t)))return;let c=s.index,u=n.start()+s.offset,d=c+1,h=u+s.node.nodeSize;for(;c>0&&Jx([...n.parent.child(c-1).marks],e,t);)c-=1,u-=n.parent.child(c).nodeSize;for(;d<n.parent.childCount&&Jx([...n.parent.child(d).marks],e,t);)h+=n.parent.child(d).nodeSize,d+=1;return{from:u,to:h}}function wr(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}var dL=(n,e={})=>({tr:t,state:r,dispatch:s})=>{const l=wr(n,r.schema),{doc:c,selection:u}=t,{$from:d,from:h,to:m}=u;if(s){const y=Og(d,l,e);if(y&&y.from<=h&&y.to>=m){const b=he.create(c,y.from,y.to);t.setSelection(b)}}return!0},hL=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function pT(n){return n instanceof he}function ts(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function mT(n,e=null){if(!e)return null;const t=ve.atStart(n),r=ve.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const s=t.from,l=r.to;return e==="all"?he.create(n,ts(0,s,l),ts(n.content.size,s,l)):he.create(n,ts(e,s,l),ts(e,s,l))}function pL(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Rg(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var mL=(n=null,e={})=>({editor:t,view:r,tr:s,dispatch:l})=>{e={scrollIntoView:!0,...e};const c=()=>{(Rg()||pL())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e?.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(l&&n===null&&!pT(t.state.selection))return c(),!0;const u=mT(s.doc,n)||t.state.selection,d=t.state.selection.eq(u);return l&&(d||s.setSelection(u),d&&s.storedMarks&&s.setStoredMarks(s.storedMarks),c()),!0},gL=(n,e)=>t=>n.every((r,s)=>e(r,{...t,index:s})),yL=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),gT=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&gT(r)}return n};function Xc(n){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return gT(t)}function oo(n,e,t){if(n instanceof Mn||n instanceof G)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,s=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return G.fromArray(n.map(u=>e.nodeFromJSON(u)));const c=e.nodeFromJSON(n);return t.errorOnInvalidContent&&c.check(),c}catch(l){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:l});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",l),oo("",e,t)}if(s){if(t.errorOnInvalidContent){let c=!1,u="";const d=new ZE({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(c=!0,u=typeof h=="string"?h:h.outerHTML,null)}]}})});if(t.slice?bi.fromSchema(d).parseSlice(Xc(n),t.parseOptions):bi.fromSchema(d).parse(Xc(n),t.parseOptions),t.errorOnInvalidContent&&c)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const l=bi.fromSchema(e);return t.slice?l.parseSlice(Xc(n),t.parseOptions).content:l.parse(Xc(n),t.parseOptions)}return oo("",e,t)}function bL(n,e,t){const r=n.steps.length-1;if(r<e)return;const s=n.steps[r];if(!(s instanceof mt||s instanceof yt))return;const l=n.mapping.maps[r];let c=0;l.forEach((u,d,h,m)=>{c===0&&(c=m)}),n.setSelection(ve.near(n.doc.resolve(c),t))}var vL=n=>!("type"in n),xL=(n,e,t)=>({tr:r,dispatch:s,editor:l})=>{var c;if(s){t={parseOptions:l.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let u;const d=C=>{l.emit("contentError",{editor:l,error:C,disableCollaboration:()=>{"collaboration"in l.storage&&typeof l.storage.collaboration=="object"&&l.storage.collaboration&&(l.storage.collaboration.isDisabled=!0)}})},h={preserveWhitespace:"full",...t.parseOptions};if(!t.errorOnInvalidContent&&!l.options.enableContentCheck&&l.options.emitContentError)try{oo(e,l.schema,{parseOptions:h,errorOnInvalidContent:!0})}catch(C){d(C)}try{u=oo(e,l.schema,{parseOptions:h,errorOnInvalidContent:(c=t.errorOnInvalidContent)!=null?c:l.options.enableContentCheck})}catch(C){return d(C),!1}let{from:m,to:y}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},b=!0,v=!0;if((vL(u)?u:[u]).forEach(C=>{C.check(),b=b?C.isText&&C.marks.length===0:!1,v=v?C.isBlock:!1}),m===y&&v){const{parent:C}=r.doc.resolve(m);C.isTextblock&&!C.type.spec.code&&!C.childCount&&(m-=1,y+=1)}let T;if(b){if(Array.isArray(e))T=e.map(C=>C.text||"").join("");else if(e instanceof G){let C="";e.forEach(w=>{w.text&&(C+=w.text)}),T=C}else typeof e=="object"&&e&&e.text?T=e.text:T=e;r.insertText(T,m,y)}else{T=u;const C=r.doc.resolve(m),w=C.node(),I=C.parentOffset===0,B=w.isText||w.isTextblock,F=w.content.size>0;I&&B&&F&&(m=Math.max(0,m-1)),r.replaceWith(m,y,T)}t.updateSelection&&bL(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:m,text:T}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:m,text:T})}return!0},SL=()=>({state:n,dispatch:e})=>K_(n,e),EL=()=>({state:n,dispatch:e})=>G_(n,e),kL=()=>({state:n,dispatch:e})=>vk(n,e),TL=()=>({state:n,dispatch:e})=>kk(n,e),CL=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Mf(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},wL=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Mf(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},AL=()=>({state:n,dispatch:e})=>q_(n,e),NL=()=>({state:n,dispatch:e})=>F_(n,e);function yT(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function ML(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,s,l,c;for(let u=0;u<e.length-1;u+=1){const d=e[u];if(/^(cmd|meta|m)$/i.test(d))c=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))l=!0;else if(/^mod$/i.test(d))Rg()||yT()?c=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(t=`Alt-${t}`),s&&(t=`Ctrl-${t}`),c&&(t=`Meta-${t}`),l&&(t=`Shift-${t}`),t}var OL=n=>({editor:e,view:t,tr:r,dispatch:s})=>{const l=ML(n).split(/-(?!$)/),c=l.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),u=new KeyboardEvent("keydown",{key:c==="Space"?" ":c,altKey:l.includes("Alt"),ctrlKey:l.includes("Ctrl"),metaKey:l.includes("Meta"),shiftKey:l.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{t.someProp("handleKeyDown",h=>h(t,u))});return d?.steps.forEach(h=>{const m=h.map(r.mapping);m&&s&&r.maybeStep(m)}),!0};function Ti(n,e,t={}){const{from:r,to:s,empty:l}=n.selection,c=e?ut(e,n.schema):null,u=[];n.doc.nodesBetween(r,s,(y,b)=>{if(y.isText)return;const v=Math.max(r,b),S=Math.min(s,b+y.nodeSize);u.push({node:y,from:v,to:S})});const d=s-r,h=u.filter(y=>c?c.name===y.node.type.name:!0).filter(y=>Bu(y.node.attrs,t,{strict:!1}));return l?!!h.length:h.reduce((y,b)=>y+b.to-b.from,0)>=d}var RL=(n,e={})=>({state:t,dispatch:r})=>{const s=ut(n,t.schema);return Ti(t,s,e)?Y_(t,r):!1},DL=()=>({state:n,dispatch:e})=>Ak(n,e),_L=n=>({state:e,dispatch:t})=>{const r=ut(n,e.schema);return a3(r)(e,t)},IL=()=>({state:n,dispatch:e})=>Ck(n,e);function jf(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function Xx(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,s)=>(t.includes(s)||(r[s]=n[s]),r),{})}var LL=(n,e)=>({tr:t,state:r,dispatch:s})=>{let l=null,c=null;const u=jf(typeof n=="string"?n:n.name,r.schema);if(!u)return!1;u==="node"&&(l=ut(n,r.schema)),u==="mark"&&(c=wr(n,r.schema));let d=!1;return t.selection.ranges.forEach(h=>{r.doc.nodesBetween(h.$from.pos,h.$to.pos,(m,y)=>{l&&l===m.type&&(d=!0,s&&t.setNodeMarkup(y,void 0,Xx(m.attrs,e))),c&&m.marks.length&&m.marks.forEach(b=>{c===b.type&&(d=!0,s&&t.addMark(y,y+m.nodeSize,c.create(Xx(b.attrs,e))))})})}),d},zL=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),jL=()=>({tr:n,dispatch:e})=>{if(e){const t=new rn(n.doc);n.setSelection(t)}return!0},BL=()=>({state:n,dispatch:e})=>Sk(n,e),UL=()=>({state:n,dispatch:e})=>Tk(n,e),PL=()=>({state:n,dispatch:e})=>Q_(n,e),HL=()=>({state:n,dispatch:e})=>t3(n,e),VL=()=>({state:n,dispatch:e})=>e3(n,e);function Mm(n,e,t={},r={}){return oo(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}var $L=(n,{errorOnInvalidContent:e,emitUpdate:t=!0,parseOptions:r={}}={})=>({editor:s,tr:l,dispatch:c,commands:u})=>{const{doc:d}=l;if(r.preserveWhitespace!=="full"){const h=Mm(n,s.schema,r,{errorOnInvalidContent:e??s.options.enableContentCheck});return c&&l.replaceWith(0,d.content.size,h).setMeta("preventUpdate",!t),!0}return c&&l.setMeta("preventUpdate",!t),u.insertContentAt({from:0,to:d.content.size},n,{parseOptions:r,errorOnInvalidContent:e??s.options.enableContentCheck})};function bT(n,e){const t=wr(e,n.schema),{from:r,to:s,empty:l}=n.selection,c=[];l?(n.storedMarks&&c.push(...n.storedMarks),c.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,s,d=>{c.push(...d.marks)});const u=c.find(d=>d.type.name===t.name);return u?{...u.attrs}:{}}function vT(n,e){const t=new mk(n);return e.forEach(r=>{r.steps.forEach(s=>{t.step(s)})}),t}function qL(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function FL(n,e,t){const r=[];return n.nodesBetween(e.from,e.to,(s,l)=>{t(s)&&r.push({node:s,pos:l})}),r}function KL(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function Bf(n){return e=>KL(e.$from,n)}function oe(n,e,t){return n.config[e]===void 0&&n.parent?oe(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?oe(n.parent,e,t):null}):n.config[e]}function Dg(n){return n.map(e=>{const t={name:e.name,options:e.options,storage:e.storage},r=oe(e,"addExtensions",t);return r?[e,...Dg(r())]:e}).flat(10)}function _g(n,e){const t=ys.fromSchema(e).serializeFragment(n),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(t),s.innerHTML}function xT(n){return typeof n=="function"}function ze(n,e=void 0,...t){return xT(n)?e?n.bind(e)(...t):n(...t):n}function GL(n={}){return Object.keys(n).length===0&&n.constructor===Object}function ka(n){const e=n.filter(s=>s.type==="extension"),t=n.filter(s=>s.type==="node"),r=n.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function ST(n){const e=[],{nodeExtensions:t,markExtensions:r}=ka(n),s=[...t,...r],l={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(c=>{const u={name:c.name,options:c.options,storage:c.storage,extensions:s},d=oe(c,"addGlobalAttributes",u);if(!d)return;d().forEach(m=>{m.types.forEach(y=>{Object.entries(m.attributes).forEach(([b,v])=>{e.push({type:y,name:b,attribute:{...l,...v}})})})})}),s.forEach(c=>{const u={name:c.name,options:c.options,storage:c.storage},d=oe(c,"addAttributes",u);if(!d)return;const h=d();Object.entries(h).forEach(([m,y])=>{const b={...l,...y};typeof b?.default=="function"&&(b.default=b.default()),b?.isRequired&&b?.default===void 0&&delete b.default,e.push({type:c.name,name:m,attribute:b})})}),e}function it(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([s,l])=>{if(!r[s]){r[s]=l;return}if(s==="class"){const u=l?String(l).split(" "):[],d=r[s]?r[s].split(" "):[],h=u.filter(m=>!d.includes(m));r[s]=[...d,...h].join(" ")}else if(s==="style"){const u=l?l.split(";").map(m=>m.trim()).filter(Boolean):[],d=r[s]?r[s].split(";").map(m=>m.trim()).filter(Boolean):[],h=new Map;d.forEach(m=>{const[y,b]=m.split(":").map(v=>v.trim());h.set(y,b)}),u.forEach(m=>{const[y,b]=m.split(":").map(v=>v.trim());h.set(y,b)}),r[s]=Array.from(h.entries()).map(([m,y])=>`${m}: ${y}`).join("; ")}else r[s]=l}),r},{})}function Uu(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>it(t,r),{})}function YL(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function Qx(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const s=e.reduce((l,c)=>{const u=c.attribute.parseHTML?c.attribute.parseHTML(t):YL(t.getAttribute(c.name));return u==null?l:{...l,[c.name]:u}},{});return{...r,...s}}}}function Zx(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&GL(t)?!1:t!=null))}function eS(n){var e,t;const r={};return!((e=n?.attribute)!=null&&e.isRequired)&&"default"in(n?.attribute||{})&&(r.default=n.attribute.default),((t=n?.attribute)==null?void 0:t.validate)!==void 0&&(r.validate=n.attribute.validate),[n.name,r]}function WL(n,e){var t;const r=ST(n),{nodeExtensions:s,markExtensions:l}=ka(n),c=(t=s.find(h=>oe(h,"topNode")))==null?void 0:t.name,u=Object.fromEntries(s.map(h=>{const m=r.filter(w=>w.type===h.name),y={name:h.name,options:h.options,storage:h.storage,editor:e},b=n.reduce((w,I)=>{const B=oe(I,"extendNodeSchema",y);return{...w,...B?B(h):{}}},{}),v=Zx({...b,content:ze(oe(h,"content",y)),marks:ze(oe(h,"marks",y)),group:ze(oe(h,"group",y)),inline:ze(oe(h,"inline",y)),atom:ze(oe(h,"atom",y)),selectable:ze(oe(h,"selectable",y)),draggable:ze(oe(h,"draggable",y)),code:ze(oe(h,"code",y)),whitespace:ze(oe(h,"whitespace",y)),linebreakReplacement:ze(oe(h,"linebreakReplacement",y)),defining:ze(oe(h,"defining",y)),isolating:ze(oe(h,"isolating",y)),attrs:Object.fromEntries(m.map(eS))}),S=ze(oe(h,"parseHTML",y));S&&(v.parseDOM=S.map(w=>Qx(w,m)));const T=oe(h,"renderHTML",y);T&&(v.toDOM=w=>T({node:w,HTMLAttributes:Uu(w,m)}));const C=oe(h,"renderText",y);return C&&(v.toText=C),[h.name,v]})),d=Object.fromEntries(l.map(h=>{const m=r.filter(C=>C.type===h.name),y={name:h.name,options:h.options,storage:h.storage,editor:e},b=n.reduce((C,w)=>{const I=oe(w,"extendMarkSchema",y);return{...C,...I?I(h):{}}},{}),v=Zx({...b,inclusive:ze(oe(h,"inclusive",y)),excludes:ze(oe(h,"excludes",y)),group:ze(oe(h,"group",y)),spanning:ze(oe(h,"spanning",y)),code:ze(oe(h,"code",y)),attrs:Object.fromEntries(m.map(eS))}),S=ze(oe(h,"parseHTML",y));S&&(v.parseDOM=S.map(C=>Qx(C,m)));const T=oe(h,"renderHTML",y);return T&&(v.toDOM=C=>T({mark:C,HTMLAttributes:Uu(C,m)})),[h.name,v]}));return new ZE({topNode:c,nodes:u,marks:d})}function JL(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}function Ig(n){return n.sort((t,r)=>{const s=oe(t,"priority")||100,l=oe(r,"priority")||100;return s>l?-1:s<l?1:0})}function ET(n){const e=Ig(Dg(n)),t=JL(e.map(r=>r.name));return t.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${t.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function kT(n,e,t){const{from:r,to:s}=e,{blockSeparator:l=`

`,textSerializers:c={}}=t||{};let u="";return n.nodesBetween(r,s,(d,h,m,y)=>{var b;d.isBlock&&h>r&&(u+=l);const v=c?.[d.type.name];if(v)return m&&(u+=v({node:d,pos:h,parent:m,index:y,range:e})),!1;d.isText&&(u+=(b=d?.text)==null?void 0:b.slice(Math.max(r,h)-h,s-h))}),u}function XL(n,e){const t={from:0,to:n.content.size};return kT(n,t,e)}function TT(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}function QL(n,e){const t=ut(e,n.schema),{from:r,to:s}=n.selection,l=[];n.doc.nodesBetween(r,s,u=>{l.push(u)});const c=l.reverse().find(u=>u.type.name===t.name);return c?{...c.attrs}:{}}function CT(n,e){const t=jf(typeof e=="string"?e:e.name,n.schema);return t==="node"?QL(n,e):t==="mark"?bT(n,e):{}}function ZL(n,e=JSON.stringify){const t={};return n.filter(r=>{const s=e(r);return Object.prototype.hasOwnProperty.call(t,s)?!1:t[s]=!0})}function ez(n){const e=ZL(n);return e.length===1?e:e.filter((t,r)=>!e.filter((l,c)=>c!==r).some(l=>t.oldRange.from>=l.oldRange.from&&t.oldRange.to<=l.oldRange.to&&t.newRange.from>=l.newRange.from&&t.newRange.to<=l.newRange.to))}function wT(n){const{mapping:e,steps:t}=n,r=[];return e.maps.forEach((s,l)=>{const c=[];if(s.ranges.length)s.forEach((u,d)=>{c.push({from:u,to:d})});else{const{from:u,to:d}=t[l];if(u===void 0||d===void 0)return;c.push({from:u,to:d})}c.forEach(({from:u,to:d})=>{const h=e.slice(l).map(u,-1),m=e.slice(l).map(d),y=e.invert().map(h,-1),b=e.invert().map(m);r.push({oldRange:{from:y,to:b},newRange:{from:h,to:m}})})}),ez(r)}function Lg(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(s=>{const l=t.resolve(n),c=Og(l,s.type);c&&r.push({mark:s,...c})}):t.nodesBetween(n,e,(s,l)=>{!s||s?.nodeSize===void 0||r.push(...s.marks.map(c=>({from:l,to:l+s.nodeSize,mark:c})))}),r}var tz=(n,e,t,r=20)=>{const s=n.doc.resolve(t);let l=r,c=null;for(;l>0&&c===null;){const u=s.node(l);u?.type.name===e?c=u:l-=1}return[c,l]};function Up(n,e){return e.nodes[n]||e.marks[n]||null}function mu(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const s=n.find(l=>l.type===e&&l.name===r);return s?s.attribute.keepOnSplit:!1}))}var nz=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(s,l,c,u)=>{var d,h;const m=((h=(d=s.type.spec).toText)==null?void 0:h.call(d,{node:s,pos:l,parent:c,index:u}))||s.textContent||"%leaf%";t+=s.isAtom&&!s.isText?m:m.slice(0,Math.max(0,r-l))}),t};function Om(n,e,t={}){const{empty:r,ranges:s}=n.selection,l=e?wr(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(y=>l?l.name===y.type.name:!0).find(y=>Bu(y.attrs,t,{strict:!1}));let c=0;const u=[];if(s.forEach(({$from:y,$to:b})=>{const v=y.pos,S=b.pos;n.doc.nodesBetween(v,S,(T,C)=>{if(!T.isText&&!T.marks.length)return;const w=Math.max(v,C),I=Math.min(S,C+T.nodeSize),B=I-w;c+=B,u.push(...T.marks.map(F=>({mark:F,from:w,to:I})))})}),c===0)return!1;const d=u.filter(y=>l?l.name===y.mark.type.name:!0).filter(y=>Bu(y.mark.attrs,t,{strict:!1})).reduce((y,b)=>y+b.to-b.from,0),h=u.filter(y=>l?y.mark.type!==l&&y.mark.type.excludes(l):!0).reduce((y,b)=>y+b.to-b.from,0);return(d>0?d+h:d)>=c}function rz(n,e,t={}){if(!e)return Ti(n,null,t)||Om(n,null,t);const r=jf(e,n.schema);return r==="node"?Ti(n,e,t):r==="mark"?Om(n,e,t):!1}var iz=(n,e)=>{const{$from:t,$to:r,$anchor:s}=n.selection;if(e){const l=Bf(u=>u.type.name===e)(n.selection);if(!l)return!1;const c=n.doc.resolve(l.pos+1);return s.pos+1===c.end()}return!(r.parentOffset<r.parent.nodeSize-2||t.pos!==r.pos)},sz=n=>{const{$from:e,$to:t}=n.selection;return!(e.parentOffset>0||e.pos!==t.pos)};function tS(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function nS(n,e){const{nodeExtensions:t}=ka(e),r=t.find(c=>c.name===n);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},l=ze(oe(r,"group",s));return typeof l!="string"?!1:l.split(" ").includes("list")}function Uf(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!=null?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let s=!0;return n.content.forEach(l=>{s!==!1&&(Uf(l,{ignoreWhitespace:t,checkChildren:e})||(s=!1))}),s}return!1}function AT(n){return n instanceof ce}function az(n,e,t){var r;const{selection:s}=e;let l=null;if(pT(s)&&(l=s.$cursor),l){const u=(r=n.storedMarks)!=null?r:l.marks();return l.parent.type.allowsMarkType(t)&&(!!t.isInSet(u)||!u.some(h=>h.type.excludes(t)))}const{ranges:c}=s;return c.some(({$from:u,$to:d})=>{let h=u.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(u.pos,d.pos,(m,y,b)=>{if(h)return!1;if(m.isInline){const v=!b||b.type.allowsMarkType(t),S=!!t.isInSet(m.marks)||!m.marks.some(T=>T.type.excludes(t));h=v&&S}return!h}),h})}var lz=(n,e={})=>({tr:t,state:r,dispatch:s})=>{const{selection:l}=t,{empty:c,ranges:u}=l,d=wr(n,r.schema);if(s)if(c){const h=bT(r,d);t.addStoredMark(d.create({...h,...e}))}else u.forEach(h=>{const m=h.$from.pos,y=h.$to.pos;r.doc.nodesBetween(m,y,(b,v)=>{const S=Math.max(v,m),T=Math.min(v+b.nodeSize,y);b.marks.find(w=>w.type===d)?b.marks.forEach(w=>{d===w.type&&t.addMark(S,T,d.create({...w.attrs,...e}))}):t.addMark(S,T,d.create(e))})});return az(r,t,d)},oz=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),cz=(n,e={})=>({state:t,dispatch:r,chain:s})=>{const l=ut(n,t.schema);let c;return t.selection.$anchor.sameParent(t.selection.$head)&&(c=t.selection.$anchor.parent.attrs),l.isTextblock?s().command(({commands:u})=>gx(l,{...c,...e})(t)?!0:u.clearNodes()).command(({state:u})=>gx(l,{...c,...e})(u,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},uz=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,s=ts(n,0,r.content.size),l=ce.create(r,s);e.setSelection(l)}return!0},fz=(n,e)=>({tr:t,state:r,dispatch:s})=>{const{selection:l}=r;let c,u;return typeof e=="number"?(c=e,u=e):e&&"from"in e&&"to"in e?(c=e.from,u=e.to):(c=l.from,u=l.to),s&&t.doc.nodesBetween(c,u,(d,h)=>{d.isText||t.setNodeMarkup(h,void 0,{...d.attrs,dir:n})}),!0},dz=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:s,to:l}=typeof n=="number"?{from:n,to:n}:n,c=he.atStart(r).from,u=he.atEnd(r).to,d=ts(s,c,u),h=ts(l,c,u),m=he.create(r,d,h);e.setSelection(m)}return!0},hz=n=>({state:e,dispatch:t})=>{const r=ut(n,e.schema);return c3(r)(e,t)};function rS(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(s=>e?.includes(s.type.name));n.tr.ensureMarks(r)}}var pz=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:s})=>{const{selection:l,doc:c}=e,{$from:u,$to:d}=l,h=s.extensionManager.attributes,m=mu(h,u.node().type.name,u.node().attrs);if(l instanceof ce&&l.node.isBlock)return!u.parentOffset||!xr(c,u.pos)?!1:(r&&(n&&rS(t,s.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const y=d.parentOffset===d.parent.content.size,b=u.depth===0?void 0:qL(u.node(-1).contentMatchAt(u.indexAfter(-1)));let v=y&&b?[{type:b,attrs:m}]:void 0,S=xr(e.doc,e.mapping.map(u.pos),1,v);if(!v&&!S&&xr(e.doc,e.mapping.map(u.pos),1,b?[{type:b}]:void 0)&&(S=!0,v=b?[{type:b,attrs:m}]:void 0),r){if(S&&(l instanceof he&&e.deleteSelection(),e.split(e.mapping.map(u.pos),1,v),b&&!y&&!u.parentOffset&&u.parent.type!==b)){const T=e.mapping.map(u.before()),C=e.doc.resolve(T);u.node(-1).canReplaceWith(C.index(),C.index()+1,b)&&e.setNodeMarkup(e.mapping.map(u.before()),b)}n&&rS(t,s.extensionManager.splittableMarks),e.scrollIntoView()}return S},mz=(n,e={})=>({tr:t,state:r,dispatch:s,editor:l})=>{var c;const u=ut(n,r.schema),{$from:d,$to:h}=r.selection,m=r.selection.node;if(m&&m.isBlock||d.depth<2||!d.sameParent(h))return!1;const y=d.node(-1);if(y.type!==u)return!1;const b=l.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==u||d.index(-2)!==d.node(-2).childCount-1)return!1;if(s){let w=G.empty;const I=d.index(-1)?1:d.index(-2)?2:3;for(let ee=d.depth-I;ee>=d.depth-3;ee-=1)w=G.from(d.node(ee).copy(w));const B=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,F={...mu(b,d.node().type.name,d.node().attrs),...e},q=((c=u.contentMatch.defaultType)==null?void 0:c.createAndFill(F))||void 0;w=w.append(G.from(u.createAndFill(null,q)||void 0));const W=d.before(d.depth-(I-1));t.replace(W,d.after(-B),new Z(w,4-I,0));let P=-1;t.doc.nodesBetween(W,t.doc.content.size,(ee,ne)=>{if(P>-1)return!1;ee.isTextblock&&ee.content.size===0&&(P=ne+1)}),P>-1&&t.setSelection(he.near(t.doc.resolve(P))),t.scrollIntoView()}return!0}const v=h.pos===d.end()?y.contentMatchAt(0).defaultType:null,S={...mu(b,y.type.name,y.attrs),...e},T={...mu(b,d.node().type.name,d.node().attrs),...e};t.delete(d.pos,h.pos);const C=v?[{type:u,attrs:S},{type:v,attrs:T}]:[{type:u,attrs:S}];if(!xr(t.doc,d.pos,2))return!1;if(s){const{selection:w,storedMarks:I}=r,{splittableMarks:B}=l.extensionManager,F=I||w.$to.parentOffset&&w.$from.marks();if(t.split(d.pos,2,C).scrollIntoView(),!F||!s)return!0;const q=F.filter(W=>B.includes(W.type.name));t.ensureMarks(q)}return!0},Pp=(n,e)=>{const t=Bf(c=>c.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const s=n.doc.nodeAt(r);return t.node.type===s?.type&&Ni(n.doc,t.pos)&&n.join(t.pos),!0},Hp=(n,e)=>{const t=Bf(c=>c.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const s=n.doc.nodeAt(r);return t.node.type===s?.type&&Ni(n.doc,r)&&n.join(r),!0},gz=(n,e,t,r={})=>({editor:s,tr:l,state:c,dispatch:u,chain:d,commands:h,can:m})=>{const{extensions:y,splittableMarks:b}=s.extensionManager,v=ut(n,c.schema),S=ut(e,c.schema),{selection:T,storedMarks:C}=c,{$from:w,$to:I}=T,B=w.blockRange(I),F=C||T.$to.parentOffset&&T.$from.marks();if(!B)return!1;const q=Bf(W=>nS(W.type.name,y))(T);if(B.depth>=1&&q&&B.depth-q.depth<=1){if(q.node.type===v)return h.liftListItem(S);if(nS(q.node.type.name,y)&&v.validContent(q.node.content)&&u)return d().command(()=>(l.setNodeMarkup(q.pos,v),!0)).command(()=>Pp(l,v)).command(()=>Hp(l,v)).run()}return!t||!F||!u?d().command(()=>m().wrapInList(v,r)?!0:h.clearNodes()).wrapInList(v,r).command(()=>Pp(l,v)).command(()=>Hp(l,v)).run():d().command(()=>{const W=m().wrapInList(v,r),P=F.filter(ee=>b.includes(ee.type.name));return l.ensureMarks(P),W?!0:h.clearNodes()}).wrapInList(v,r).command(()=>Pp(l,v)).command(()=>Hp(l,v)).run()},yz=(n,e={},t={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:l=!1}=t,c=wr(n,r.schema);return Om(r,c,e)?s.unsetMark(c,{extendEmptyMarkRange:l}):s.setMark(c,e)},bz=(n,e,t={})=>({state:r,commands:s})=>{const l=ut(n,r.schema),c=ut(e,r.schema),u=Ti(r,l,t);let d;return r.selection.$anchor.sameParent(r.selection.$head)&&(d=r.selection.$anchor.parent.attrs),u?s.setNode(c,d):s.setNode(l,{...d,...t})},vz=(n,e={})=>({state:t,commands:r})=>{const s=ut(n,t.schema);return Ti(t,s,e)?r.lift(s):r.wrapIn(s,e)},xz=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const s=t[r];let l;if(s.spec.isInputRules&&(l=s.getState(n))){if(e){const c=n.tr,u=l.transform;for(let d=u.steps.length-1;d>=0;d-=1)c.step(u.steps[d].invert(u.docs[d]));if(l.text){const d=c.doc.resolve(l.from).marks();c.replaceWith(l.from,l.to,n.schema.text(l.text,d))}else c.delete(l.from,l.to)}return!0}}return!1},Sz=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:s}=t;return r||e&&s.forEach(l=>{n.removeMark(l.$from.pos,l.$to.pos)}),!0},Ez=(n,e={})=>({tr:t,state:r,dispatch:s})=>{var l;const{extendEmptyMarkRange:c=!1}=e,{selection:u}=t,d=wr(n,r.schema),{$from:h,empty:m,ranges:y}=u;if(!s)return!0;if(m&&c){let{from:b,to:v}=u;const S=(l=h.marks().find(C=>C.type===d))==null?void 0:l.attrs,T=Og(h,d,S);T&&(b=T.from,v=T.to),t.removeMark(b,v,d)}else y.forEach(b=>{t.removeMark(b.$from.pos,b.$to.pos,d)});return t.removeStoredMark(d),!0},kz=n=>({tr:e,state:t,dispatch:r})=>{const{selection:s}=t;let l,c;return typeof n=="number"?(l=n,c=n):n&&"from"in n&&"to"in n?(l=n.from,c=n.to):(l=s.from,c=s.to),r&&e.doc.nodesBetween(l,c,(u,d)=>{if(u.isText)return;const h={...u.attrs};delete h.dir,e.setNodeMarkup(d,void 0,h)}),!0},Tz=(n,e={})=>({tr:t,state:r,dispatch:s})=>{let l=null,c=null;const u=jf(typeof n=="string"?n:n.name,r.schema);if(!u)return!1;u==="node"&&(l=ut(n,r.schema)),u==="mark"&&(c=wr(n,r.schema));let d=!1;return t.selection.ranges.forEach(h=>{const m=h.$from.pos,y=h.$to.pos;let b,v,S,T;t.selection.empty?r.doc.nodesBetween(m,y,(C,w)=>{l&&l===C.type&&(d=!0,S=Math.max(w,m),T=Math.min(w+C.nodeSize,y),b=w,v=C)}):r.doc.nodesBetween(m,y,(C,w)=>{w<m&&l&&l===C.type&&(d=!0,S=Math.max(w,m),T=Math.min(w+C.nodeSize,y),b=w,v=C),w>=m&&w<=y&&(l&&l===C.type&&(d=!0,s&&t.setNodeMarkup(w,void 0,{...C.attrs,...e})),c&&C.marks.length&&C.marks.forEach(I=>{if(c===I.type&&(d=!0,s)){const B=Math.max(w,m),F=Math.min(w+C.nodeSize,y);t.addMark(B,F,c.create({...I.attrs,...e}))}}))}),v&&(b!==void 0&&s&&t.setNodeMarkup(b,void 0,{...v.attrs,...e}),c&&v.marks.length&&v.marks.forEach(C=>{c===C.type&&s&&t.addMark(S,T,c.create({...C.attrs,...e}))}))}),d},Cz=(n,e={})=>({state:t,dispatch:r})=>{const s=ut(n,t.schema);return n3(s,e)(t,r)},wz=(n,e={})=>({state:t,dispatch:r})=>{const s=ut(n,t.schema);return r3(s,e)(t,r)},Az=class{constructor(){this.callbacks={}}on(n,e){return this.callbacks[n]||(this.callbacks[n]=[]),this.callbacks[n].push(e),this}emit(n,...e){const t=this.callbacks[n];return t&&t.forEach(r=>r.apply(this,e)),this}off(n,e){const t=this.callbacks[n];return t&&(e?this.callbacks[n]=t.filter(r=>r!==e):delete this.callbacks[n]),this}once(n,e){const t=(...r)=>{this.off(n,t),e.apply(this,r)};return this.on(n,t)}removeAllListeners(){this.callbacks={}}},Pf=class{constructor(n){var e;this.find=n.find,this.handler=n.handler,this.undoable=(e=n.undoable)!=null?e:!0}},Nz=(n,e)=>{if(Mg(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function Qc(n){var e;const{editor:t,from:r,to:s,text:l,rules:c,plugin:u}=n,{view:d}=t;if(d.composing)return!1;const h=d.state.doc.resolve(r);if(h.parent.type.spec.code||(e=h.nodeBefore||h.nodeAfter)!=null&&e.marks.find(b=>b.type.spec.code))return!1;let m=!1;const y=nz(h)+l;return c.forEach(b=>{if(m)return;const v=Nz(y,b.find);if(!v)return;const S=d.state.tr,T=Lf({state:d.state,transaction:S}),C={from:r-(v[0].length-l.length),to:s},{commands:w,chain:I,can:B}=new zf({editor:t,state:T});b.handler({state:T,range:C,match:v,commands:w,chain:I,can:B})===null||!S.steps.length||(b.undoable&&S.setMeta(u,{transform:S,from:r,to:s,text:l}),d.dispatch(S),m=!0)}),m}function Mz(n){const{editor:e,rules:t}=n,r=new Je({state:{init(){return null},apply(s,l,c){const u=s.getMeta(r);if(u)return u;const d=s.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:m}=d;typeof m=="string"?m=m:m=_g(G.from(m),c.schema);const{from:y}=d,b=y+m.length;Qc({editor:e,from:y,to:b,text:m,rules:t,plugin:r})}),s.selectionSet||s.docChanged?null:l}},props:{handleTextInput(s,l,c,u){return Qc({editor:e,from:l,to:c,text:u,rules:t,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:l}=s.state.selection;l&&Qc({editor:e,from:l.pos,to:l.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(s,l){if(l.key!=="Enter")return!1;const{$cursor:c}=s.state.selection;return c?Qc({editor:e,from:c.pos,to:c.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function Oz(n){return Object.prototype.toString.call(n).slice(8,-1)}function Zc(n){return Oz(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function NT(n,e){const t={...n};return Zc(n)&&Zc(e)&&Object.keys(e).forEach(r=>{Zc(e[r])&&Zc(n[r])?t[r]=NT(n[r],e[r]):t[r]=e[r]}),t}var zg=class{constructor(n={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...n},this.name=this.config.name}get options(){return{...ze(oe(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...ze(oe(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(n={}){const e=this.extend({...this.config,addOptions:()=>NT(this.options,n)});return e.name=this.name,e.parent=this.parent,e}extend(n={}){const e=new this.constructor({...this.config,...n});return e.parent=this,this.child=e,e.name="name"in n?n.name:e.parent.name,e}},Oi=class MT extends zg{constructor(){super(...arguments),this.type="mark"}static create(e={}){const t=typeof e=="function"?e():e;return new MT(t)}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const c=s.marks();if(!!!c.find(h=>h?.type.name===t.name))return!1;const d=c.find(h=>h?.type.name===t.name);return d&&r.removeStoredMark(d),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}};function Rz(n){return typeof n=="number"}var Dz=class{constructor(n){this.find=n.find,this.handler=n.handler}},_z=(n,e,t)=>{if(Mg(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(s=>{const l=[s.text];return l.index=s.index,l.input=n,l.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),l.push(s.replaceWith)),l}):[]};function Iz(n){const{editor:e,state:t,from:r,to:s,rule:l,pasteEvent:c,dropEvent:u}=n,{commands:d,chain:h,can:m}=new zf({editor:e,state:t}),y=[];return t.doc.nodesBetween(r,s,(v,S)=>{var T,C,w,I,B;if((C=(T=v.type)==null?void 0:T.spec)!=null&&C.code||!(v.isText||v.isTextblock||v.isInline))return;const F=(B=(I=(w=v.content)==null?void 0:w.size)!=null?I:v.nodeSize)!=null?B:0,q=Math.max(r,S),W=Math.min(s,S+F);if(q>=W)return;const P=v.isText?v.text||"":v.textBetween(q-S,W-S,void 0,"");_z(P,l.find,c).forEach(ne=>{if(ne.index===void 0)return;const de=q+ne.index+1,Oe=de+ne[0].length,Q={from:t.tr.mapping.map(de),to:t.tr.mapping.map(Oe)},xe=l.handler({state:t,range:Q,match:ne,commands:d,chain:h,can:m,pasteEvent:c,dropEvent:u});y.push(xe)})}),y.every(v=>v!==null)}var eu=null,Lz=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)==null||e.setData("text/html",n),t};function zz(n){const{editor:e,rules:t}=n;let r=null,s=!1,l=!1,c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u;try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}const d=({state:m,from:y,to:b,rule:v,pasteEvt:S})=>{const T=m.tr,C=Lf({state:m,transaction:T});if(!(!Iz({editor:e,state:C,from:Math.max(y-1,0),to:b.b-1,rule:v,pasteEvent:S,dropEvent:u})||!T.steps.length)){try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}return c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,T}};return t.map(m=>new Je({view(y){const b=S=>{var T;r=(T=y.dom.parentElement)!=null&&T.contains(S.target)?y.dom.parentElement:null,r&&(eu=e)},v=()=>{eu&&(eu=null)};return window.addEventListener("dragstart",b),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",b),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:(y,b)=>{if(l=r===y.dom.parentElement,u=b,!l){const v=eu;v?.isEditable&&setTimeout(()=>{const S=v.state.selection;S&&v.commands.deleteRange({from:S.from,to:S.to})},10)}return!1},paste:(y,b)=>{var v;const S=(v=b.clipboardData)==null?void 0:v.getData("text/html");return c=b,s=!!S?.includes("data-pm-slice"),!1}}},appendTransaction:(y,b,v)=>{const S=y[0],T=S.getMeta("uiEvent")==="paste"&&!s,C=S.getMeta("uiEvent")==="drop"&&!l,w=S.getMeta("applyPasteRules"),I=!!w;if(!T&&!C&&!I)return;if(I){let{text:q}=w;typeof q=="string"?q=q:q=_g(G.from(q),v.schema);const{from:W}=w,P=W+q.length,ee=Lz(q);return d({rule:m,state:v,from:W,to:{b:P},pasteEvt:ee})}const B=b.doc.content.findDiffStart(v.doc.content),F=b.doc.content.findDiffEnd(v.doc.content);if(!(!Rz(B)||!F||B===F.b))return d({rule:m,state:v,from:B,to:F,pasteEvt:c})}}))}var Hf=class{constructor(n,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=n,this.extensions=ET(n),this.schema=WL(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((n,e)=>{const t={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Up(e.name,this.schema)},r=oe(e,"addCommands",t);return r?{...n,...r()}:n},{})}get plugins(){const{editor:n}=this;return Ig([...this.extensions].reverse()).flatMap(r=>{const s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:n,type:Up(r.name,this.schema)},l=[],c=oe(r,"addKeyboardShortcuts",s);let u={};if(r.type==="mark"&&oe(r,"exitable",s)&&(u.ArrowRight=()=>Oi.handleExit({editor:n,mark:r})),c){const b=Object.fromEntries(Object.entries(c()).map(([v,S])=>[v,()=>S({editor:n})]));u={...u,...b}}const d=QI(u);l.push(d);const h=oe(r,"addInputRules",s);if(tS(r,n.options.enableInputRules)&&h){const b=h();if(b&&b.length){const v=Mz({editor:n,rules:b}),S=Array.isArray(v)?v:[v];l.push(...S)}}const m=oe(r,"addPasteRules",s);if(tS(r,n.options.enablePasteRules)&&m){const b=m();if(b&&b.length){const v=zz({editor:n,rules:b});l.push(...v)}}const y=oe(r,"addProseMirrorPlugins",s);if(y){const b=y();l.push(...b)}return l})}get attributes(){return ST(this.extensions)}get nodeViews(){const{editor:n}=this,{nodeExtensions:e}=ka(this.extensions);return Object.fromEntries(e.filter(t=>!!oe(t,"addNodeView")).map(t=>{const r=this.attributes.filter(d=>d.type===t.name),s={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:n,type:ut(t.name,this.schema)},l=oe(t,"addNodeView",s);if(!l)return[];const c=l();if(!c)return[];const u=(d,h,m,y,b)=>{const v=Uu(d,r);return c({node:d,view:h,getPos:m,decorations:y,innerDecorations:b,editor:n,extension:t,HTMLAttributes:v})};return[t.name,u]}))}get markViews(){const{editor:n}=this,{markExtensions:e}=ka(this.extensions);return Object.fromEntries(e.filter(t=>!!oe(t,"addMarkView")).map(t=>{const r=this.attributes.filter(u=>u.type===t.name),s={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:n,type:wr(t.name,this.schema)},l=oe(t,"addMarkView",s);if(!l)return[];const c=(u,d,h)=>{const m=Uu(u,r);return l()({mark:u,view:d,inline:h,editor:n,extension:t,HTMLAttributes:m,updateAttributes:y=>{Jz(u,n,y)}})};return[t.name,c]}))}setupExtensions(){const n=this.extensions;this.editor.extensionStorage=Object.fromEntries(n.map(e=>[e.name,e.storage])),n.forEach(e=>{var t;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Up(e.name,this.schema)};e.type==="mark"&&((t=ze(oe(e,"keepOnSplit",r)))==null||t)&&this.splittableMarks.push(e.name);const s=oe(e,"onBeforeCreate",r),l=oe(e,"onCreate",r),c=oe(e,"onUpdate",r),u=oe(e,"onSelectionUpdate",r),d=oe(e,"onTransaction",r),h=oe(e,"onFocus",r),m=oe(e,"onBlur",r),y=oe(e,"onDestroy",r);s&&this.editor.on("beforeCreate",s),l&&this.editor.on("create",l),c&&this.editor.on("update",c),u&&this.editor.on("selectionUpdate",u),d&&this.editor.on("transaction",d),h&&this.editor.on("focus",h),m&&this.editor.on("blur",m),y&&this.editor.on("destroy",y)})}};Hf.resolve=ET;Hf.sort=Ig;Hf.flatten=Dg;var jz={};Ng(jz,{ClipboardTextSerializer:()=>RT,Commands:()=>DT,Delete:()=>_T,Drop:()=>IT,Editable:()=>LT,FocusEvents:()=>jT,Keymap:()=>BT,Paste:()=>UT,Tabindex:()=>PT,TextDirection:()=>HT,focusEventsPluginKey:()=>zT});var Pe=class OT extends zg{constructor(){super(...arguments),this.type="extension"}static create(e={}){const t=typeof e=="function"?e():e;return new OT(t)}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}},RT=Pe.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Je({key:new dt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:s}=e,{ranges:l}=s,c=Math.min(...l.map(m=>m.$from.pos)),u=Math.max(...l.map(m=>m.$to.pos)),d=TT(t);return kT(r,{from:c,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),DT=Pe.create({name:"commands",addCommands(){return{...dT}}}),_T=Pe.create({name:"delete",onUpdate({transaction:n,appendedTransactions:e}){var t,r,s;const l=()=>{var c,u,d,h;if((h=(d=(u=(c=this.editor.options.coreExtensionOptions)==null?void 0:c.delete)==null?void 0:u.filterTransaction)==null?void 0:d.call(u,n))!=null?h:n.getMeta("y-sync$"))return;const m=vT(n.before,[n,...e]);wT(m).forEach(v=>{m.mapping.mapResult(v.oldRange.from).deletedAfter&&m.mapping.mapResult(v.oldRange.to).deletedBefore&&m.before.nodesBetween(v.oldRange.from,v.oldRange.to,(S,T)=>{const C=T+S.nodeSize-2,w=v.oldRange.from<=T&&C<=v.oldRange.to;this.editor.emit("delete",{type:"node",node:S,from:T,to:C,newFrom:m.mapping.map(T),newTo:m.mapping.map(C),deletedRange:v.oldRange,newRange:v.newRange,partial:!w,editor:this.editor,transaction:n,combinedTransform:m})})});const b=m.mapping;m.steps.forEach((v,S)=>{var T,C;if(v instanceof Nn){const w=b.slice(S).map(v.from,-1),I=b.slice(S).map(v.to),B=b.invert().map(w,-1),F=b.invert().map(I),q=(T=m.doc.nodeAt(w-1))==null?void 0:T.marks.some(P=>P.eq(v.mark)),W=(C=m.doc.nodeAt(I))==null?void 0:C.marks.some(P=>P.eq(v.mark));this.editor.emit("delete",{type:"mark",mark:v.mark,from:v.from,to:v.to,deletedRange:{from:B,to:F},newRange:{from:w,to:I},partial:!!(W||q),editor:this.editor,transaction:n,combinedTransform:m})}})};(s=(r=(t=this.editor.options.coreExtensionOptions)==null?void 0:t.delete)==null?void 0:r.async)==null||s?setTimeout(l,0):l()}}),IT=Pe.create({name:"drop",addProseMirrorPlugins(){return[new Je({key:new dt("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),LT=Pe.create({name:"editable",addProseMirrorPlugins(){return[new Je({key:new dt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),zT=new dt("focusEvents"),jT=Pe.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new Je({key:zT,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),BT=Pe.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:c})=>[()=>c.undoInputRule(),()=>c.command(({tr:u})=>{const{selection:d,doc:h}=u,{empty:m,$anchor:y}=d,{pos:b,parent:v}=y,S=y.parent.isTextblock&&b>0?u.doc.resolve(b-1):y,T=S.parent.type.spec.isolating,C=y.pos-y.parentOffset,w=T&&S.parent.childCount===1?C===y.pos:ve.atStart(h).from===b;return!m||!v.type.isTextblock||v.textContent.length||!w||w&&y.parent.type.name==="paragraph"?!1:c.clearNodes()}),()=>c.deleteSelection(),()=>c.joinBackward(),()=>c.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:c})=>[()=>c.deleteSelection(),()=>c.deleteCurrentNode(),()=>c.joinForward(),()=>c.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:c})=>[()=>c.newlineInCode(),()=>c.createParagraphNear(),()=>c.liftEmptyBlock(),()=>c.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},l={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Rg()||yT()?l:s},addProseMirrorPlugins(){return[new Je({key:new dt("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(T=>T.getMeta("composition")))return;const r=n.some(T=>T.docChanged)&&!e.doc.eq(t.doc),s=n.some(T=>T.getMeta("preventClearDocument"));if(!r||s)return;const{empty:l,from:c,to:u}=e.selection,d=ve.atStart(e.doc).from,h=ve.atEnd(e.doc).to;if(l||!(c===d&&u===h)||!Uf(t.doc))return;const b=t.tr,v=Lf({state:t,transaction:b}),{commands:S}=new zf({editor:this.editor,state:v});if(S.clearNodes(),!!b.steps.length)return b}})]}}),UT=Pe.create({name:"paste",addProseMirrorPlugins(){return[new Je({key:new dt("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),PT=Pe.create({name:"tabindex",addProseMirrorPlugins(){return[new Je({key:new dt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),HT=Pe.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:n}=ka(this.extensions);return[{types:n.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const t=e.getAttribute("dir");return t&&(t==="ltr"||t==="rtl"||t==="auto")?t:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new Je({key:new dt("textDirection"),props:{attributes:()=>{const n=this.options.direction;return n?{dir:n}:{}}}})]}}),Bz=class aa{constructor(e,t,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new aa(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new aa(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new aa(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const s=t.isBlock&&!t.isTextblock,l=t.isAtom&&!t.isText,c=this.pos+r+(l?0:1);if(c<0||c>this.resolvedPos.doc.nodeSize-2)return;const u=this.resolvedPos.doc.resolve(c);if(!s&&u.depth<=this.depth)return;const d=new aa(u,this.editor,s,s?t:null);s&&(d.actualDepth=this.depth+1),e.push(new aa(u,this.editor,s,s?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===e)if(Object.keys(t).length>0){const l=s.node.attrs,c=Object.keys(t);for(let u=0;u<c.length;u+=1){const d=c[u];if(l[d]!==t[d])break}}else r=s;s=s.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const l=Object.keys(t);return this.children.forEach(c=>{r&&s.length>0||(c.node.type.name===e&&l.every(d=>t[d]===c.node.attrs[d])&&s.push(c),!(r&&s.length>0)&&(s=s.concat(c.querySelectorAll(e,t,r))))}),s}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}},Uz=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function Pz(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(s),s}var Hz=class extends Az{constructor(n={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(n),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:s,moved:l})=>this.options.onDrop(r,s,l)),this.on("paste",({event:r,slice:s})=>this.options.onPaste(r,s)),this.on("delete",this.options.onDelete);const e=this.createDoc(),t=mT(e,this.options.autofocus);this.editorState=ca.create({doc:e,schema:this.schema,selection:t||void 0}),this.options.element&&this.mount(this.options.element)}mount(n){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(n),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const n=this.editorView.dom;n?.editor&&delete n.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(n){console.warn("Failed to remove CSS element:",n)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=Pz(Uz,this.options.injectNonce))}setOptions(n={}){this.options={...this.options,...n},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(n,e=!0){this.setOptions({editable:n}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:n=>{this.editorState=n},dispatch:n=>{this.dispatchTransaction(n)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(n,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in n)return Reflect.get(n,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(n,e){const t=xT(e)?e(n,[...this.state.plugins]):[...this.state.plugins,n],r=this.state.reconfigure({plugins:t});return this.view.updateState(r),r}unregisterPlugin(n){if(this.isDestroyed)return;const e=this.state.plugins;let t=e;if([].concat(n).forEach(s=>{const l=typeof s=="string"?`${s}$`:s.key;t=t.filter(c=>!c.key.startsWith(l))}),e.length===t.length)return;const r=this.state.reconfigure({plugins:t});return this.view.updateState(r),r}createExtensionManager(){var n,e;const r=[...this.options.enableCoreExtensions?[LT,RT.configure({blockSeparator:(e=(n=this.options.coreExtensionOptions)==null?void 0:n.clipboardTextSerializer)==null?void 0:e.blockSeparator}),DT,jT,BT,PT,IT,UT,_T,HT.configure({direction:this.options.textDirection})].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s?.type));this.extensionManager=new Hf(r,this)}createCommandManager(){this.commandManager=new zf({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let n;try{n=Mm(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(t=>t.name!=="collaboration"),this.createExtensionManager()}}),n=Mm(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return n}createView(n){var e;this.editorView=new uT(n,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const t=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(t),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(n){this.isCapturingTransaction=!0,n(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(n){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=n;return}n.steps.forEach(h=>{var m;return(m=this.capturedTransaction)==null?void 0:m.step(h)});return}const{state:e,transactions:t}=this.state.applyTransaction(n),r=!this.state.selection.eq(e.selection),s=t.includes(n),l=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:n,nextState:e}),!s)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:n,appendedTransactions:t.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:n});const c=t.findLast(h=>h.getMeta("focus")||h.getMeta("blur")),u=c?.getMeta("focus"),d=c?.getMeta("blur");u&&this.emit("focus",{editor:this,event:u.event,transaction:c}),d&&this.emit("blur",{editor:this,event:d.event,transaction:c}),!(n.getMeta("preventUpdate")||!t.some(h=>h.docChanged)||l.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:n,appendedTransactions:t.slice(1)})}getAttributes(n){return CT(this.state,n)}isActive(n,e){const t=typeof n=="string"?n:null,r=typeof n=="string"?e:n;return rz(this.state,t,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return _g(this.state.doc.content,this.schema)}getText(n){const{blockSeparator:e=`

`,textSerializers:t={}}=n||{};return XL(this.state.doc,{blockSeparator:e,textSerializers:{...TT(this.schema),...t}})}get isEmpty(){return Uf(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var n,e;return(e=(n=this.editorView)==null?void 0:n.isDestroyed)!=null?e:!0}$node(n,e){var t;return((t=this.$doc)==null?void 0:t.querySelector(n,e))||null}$nodes(n,e){var t;return((t=this.$doc)==null?void 0:t.querySelectorAll(n,e))||null}$pos(n){const e=this.state.doc.resolve(n);return new Bz(e,this)}get $doc(){return this.$pos(0)}};function Ta(n){return new Pf({find:n.find,handler:({state:e,range:t,match:r})=>{const s=ze(n.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:l}=e,c=r[r.length-1],u=r[0];if(c){const d=u.search(/\S/),h=t.from+u.indexOf(c),m=h+c.length;if(Lg(t.from,t.to,e.doc).filter(v=>v.mark.type.excluded.find(T=>T===n.type&&T!==v.mark.type)).filter(v=>v.to>h).length)return null;m<t.to&&l.delete(m,t.to),h>t.from&&l.delete(t.from+d,h);const b=t.from+d+c.length;l.addMark(t.from+d,b,n.type.create(s||{})),l.removeStoredMark(n.type)}},undoable:n.undoable})}function Vz(n){return new Pf({find:n.find,handler:({state:e,range:t,match:r})=>{const s=ze(n.getAttributes,void 0,r)||{},{tr:l}=e,c=t.from;let u=t.to;const d=n.type.create(s);if(r[1]){const h=r[0].lastIndexOf(r[1]);let m=c+h;m>u?m=u:u=m+r[1].length;const y=r[0][r[0].length-1];l.insertText(y,c+r[0].length-1),l.replaceWith(m,u,d)}else if(r[0]){const h=n.type.isInline?c:c-1;l.insert(h,n.type.create(s)).delete(l.mapping.map(c),l.mapping.map(u))}l.scrollIntoView()},undoable:n.undoable})}function Rm(n){return new Pf({find:n.find,handler:({state:e,range:t,match:r})=>{const s=e.doc.resolve(t.from),l=ze(n.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,l)},undoable:n.undoable})}function Ca(n){return new Pf({find:n.find,handler:({state:e,range:t,match:r,chain:s})=>{const l=ze(n.getAttributes,void 0,r)||{},c=e.tr.delete(t.from,t.to),d=c.doc.resolve(t.from).blockRange(),h=d&&dg(d,n.type,l);if(!h)return null;if(c.wrap(d,h),n.keepMarks&&n.editor){const{selection:y,storedMarks:b}=e,{splittableMarks:v}=n.editor.extensionManager,S=b||y.$to.parentOffset&&y.$from.marks();if(S){const T=S.filter(C=>v.includes(C.type.name));c.ensureMarks(T)}}if(n.keepAttributes){const y=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(y,l).run()}const m=c.doc.resolve(t.from-1).nodeBefore;m&&m.type===n.type&&Ni(c.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,m))&&c.join(t.from-1)},undoable:n.undoable})}function $z(n,e){const{selection:t}=n,{$from:r}=t;if(t instanceof ce){const l=r.index();return r.parent.canReplaceWith(l,l+1,e)}let s=r.depth;for(;s>=0;){const l=r.index(s);if(r.node(s).contentMatchAt(l).matchType(e))return!0;s-=1}return!1}var qz={};Ng(qz,{createAtomBlockMarkdownSpec:()=>Fz,createBlockMarkdownSpec:()=>Kz,createInlineMarkdownSpec:()=>Wz,parseAttributes:()=>jg,parseIndentedBlocks:()=>Dm,renderNestedMarkdownContent:()=>Ug,serializeAttributes:()=>Bg});function jg(n){if(!n?.trim())return{};const e={},t=[],r=n.replace(/["']([^"']*)["']/g,h=>(t.push(h),`__QUOTED_${t.length-1}__`)),s=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(s){const h=s.map(m=>m.trim().slice(1));e.class=h.join(" ")}const l=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);l&&(e.id=l[1]);const c=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(c)).forEach(([,h,m])=>{var y;const b=parseInt(((y=m.match(/__QUOTED_(\d+)__/))==null?void 0:y[1])||"0",10),v=t[b];v&&(e[h]=v.slice(1,-1))});const d=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return d&&d.split(/\s+/).filter(Boolean).forEach(m=>{m.match(/^[a-zA-Z][\w-]*$/)&&(e[m]=!0)}),e}function Bg(n){if(!n||Object.keys(n).length===0)return"";const e=[];return n.class&&String(n.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),n.id&&e.push(`#${n.id}`),Object.entries(n).forEach(([t,r])=>{t==="class"||t==="id"||(r===!0?e.push(t):r!==!1&&r!=null&&e.push(`${t}="${String(r)}"`))}),e.join(" ")}function Fz(n){const{nodeName:e,name:t,parseAttributes:r=jg,serializeAttributes:s=Bg,defaultAttributes:l={},requiredAttributes:c=[],allowedAttributes:u}=n,d=t||e,h=m=>{if(!u)return m;const y={};return u.forEach(b=>{b in m&&(y[b]=m[b])}),y};return{parseMarkdown:(m,y)=>{const b={...l,...m.attributes};return y.createNode(e,b,[])},markdownTokenizer:{name:e,level:"block",start(m){var y;const b=new RegExp(`^:::${d}(?:\\s|$)`,"m"),v=(y=m.match(b))==null?void 0:y.index;return v!==void 0?v:-1},tokenize(m,y,b){const v=new RegExp(`^:::${d}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),S=m.match(v);if(!S)return;const T=S[1]||"",C=r(T);if(!c.find(I=>!(I in C)))return{type:e,raw:S[0],attributes:C}}},renderMarkdown:m=>{const y=h(m.attrs||{}),b=s(y),v=b?` {${b}}`:"";return`:::${d}${v} :::`}}}function Kz(n){const{nodeName:e,name:t,getContent:r,parseAttributes:s=jg,serializeAttributes:l=Bg,defaultAttributes:c={},content:u="block",allowedAttributes:d}=n,h=t||e,m=y=>{if(!d)return y;const b={};return d.forEach(v=>{v in y&&(b[v]=y[v])}),b};return{parseMarkdown:(y,b)=>{let v;if(r){const T=r(y);v=typeof T=="string"?[{type:"text",text:T}]:T}else u==="block"?v=b.parseChildren(y.tokens||[]):v=b.parseInline(y.tokens||[]);const S={...c,...y.attributes};return b.createNode(e,S,v)},markdownTokenizer:{name:e,level:"block",start(y){var b;const v=new RegExp(`^:::${h}`,"m"),S=(b=y.match(v))==null?void 0:b.index;return S!==void 0?S:-1},tokenize(y,b,v){var S;const T=new RegExp(`^:::${h}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),C=y.match(T);if(!C)return;const[w,I=""]=C,B=s(I);let F=1;const q=w.length;let W="";const P=/^:::([\w-]*)(\s.*)?/gm,ee=y.slice(q);for(P.lastIndex=0;;){const ne=P.exec(ee);if(ne===null)break;const de=ne.index,Oe=ne[1];if(!((S=ne[2])!=null&&S.endsWith(":::"))){if(Oe)F+=1;else if(F-=1,F===0){const Q=ee.slice(0,de);W=Q.trim();const xe=y.slice(0,q+de+ne[0].length);let _e=[];if(W)if(u==="block")for(_e=v.blockTokens(Q),_e.forEach(Se=>{Se.text&&(!Se.tokens||Se.tokens.length===0)&&(Se.tokens=v.inlineTokens(Se.text))});_e.length>0;){const Se=_e[_e.length-1];if(Se.type==="paragraph"&&(!Se.text||Se.text.trim()===""))_e.pop();else break}else _e=v.inlineTokens(W);return{type:e,raw:xe,attributes:B,content:W,tokens:_e}}}}}},renderMarkdown:(y,b)=>{const v=m(y.attrs||{}),S=l(v),T=S?` {${S}}`:"",C=b.renderChildren(y.content||[],`

`);return`:::${h}${T}

${C}

:::`}}}function Gz(n){if(!n.trim())return{};const e={},t=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=t.exec(n);for(;r!==null;){const[,s,l,c]=r;e[s]=l||c,r=t.exec(n)}return e}function Yz(n){return Object.entries(n).filter(([,e])=>e!=null).map(([e,t])=>`${e}="${t}"`).join(" ")}function Wz(n){const{nodeName:e,name:t,getContent:r,parseAttributes:s=Gz,serializeAttributes:l=Yz,defaultAttributes:c={},selfClosing:u=!1,allowedAttributes:d}=n,h=t||e,m=b=>{if(!d)return b;const v={};return d.forEach(S=>{S in b&&(v[S]=b[S])}),v},y=h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(b,v)=>{const S={...c,...b.attributes};if(u)return v.createNode(e,S);const T=r?r(b):b.content||"";return T?v.createNode(e,S,[v.createTextNode(T)]):v.createNode(e,S,[])},markdownTokenizer:{name:e,level:"inline",start(b){const v=u?new RegExp(`\\[${y}\\s*[^\\]]*\\]`):new RegExp(`\\[${y}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${y}\\]`),S=b.match(v),T=S?.index;return T!==void 0?T:-1},tokenize(b,v,S){const T=u?new RegExp(`^\\[${y}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${y}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${y}\\]`),C=b.match(T);if(!C)return;let w="",I="";if(u){const[,F]=C;I=F}else{const[,F,q]=C;I=F,w=q||""}const B=s(I.trim());return{type:e,raw:C[0],content:w.trim(),attributes:B}}},renderMarkdown:b=>{let v="";r?v=r(b):b.content&&b.content.length>0&&(v=b.content.filter(w=>w.type==="text").map(w=>w.text).join(""));const S=m(b.attrs||{}),T=l(S),C=T?` ${T}`:"";return u?`[${h}${C}]`:`[${h}${C}]${v}[/${h}]`}}}function Dm(n,e,t){var r,s,l,c;const u=n.split(`
`),d=[];let h="",m=0;const y=e.baseIndentSize||2;for(;m<u.length;){const b=u[m],v=b.match(e.itemPattern);if(!v){if(d.length>0)break;if(b.trim()===""){m+=1,h=`${h}${b}
`;continue}else return}const S=e.extractItemData(v),{indentLevel:T,mainContent:C}=S;h=`${h}${b}
`;const w=[C];for(m+=1;m<u.length;){const q=u[m];if(q.trim()===""){const P=u.slice(m+1).findIndex(de=>de.trim()!=="");if(P===-1)break;if((((s=(r=u[m+1+P].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:s.length)||0)>T){w.push(q),h=`${h}${q}
`,m+=1;continue}else break}if((((c=(l=q.match(/^(\s*)/))==null?void 0:l[1])==null?void 0:c.length)||0)>T)w.push(q),h=`${h}${q}
`,m+=1;else break}let I;const B=w.slice(1);if(B.length>0){const q=B.map(W=>W.slice(T+y)).join(`
`);q.trim()&&(e.customNestedParser?I=e.customNestedParser(q):I=t.blockTokens(q))}const F=e.createToken(S,I);d.push(F)}if(d.length!==0)return{items:d,raw:h}}function Ug(n,e,t,r){if(!n||!Array.isArray(n.content))return"";const s=typeof t=="function"?t(r):t,[l,...c]=n.content,u=e.renderChildren([l]),d=[`${s}${u}`];return c&&c.length>0&&c.forEach(h=>{const m=e.renderChildren([h]);if(m){const y=m.split(`
`).map(b=>b?e.indent(b):"").join(`
`);d.push(y)}}),d.join(`
`)}function Jz(n,e,t={}){const{state:r}=e,{doc:s,tr:l}=r,c=n;s.descendants((u,d)=>{const h=l.mapping.map(d),m=l.mapping.map(d)+u.nodeSize;let y=null;if(u.marks.forEach(v=>{if(v!==c)return!1;y=v}),!y)return;let b=!1;if(Object.keys(t).forEach(v=>{t[v]!==y.attrs[v]&&(b=!0)}),b){const v=n.type.create({...n.attrs,...t});l.removeMark(h,m,n.type),l.addMark(h,m,v)}}),l.docChanged&&e.view.dispatch(l)}var an=class VT extends zg{constructor(){super(...arguments),this.type="node"}static create(e={}){const t=typeof e=="function"?e():e;return new VT(t)}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}};function ps(n){return new Dz({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:s})=>{const l=ze(n.getAttributes,void 0,r,s);if(l===!1||l===null)return null;const{tr:c}=e,u=r[r.length-1],d=r[0];let h=t.to;if(u){const m=d.search(/\S/),y=t.from+d.indexOf(u),b=y+u.length;if(Lg(t.from,t.to,e.doc).filter(S=>S.mark.type.excluded.find(C=>C===n.type&&C!==S.mark.type)).filter(S=>S.to>y).length)return null;b<t.to&&c.delete(b,t.to),y>t.from&&c.delete(t.from+m,y),h=t.from+m+u.length,c.addMark(t.from+m,h,n.type.create(l||{})),c.removeStoredMark(n.type)}}})}var Vp,iS;function Xz(){return iS||(iS=1,Vp=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,s,l;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(s=r;s--!==0;)if(!n(e[s],t[s]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s of e.entries())if(!t.has(s[0]))return!1;for(s of e.entries())if(!n(s[1],t.get(s[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s of e.entries())if(!t.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(s=r;s--!==0;)if(e[s]!==t[s])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(l=Object.keys(e),r=l.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,l[s]))return!1;for(s=r;s--!==0;){var c=l[s];if(!(c==="_owner"&&e.$$typeof)&&!n(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}),Vp}var Qz=Xz();const Zz=gf(Qz);var $p={exports:{}},qp={};var sS;function e4(){if(sS)return qp;sS=1;var n=fo(),e=zE();function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,l=n.useRef,c=n.useEffect,u=n.useMemo,d=n.useDebugValue;return qp.useSyncExternalStoreWithSelector=function(h,m,y,b,v){var S=l(null);if(S.current===null){var T={hasValue:!1,value:null};S.current=T}else T=S.current;S=u(function(){function w(W){if(!I){if(I=!0,B=W,W=b(W),v!==void 0&&T.hasValue){var P=T.value;if(v(P,W))return F=P}return F=W}if(P=F,r(B,W))return P;var ee=b(W);return v!==void 0&&v(P,ee)?(B=W,P):(B=W,F=ee)}var I=!1,B,F,q=y===void 0?null:y;return[function(){return w(m())},q===null?void 0:function(){return w(q())}]},[m,y,b,v]);var C=s(h,S[0],S[1]);return c(function(){T.hasValue=!0,T.value=C},[C]),d(C),C},qp}var aS;function t4(){return aS||(aS=1,$p.exports=e4()),$p.exports}var n4=t4(),r4=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},i4=({contentComponent:n})=>{const e=jE.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return E.jsx(E.Fragment,{children:Object.values(e)})};function s4(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:kM.createPortal(r.reactElement,r.element,t)},n.forEach(s=>s())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(s=>s())}}}var a4=class extends Ei.Component{constructor(n){var e;super(n),this.editorContentRef=Ei.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=n.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const n=this.props.editor;if(n&&!n.isDestroyed&&n.options.element){if(n.contentComponent)return;const e=this.editorContentRef.current;e.append(n.view.dom),n.setOptions({element:e}),n.contentComponent=s4(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=n.contentComponent.subscribe(()=>{this.setState(t=>t.hasContentComponentInitialized?t:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),n.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var n;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((n=e.view.dom)!=null&&n.firstChild))return;const t=document.createElement("div");t.append(e.view.dom),e.setOptions({element:t})}catch{}}}render(){const{editor:n,innerRef:e,...t}=this.props;return E.jsxs(E.Fragment,{children:[E.jsx("div",{ref:r4(e,this.editorContentRef),...t}),n?.contentComponent&&E.jsx(i4,{contentComponent:n.contentComponent})]})}},l4=O.forwardRef((n,e)=>{const t=Ei.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return Ei.createElement(a4,{key:t,innerRef:e,...n})}),o4=Ei.memo(l4),c4=typeof window<"u"?O.useLayoutEffect:O.useEffect,u4=class{constructor(n){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=n,this.lastSnapshot={editor:n,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(n){return this.subscribers.add(n),()=>{this.subscribers.delete(n)}}watch(n){if(this.editor=n,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},t=this.editor;return t.on("transaction",e),()=>{t.off("transaction",e)}}}};function f4(n){var e;const[t]=O.useState(()=>new u4(n.editor)),r=n4.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!=null?e:Zz);return c4(()=>t.watch(n.editor),[n.editor,t]),O.useDebugValue(r),r}var d4=!1,_m=typeof window>"u",h4=_m||!!(typeof window<"u"&&window.next),p4=class $T{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?_m||h4?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var s,l;return(l=(s=this.options.current).onBeforeCreate)==null?void 0:l.call(s,...r)},onBlur:(...r)=>{var s,l;return(l=(s=this.options.current).onBlur)==null?void 0:l.call(s,...r)},onCreate:(...r)=>{var s,l;return(l=(s=this.options.current).onCreate)==null?void 0:l.call(s,...r)},onDestroy:(...r)=>{var s,l;return(l=(s=this.options.current).onDestroy)==null?void 0:l.call(s,...r)},onFocus:(...r)=>{var s,l;return(l=(s=this.options.current).onFocus)==null?void 0:l.call(s,...r)},onSelectionUpdate:(...r)=>{var s,l;return(l=(s=this.options.current).onSelectionUpdate)==null?void 0:l.call(s,...r)},onTransaction:(...r)=>{var s,l;return(l=(s=this.options.current).onTransaction)==null?void 0:l.call(s,...r)},onUpdate:(...r)=>{var s,l;return(l=(s=this.options.current).onUpdate)==null?void 0:l.call(s,...r)},onContentError:(...r)=>{var s,l;return(l=(s=this.options.current).onContentError)==null?void 0:l.call(s,...r)},onDrop:(...r)=>{var s,l;return(l=(s=this.options.current).onDrop)==null?void 0:l.call(s,...r)},onPaste:(...r)=>{var s,l;return(l=(s=this.options.current).onPaste)==null?void 0:l.call(s,...r)},onDelete:(...r)=>{var s,l;return(l=(s=this.options.current).onDelete)==null?void 0:l.call(s,...r)}};return new Hz(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((s,l)=>{var c;return s===((c=t.extensions)==null?void 0:c[l])}):e[r]===t[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?$T.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,s)=>r===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function m4(n={},e=[]){const t=O.useRef(n);t.current=n;const[r]=O.useState(()=>new p4(t)),s=jE.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return O.useDebugValue(s),O.useEffect(r.onRender(e)),f4({editor:s,selector:({transactionNumber:l})=>n.shouldRerenderOnTransaction===!1||n.shouldRerenderOnTransaction===void 0?null:n.immediatelyRender&&l===0?0:l+1}),s}var g4=O.createContext({editor:null});g4.Consumer;var y4=O.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),b4=()=>O.useContext(y4);Ei.forwardRef((n,e)=>{const{onDragStart:t}=b4(),r=n.as||"div";return E.jsx(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});Ei.createContext({markViewContentRef:()=>{}});var Pu=(n,e)=>{if(n==="slot")return 0;if(n instanceof Function)return n(e);const{children:t,...r}=e??{};if(n==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[n,r,t]},v4=/^\s*>\s$/,x4=an.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return Pu("blockquote",{...it(this.options.HTMLAttributes,n),children:Pu("slot",{})})},parseMarkdown:(n,e)=>e.createNode("blockquote",void 0,e.parseChildren(n.tokens||[])),renderMarkdown:(n,e)=>{if(!n.content)return"";const t=">",r=[];return n.content.forEach(s=>{const u=e.renderChildren([s]).split(`
`).map(d=>d.trim()===""?t:`${t} ${d}`);r.push(u.join(`
`))}),r.join(`
${t}
`)},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Ca({find:v4,type:this.type})]}}),S4=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,E4=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,k4=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,T4=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,C4=Oi.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return Pu("strong",{...it(this.options.HTMLAttributes,n),children:Pu("slot",{})})},markdownTokenName:"strong",parseMarkdown:(n,e)=>e.applyMark("bold",e.parseInline(n.tokens||[])),renderMarkdown:(n,e)=>`**${e.renderChildren(n)}**`,addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Ta({find:S4,type:this.type}),Ta({find:k4,type:this.type})]},addPasteRules(){return[ps({find:E4,type:this.type}),ps({find:T4,type:this.type})]}}),w4=/(^|[^`])`([^`]+)`(?!`)$/,A4=/(^|[^`])`([^`]+)`(?!`)/g,N4=Oi.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",it(this.options.HTMLAttributes,n),0]},markdownTokenName:"codespan",parseMarkdown:(n,e)=>e.applyMark("code",[{type:"text",text:n.text||""}]),renderMarkdown:(n,e)=>n.content?`\`${e.renderChildren(n.content)}\``:"",addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Ta({find:w4,type:this.type})]},addPasteRules(){return[ps({find:A4,type:this.type})]}}),Fp=4,M4=/^```([a-z]+)?[\s\n]$/,O4=/^~~~([a-z]+)?[\s\n]$/,R4=an.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Fp,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options;if(!t)return null;const l=[...((e=n.firstElementChild)==null?void 0:e.classList)||[]].filter(c=>c.startsWith(t)).map(c=>c.replace(t,""))[0];return l||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",it(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(n,e)=>{var t;return((t=n.raw)==null?void 0:t.startsWith("```"))===!1&&n.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:n.lang||null},n.text?[e.createTextNode(n.text)]:[])},renderMarkdown:(n,e)=>{var t;let r="";const s=((t=n.attrs)==null?void 0:t.language)||"";return n.content?r=[`\`\`\`${s}`,e.renderChildren(n.content),"```"].join(`
`):r=`\`\`\`${s}

\`\`\``,r},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:n})=>{var e;if(!this.options.enableTabIndentation)return!1;const t=(e=this.options.tabSize)!=null?e:Fp,{state:r}=n,{selection:s}=r,{$from:l,empty:c}=s;if(l.parent.type!==this.type)return!1;const u=" ".repeat(t);return c?n.commands.insertContent(u):n.commands.command(({tr:d})=>{const{from:h,to:m}=s,v=r.doc.textBetween(h,m,`
`,`
`).split(`
`).map(S=>u+S).join(`
`);return d.replaceWith(h,m,r.schema.text(v)),!0})},"Shift-Tab":({editor:n})=>{var e;if(!this.options.enableTabIndentation)return!1;const t=(e=this.options.tabSize)!=null?e:Fp,{state:r}=n,{selection:s}=r,{$from:l,empty:c}=s;return l.parent.type!==this.type?!1:c?n.commands.command(({tr:u})=>{var d;const{pos:h}=l,m=l.start(),y=l.end(),v=r.doc.textBetween(m,y,`
`,`
`).split(`
`);let S=0,T=0;const C=h-m;for(let W=0;W<v.length;W+=1){if(T+v[W].length>=C){S=W;break}T+=v[W].length+1}const I=((d=v[S].match(/^ */))==null?void 0:d[0])||"",B=Math.min(I.length,t);if(B===0)return!0;let F=m;for(let W=0;W<S;W+=1)F+=v[W].length+1;return u.delete(F,F+B),h-F<=B&&u.setSelection(he.create(u.doc,F)),!0}):n.commands.command(({tr:u})=>{const{from:d,to:h}=s,b=r.doc.textBetween(d,h,`
`,`
`).split(`
`).map(v=>{var S;const T=((S=v.match(/^ */))==null?void 0:S[0])||"",C=Math.min(T.length,t);return v.slice(C)}).join(`
`);return u.replaceWith(d,h,r.schema.text(b)),!0})},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:s}=t;if(!s||r.parent.type!==this.type)return!1;const l=r.parentOffset===r.parent.nodeSize-2,c=r.parent.textContent.endsWith(`

`);return!l||!c?!1:n.chain().command(({tr:u})=>(u.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:s,empty:l}=t;if(!l||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const u=s.after();return u===void 0?!1:r.nodeAt(u)?n.commands.command(({tr:h})=>(h.setSelection(ve.near(r.resolve(u))),!0)):n.commands.exitCode()}}},addInputRules(){return[Rm({find:M4,type:this.type,getAttributes:n=>({language:n[1]})}),Rm({find:O4,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new Je({key:new dt("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,l=s?.mode;if(!t||!l)return!1;const{tr:c,schema:u}=n.state,d=u.text(t.replace(/\r\n?/g,`
`));return c.replaceSelectionWith(this.type.create({language:l},d)),c.selection.$from.parent.type!==this.type&&c.setSelection(he.near(c.doc.resolve(Math.max(0,c.selection.from-2)))),c.setMeta("paste",!0),n.dispatch(c),!0}}})]}}),D4=an.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(n,e)=>n.content?e.renderChildren(n.content,`

`):""}),_4=an.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",it(this.options.HTMLAttributes,n)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:s,storedMarks:l}=t;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:c}=this.options,{splittableMarks:u}=r.extensionManager,d=l||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:m})=>{if(m&&d&&c){const y=d.filter(b=>u.includes(b.type.name));h.ensureMarks(y)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),I4=an.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,it(this.options.HTMLAttributes,e),0]},parseMarkdown:(n,e)=>e.createNode("heading",{level:n.depth||1},e.parseInline(n.tokens||[])),renderMarkdown:(n,e)=>{var t;const r=(t=n.attrs)!=null&&t.level?parseInt(n.attrs.level,10):1,s="#".repeat(r);return n.content?`${s} ${e.renderChildren(n.content)}`:""},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>Rm({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}}),L4=an.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",it(this.options.HTMLAttributes,n)]},markdownTokenName:"hr",parseMarkdown:(n,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{if(!$z(e,e.schema.nodes[this.name]))return!1;const{selection:t}=e,{$to:r}=t,s=n();return AT(t)?s.insertContentAt(r.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({state:l,tr:c,dispatch:u})=>{if(u){const{$to:d}=c.selection,h=d.end();if(d.nodeAfter)d.nodeAfter.isTextblock?c.setSelection(he.create(c.doc,d.pos+1)):d.nodeAfter.isBlock?c.setSelection(ce.create(c.doc,d.pos)):c.setSelection(he.create(c.doc,d.pos));else{const m=l.schema.nodes[this.options.nextNodeType]||d.parent.type.contentMatch.defaultType,y=m?.create();y&&(c.insert(h,y),c.setSelection(he.create(c.doc,h+1)))}c.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Vz({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),z4=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,j4=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,B4=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,U4=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,P4=Oi.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",it(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(n,e)=>e.applyMark("italic",e.parseInline(n.tokens||[])),renderMarkdown:(n,e)=>`*${e.renderChildren(n)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Ta({find:z4,type:this.type}),Ta({find:B4,type:this.type})]},addPasteRules(){return[ps({find:j4,type:this.type}),ps({find:U4,type:this.type})]}});const H4="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",V4="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Im="numeric",Lm="ascii",zm="alpha",$l="asciinumeric",zl="alphanumeric",jm="domain",qT="emoji",$4="scheme",q4="slashscheme",Kp="whitespace";function F4(n,e){return n in e||(e[n]=[]),e[n]}function ns(n,e,t){e[Im]&&(e[$l]=!0,e[zl]=!0),e[Lm]&&(e[$l]=!0,e[zm]=!0),e[$l]&&(e[zl]=!0),e[zm]&&(e[zl]=!0),e[zl]&&(e[jm]=!0),e[qT]&&(e[jm]=!0);for(const r in e){const s=F4(r,t);s.indexOf(n)<0&&s.push(n)}}function K4(n,e){const t={};for(const r in e)e[r].indexOf(n)>=0&&(t[r]=!0);return t}function qt(n=null){this.j={},this.jr=[],this.jd=null,this.t=n}qt.groups={};qt.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],l=e.jr[r][1];if(l&&s.test(n))return l}return e.jd},has(n,e=!1){return e?n in this.j:!!this.go(n)},ta(n,e,t,r){for(let s=0;s<n.length;s++)this.tt(n[s],e,t,r)},tr(n,e,t,r){r=r||qt.groups;let s;return e&&e.j?s=e:(s=new qt(e),t&&r&&ns(e,t,r)),this.jr.push([n,s]),s},ts(n,e,t,r){let s=this;const l=n.length;if(!l)return s;for(let c=0;c<l-1;c++)s=s.tt(n[c]);return s.tt(n[l-1],e,t,r)},tt(n,e,t,r){r=r||qt.groups;const s=this;if(e&&e.j)return s.j[n]=e,e;const l=e;let c,u=s.go(n);if(u?(c=new qt,Object.assign(c.j,u.j),c.jr.push.apply(c.jr,u.jr),c.jd=u.jd,c.t=u.t):c=new qt,l){if(r)if(c.t&&typeof c.t=="string"){const d=Object.assign(K4(c.t,r),t);ns(l,d,r)}else t&&ns(l,t,r);c.t=l}return s.j[n]=c,c}};const be=(n,e,t,r,s)=>n.ta(e,t,r,s),Ze=(n,e,t,r,s)=>n.tr(e,t,r,s),lS=(n,e,t,r,s)=>n.ts(e,t,r,s),Y=(n,e,t,r,s)=>n.tt(e,t,r,s),pr="WORD",Bm="UWORD",FT="ASCIINUMERICAL",KT="ALPHANUMERICAL",co="LOCALHOST",Um="TLD",Pm="UTLD",gu="SCHEME",la="SLASH_SCHEME",Pg="NUM",Hm="WS",Hg="NL",ql="OPENBRACE",Fl="CLOSEBRACE",Hu="OPENBRACKET",Vu="CLOSEBRACKET",$u="OPENPAREN",qu="CLOSEPAREN",Fu="OPENANGLEBRACKET",Ku="CLOSEANGLEBRACKET",Gu="FULLWIDTHLEFTPAREN",Yu="FULLWIDTHRIGHTPAREN",Wu="LEFTCORNERBRACKET",Ju="RIGHTCORNERBRACKET",Xu="LEFTWHITECORNERBRACKET",Qu="RIGHTWHITECORNERBRACKET",Zu="FULLWIDTHLESSTHAN",ef="FULLWIDTHGREATERTHAN",tf="AMPERSAND",nf="APOSTROPHE",rf="ASTERISK",ii="AT",sf="BACKSLASH",af="BACKTICK",lf="CARET",fi="COLON",Vg="COMMA",of="DOLLAR",Un="DOT",cf="EQUALS",$g="EXCLAMATION",bn="HYPHEN",Kl="PERCENT",uf="PIPE",ff="PLUS",df="POUND",Gl="QUERY",qg="QUOTE",GT="FULLWIDTHMIDDLEDOT",Fg="SEMI",Pn="SLASH",Yl="TILDE",hf="UNDERSCORE",YT="EMOJI",pf="SYM";var WT=Object.freeze({__proto__:null,ALPHANUMERICAL:KT,AMPERSAND:tf,APOSTROPHE:nf,ASCIINUMERICAL:FT,ASTERISK:rf,AT:ii,BACKSLASH:sf,BACKTICK:af,CARET:lf,CLOSEANGLEBRACKET:Ku,CLOSEBRACE:Fl,CLOSEBRACKET:Vu,CLOSEPAREN:qu,COLON:fi,COMMA:Vg,DOLLAR:of,DOT:Un,EMOJI:YT,EQUALS:cf,EXCLAMATION:$g,FULLWIDTHGREATERTHAN:ef,FULLWIDTHLEFTPAREN:Gu,FULLWIDTHLESSTHAN:Zu,FULLWIDTHMIDDLEDOT:GT,FULLWIDTHRIGHTPAREN:Yu,HYPHEN:bn,LEFTCORNERBRACKET:Wu,LEFTWHITECORNERBRACKET:Xu,LOCALHOST:co,NL:Hg,NUM:Pg,OPENANGLEBRACKET:Fu,OPENBRACE:ql,OPENBRACKET:Hu,OPENPAREN:$u,PERCENT:Kl,PIPE:uf,PLUS:ff,POUND:df,QUERY:Gl,QUOTE:qg,RIGHTCORNERBRACKET:Ju,RIGHTWHITECORNERBRACKET:Qu,SCHEME:gu,SEMI:Fg,SLASH:Pn,SLASH_SCHEME:la,SYM:pf,TILDE:Yl,TLD:Um,UNDERSCORE:hf,UTLD:Pm,UWORD:Bm,WORD:pr,WS:Hm});const dr=/[a-z]/,Ol=new RegExp("\\p{L}","u"),Gp=new RegExp("\\p{Emoji}","u"),hr=/\d/,Yp=/\s/,oS="\r",Wp=`
`,G4="",Y4="",Jp="";let tu=null,nu=null;function W4(n=[]){const e={};qt.groups=e;const t=new qt;tu==null&&(tu=cS(H4)),nu==null&&(nu=cS(V4)),Y(t,"'",nf),Y(t,"{",ql),Y(t,"}",Fl),Y(t,"[",Hu),Y(t,"]",Vu),Y(t,"(",$u),Y(t,")",qu),Y(t,"<",Fu),Y(t,">",Ku),Y(t,"",Gu),Y(t,"",Yu),Y(t,"",Wu),Y(t,"",Ju),Y(t,"",Xu),Y(t,"",Qu),Y(t,"",Zu),Y(t,"",ef),Y(t,"&",tf),Y(t,"*",rf),Y(t,"@",ii),Y(t,"`",af),Y(t,"^",lf),Y(t,":",fi),Y(t,",",Vg),Y(t,"$",of),Y(t,".",Un),Y(t,"=",cf),Y(t,"!",$g),Y(t,"-",bn),Y(t,"%",Kl),Y(t,"|",uf),Y(t,"+",ff),Y(t,"#",df),Y(t,"?",Gl),Y(t,'"',qg),Y(t,"/",Pn),Y(t,";",Fg),Y(t,"~",Yl),Y(t,"_",hf),Y(t,"\\",sf),Y(t,"",GT);const r=Ze(t,hr,Pg,{[Im]:!0});Ze(r,hr,r);const s=Ze(r,dr,FT,{[$l]:!0}),l=Ze(r,Ol,KT,{[zl]:!0}),c=Ze(t,dr,pr,{[Lm]:!0});Ze(c,hr,s),Ze(c,dr,c),Ze(s,hr,s),Ze(s,dr,s);const u=Ze(t,Ol,Bm,{[zm]:!0});Ze(u,dr),Ze(u,hr,l),Ze(u,Ol,u),Ze(l,hr,l),Ze(l,dr),Ze(l,Ol,l);const d=Y(t,Wp,Hg,{[Kp]:!0}),h=Y(t,oS,Hm,{[Kp]:!0}),m=Ze(t,Yp,Hm,{[Kp]:!0});Y(t,Jp,m),Y(h,Wp,d),Y(h,Jp,m),Ze(h,Yp,m),Y(m,oS),Y(m,Wp),Ze(m,Yp,m),Y(m,Jp,m);const y=Ze(t,Gp,YT,{[qT]:!0});Y(y,"#"),Ze(y,Gp,y),Y(y,G4,y);const b=Y(y,Y4);Y(b,"#"),Ze(b,Gp,y);const v=[[dr,c],[hr,s]],S=[[dr,null],[Ol,u],[hr,l]];for(let T=0;T<tu.length;T++)Zr(t,tu[T],Um,pr,v);for(let T=0;T<nu.length;T++)Zr(t,nu[T],Pm,Bm,S);ns(Um,{tld:!0,ascii:!0},e),ns(Pm,{utld:!0,alpha:!0},e),Zr(t,"file",gu,pr,v),Zr(t,"mailto",gu,pr,v),Zr(t,"http",la,pr,v),Zr(t,"https",la,pr,v),Zr(t,"ftp",la,pr,v),Zr(t,"ftps",la,pr,v),ns(gu,{scheme:!0,ascii:!0},e),ns(la,{slashscheme:!0,ascii:!0},e),n=n.sort((T,C)=>T[0]>C[0]?1:-1);for(let T=0;T<n.length;T++){const C=n[T][0],I=n[T][1]?{[$4]:!0}:{[q4]:!0};C.indexOf("-")>=0?I[jm]=!0:dr.test(C)?hr.test(C)?I[$l]=!0:I[Lm]=!0:I[Im]=!0,lS(t,C,C,I)}return lS(t,"localhost",co,{ascii:!0}),t.jd=new qt(pf),{start:t,tokens:Object.assign({groups:e},WT)}}function JT(n,e){const t=J4(e.replace(/[A-Z]/g,u=>u.toLowerCase())),r=t.length,s=[];let l=0,c=0;for(;c<r;){let u=n,d=null,h=0,m=null,y=-1,b=-1;for(;c<r&&(d=u.go(t[c]));)u=d,u.accepts()?(y=0,b=0,m=u):y>=0&&(y+=t[c].length,b++),h+=t[c].length,l+=t[c].length,c++;l-=y,c-=b,h-=y,s.push({t:m.t,v:e.slice(l-h,l),s:l-h,e:l})}return s}function J4(n){const e=[],t=n.length;let r=0;for(;r<t;){let s=n.charCodeAt(r),l,c=s<55296||s>56319||r+1===t||(l=n.charCodeAt(r+1))<56320||l>57343?n[r]:n.slice(r,r+2);e.push(c),r+=c.length}return e}function Zr(n,e,t,r,s){let l;const c=e.length;for(let u=0;u<c-1;u++){const d=e[u];n.j[d]?l=n.j[d]:(l=new qt(r),l.jr=s.slice(),n.j[d]=l),n=l}return l=new qt(t),l.jr=s.slice(),n.j[e[c-1]]=l,l}function cS(n){const e=[],t=[];let r=0,s="0123456789";for(;r<n.length;){let l=0;for(;s.indexOf(n[r+l])>=0;)l++;if(l>0){e.push(t.join(""));for(let c=parseInt(n.substring(r,r+l),10);c>0;c--)t.pop();r+=l}else t.push(n[r]),r++}return e}const uo={defaultProtocol:"http",events:null,format:uS,formatHref:uS,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Kg(n,e=null){let t=Object.assign({},uo);n&&(t=Object.assign(t,n instanceof Kg?n.o:n));const r=t.ignoreTags,s=[];for(let l=0;l<r.length;l++)s.push(r[l].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=s}Kg.prototype={o:uo,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const r=e!=null;let s=this.o[n];return s&&(typeof s=="object"?(s=t.t in s?s[t.t]:uo[n],typeof s=="function"&&r&&(s=s(e,t))):typeof s=="function"&&r&&(s=s(e,t.t,t)),s)},getObj(n,e,t){let r=this.o[n];return typeof r=="function"&&e!=null&&(r=r(e,t.t,t)),r},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function uS(n){return n}function XT(n,e){this.t="token",this.v=n,this.tk=e}XT.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),r=n.get("format",e,this);return t&&r.length>t?r.substring(0,t)+"":r},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n=uo.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toHref(n.get("defaultProtocol")),r=n.get("formatHref",t,this),s=n.get("tagName",t,e),l=this.toFormattedString(n),c={},u=n.get("className",t,e),d=n.get("target",t,e),h=n.get("rel",t,e),m=n.getObj("attributes",t,e),y=n.getObj("events",t,e);return c.href=r,u&&(c.class=u),d&&(c.target=d),h&&(c.rel=h),m&&Object.assign(c,m),{tagName:s,attributes:c,content:l,eventListeners:y}}};function Vf(n,e){class t extends XT{constructor(s,l){super(s,l),this.t=n}}for(const r in e)t.prototype[r]=e[r];return t.t=n,t}const fS=Vf("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),dS=Vf("text"),X4=Vf("nl"),ru=Vf("url",{isLink:!0,toHref(n=uo.defaultProtocol){return this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==co&&n[1].t===fi}}),yn=n=>new qt(n);function Q4({groups:n}){const e=n.domain.concat([tf,rf,ii,sf,af,lf,of,cf,bn,Pg,Kl,uf,ff,df,Pn,pf,Yl,hf]),t=[nf,fi,Vg,Un,$g,Kl,Gl,qg,Fg,Fu,Ku,ql,Fl,Vu,Hu,$u,qu,Gu,Yu,Wu,Ju,Xu,Qu,Zu,ef],r=[tf,nf,rf,sf,af,lf,of,cf,bn,ql,Fl,Kl,uf,ff,df,Gl,Pn,pf,Yl,hf],s=yn(),l=Y(s,Yl);be(l,r,l),be(l,n.domain,l);const c=yn(),u=yn(),d=yn();be(s,n.domain,c),be(s,n.scheme,u),be(s,n.slashscheme,d),be(c,r,l),be(c,n.domain,c);const h=Y(c,ii);Y(l,ii,h),Y(u,ii,h),Y(d,ii,h);const m=Y(l,Un);be(m,r,l),be(m,n.domain,l);const y=yn();be(h,n.domain,y),be(y,n.domain,y);const b=Y(y,Un);be(b,n.domain,y);const v=yn(fS);be(b,n.tld,v),be(b,n.utld,v),Y(h,co,v);const S=Y(y,bn);Y(S,bn,S),be(S,n.domain,y),be(v,n.domain,y),Y(v,Un,b),Y(v,bn,S);const T=Y(v,fi);be(T,n.numeric,fS);const C=Y(c,bn),w=Y(c,Un);Y(C,bn,C),be(C,n.domain,c),be(w,r,l),be(w,n.domain,c);const I=yn(ru);be(w,n.tld,I),be(w,n.utld,I),be(I,n.domain,c),be(I,r,l),Y(I,Un,w),Y(I,bn,C),Y(I,ii,h);const B=Y(I,fi),F=yn(ru);be(B,n.numeric,F);const q=yn(ru),W=yn();be(q,e,q),be(q,t,W),be(W,e,q),be(W,t,W),Y(I,Pn,q),Y(F,Pn,q);const P=Y(u,fi),ee=Y(d,fi),ne=Y(ee,Pn),de=Y(ne,Pn);be(u,n.domain,c),Y(u,Un,w),Y(u,bn,C),be(d,n.domain,c),Y(d,Un,w),Y(d,bn,C),be(P,n.domain,q),Y(P,Pn,q),Y(P,Gl,q),be(de,n.domain,q),be(de,e,q),Y(de,Pn,q);const Oe=[[ql,Fl],[Hu,Vu],[$u,qu],[Fu,Ku],[Gu,Yu],[Wu,Ju],[Xu,Qu],[Zu,ef]];for(let Q=0;Q<Oe.length;Q++){const[xe,_e]=Oe[Q],Se=Y(q,xe);Y(W,xe,Se),Y(Se,_e,q);const z=yn(ru);be(Se,e,z);const J=yn();be(Se,t),be(z,e,z),be(z,t,J),be(J,e,z),be(J,t,J),Y(z,_e,q),Y(J,_e,q)}return Y(s,co,I),Y(s,Hg,X4),{start:s,tokens:WT}}function Z4(n,e,t){let r=t.length,s=0,l=[],c=[];for(;s<r;){let u=n,d=null,h=null,m=0,y=null,b=-1;for(;s<r&&!(d=u.go(t[s].t));)c.push(t[s++]);for(;s<r&&(h=d||u.go(t[s].t));)d=null,u=h,u.accepts()?(b=0,y=u):b>=0&&b++,s++,m++;if(b<0)s-=m,s<r&&(c.push(t[s]),s++);else{c.length>0&&(l.push(Xp(dS,e,c)),c=[]),s-=b,m-=b;const v=y.t,S=t.slice(s-m,s);l.push(Xp(v,e,S))}}return c.length>0&&l.push(Xp(dS,e,c)),l}function Xp(n,e,t){const r=t[0].s,s=t[t.length-1].e,l=e.slice(r,s);return new n(l,t)}const ej=typeof console<"u"&&console&&console.warn||(()=>{}),tj="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ke={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function nj(){return qt.groups={},Ke.scanner=null,Ke.parser=null,Ke.tokenQueue=[],Ke.pluginQueue=[],Ke.customSchemes=[],Ke.initialized=!1,Ke}function hS(n,e=!1){if(Ke.initialized&&ej(`linkifyjs: already initialized - will not register custom scheme "${n}" ${tj}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Ke.customSchemes.push([n,e])}function rj(){Ke.scanner=W4(Ke.customSchemes);for(let n=0;n<Ke.tokenQueue.length;n++)Ke.tokenQueue[n][1]({scanner:Ke.scanner});Ke.parser=Q4(Ke.scanner.tokens);for(let n=0;n<Ke.pluginQueue.length;n++)Ke.pluginQueue[n][1]({scanner:Ke.scanner,parser:Ke.parser});return Ke.initialized=!0,Ke}function Gg(n){return Ke.initialized||rj(),Z4(Ke.parser.start,n,JT(Ke.scanner.start,n))}Gg.scan=JT;function QT(n,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const r=new Kg(t),s=Gg(n),l=[];for(let c=0;c<s.length;c++){const u=s[c];u.isLink&&(!e||u.t===e)&&r.check(u)&&l.push(u.toFormattedObject(r))}return l}var Yg="[\0- -\u2029]",ij=new RegExp(Yg),sj=new RegExp(`${Yg}$`),aj=new RegExp(Yg,"g");function lj(n){return n.length===1?n[0].isLink:n.length===3&&n[1].isLink?["()","[]"].includes(n[0].value+n[2].value):!1}function oj(n){return new Je({key:new dt("autolink"),appendTransaction:(e,t,r)=>{const s=e.some(h=>h.docChanged)&&!t.doc.eq(r.doc),l=e.some(h=>h.getMeta("preventAutolink"));if(!s||l)return;const{tr:c}=r,u=vT(t.doc,[...e]);if(wT(u).forEach(({newRange:h})=>{const m=FL(r.doc,h,v=>v.isTextblock);let y,b;if(m.length>1)y=m[0],b=r.doc.textBetween(y.pos,y.pos+y.node.nodeSize,void 0," ");else if(m.length){const v=r.doc.textBetween(h.from,h.to," "," ");if(!sj.test(v))return;y=m[0],b=r.doc.textBetween(y.pos,h.to,void 0," ")}if(y&&b){const v=b.split(ij).filter(Boolean);if(v.length<=0)return!1;const S=v[v.length-1],T=y.pos+b.lastIndexOf(S);if(!S)return!1;const C=Gg(S).map(w=>w.toObject(n.defaultProtocol));if(!lj(C))return!1;C.filter(w=>w.isLink).map(w=>({...w,from:T+w.start+1,to:T+w.end+1})).filter(w=>r.schema.marks.code?!r.doc.rangeHasMark(w.from,w.to,r.schema.marks.code):!0).filter(w=>n.validate(w.value)).filter(w=>n.shouldAutoLink(w.value)).forEach(w=>{Lg(w.from,w.to,r.doc).some(I=>I.mark.type===n.type)||c.addMark(w.from,w.to,n.type.create({href:w.href}))})}}),!!c.steps.length)return c}})}function cj(n){return new Je({key:new dt("handleClickLink"),props:{handleClick:(e,t,r)=>{var s,l;if(r.button!==0||!e.editable)return!1;let c=null;if(r.target instanceof HTMLAnchorElement)c=r.target;else{let m=r.target;const y=[];for(;m.nodeName!=="DIV";)y.push(m),m=m.parentNode;c=y.find(b=>b.nodeName==="A")}if(!c)return!1;const u=CT(e.state,n.type.name),d=(s=c?.href)!=null?s:u.href,h=(l=c?.target)!=null?l:u.target;return n.enableClickSelection&&n.editor.commands.extendMarkRange(n.type.name),c&&d?(window.open(d,h),!0):!1}}})}function uj(n){return new Je({key:new dt("handlePasteLink"),props:{handlePaste:(e,t,r)=>{const{shouldAutoLink:s}=n,{state:l}=e,{selection:c}=l,{empty:u}=c;if(u)return!1;let d="";r.content.forEach(m=>{d+=m.textContent});const h=QT(d,{defaultProtocol:n.defaultProtocol}).find(m=>m.isLink&&m.value===d);return!d||!h||s!==void 0&&!s(h.href)?!1:n.editor.commands.setMark(n.type,{href:h.href})}}})}function Ji(n,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const s=typeof r=="string"?r:r.scheme;s&&t.push(s)}),!n||n.replace(aj,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var ZT=Oi.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(n=>{if(typeof n=="string"){hS(n);return}hS(n.scheme,n.optionalSlashes)})},onDestroy(){nj()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(n,e)=>!!Ji(n,e.protocols),validate:n=>!!n,shouldAutoLink:n=>!!n}},addAttributes(){return{href:{default:null,parseHTML(n){return n.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:n=>{const e=n.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!Ji(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:n}){return this.options.isAllowedUri(n.href,{defaultValidate:e=>!!Ji(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",it(this.options.HTMLAttributes,n),0]:["a",it(this.options.HTMLAttributes,{...n,href:""}),0]},markdownTokenName:"link",parseMarkdown:(n,e)=>e.applyMark("link",e.parseInline(n.tokens||[]),{href:n.href,title:n.title||null}),renderMarkdown:(n,e)=>{var t;const r=((t=n.attrs)==null?void 0:t.href)||"";return`[${e.renderChildren(n)}](${r})`},addCommands(){return{setLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!Ji(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,n).setMeta("preventAutolink",!0).run():!1},toggleLink:n=>({chain:e})=>{const{href:t}=n||{};return t&&!this.options.isAllowedUri(t,{defaultValidate:r=>!!Ji(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,n,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[ps({find:n=>{const e=[];if(n){const{protocols:t,defaultProtocol:r}=this.options,s=QT(n).filter(l=>l.isLink&&this.options.isAllowedUri(l.value,{defaultValidate:c=>!!Ji(c,t),protocols:t,defaultProtocol:r}));s.length&&s.forEach(l=>{this.options.shouldAutoLink(l.value)&&e.push({text:l.value,data:{href:l.href},index:l.start})})}return e},type:this.type,getAttributes:n=>{var e;return{href:(e=n.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const n=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&n.push(oj({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:s=>!!Ji(s,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&n.push(cj({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&n.push(uj({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),n}}),fj=ZT,dj=Object.defineProperty,hj=(n,e)=>{for(var t in e)dj(n,t,{get:e[t],enumerable:!0})},pj="listItem",pS="textStyle",mS=/^\s*([-+*])\s$/,eC=an.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",it(this.options.HTMLAttributes,n),0]},markdownTokenName:"list",parseMarkdown:(n,e)=>n.type!=="list"||n.ordered?[]:{type:"bulletList",content:n.items?e.parseChildren(n.items):[]},renderMarkdown:(n,e)=>n.content?e.renderChildren(n.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(pj,this.editor.getAttributes(pS)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=Ca({find:mS,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Ca({find:mS,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(pS),editor:this.editor})),[n]}}),tC=an.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",it(this.options.HTMLAttributes,n),0]},markdownTokenName:"list_item",parseMarkdown:(n,e)=>{if(n.type!=="list_item")return[];let t=[];if(n.tokens&&n.tokens.length>0)if(n.tokens.some(s=>s.type==="paragraph"))t=e.parseChildren(n.tokens);else{const s=n.tokens[0];if(s&&s.type==="text"&&s.tokens&&s.tokens.length>0){if(t=[{type:"paragraph",content:e.parseInline(s.tokens)}],n.tokens.length>1){const c=n.tokens.slice(1),u=e.parseChildren(c);t.push(...u)}}else t=e.parseChildren(n.tokens)}return t.length===0&&(t=[{type:"paragraph",content:[]}]),{type:"listItem",content:t}},renderMarkdown:(n,e,t)=>Ug(n,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",t),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),mj={};hj(mj,{findListItemPos:()=>Ao,getNextListDepth:()=>Wg,handleBackspace:()=>Vm,handleDelete:()=>$m,hasListBefore:()=>nC,hasListItemAfter:()=>gj,hasListItemBefore:()=>rC,listItemHasSubList:()=>iC,nextListIsDeeper:()=>sC,nextListIsHigher:()=>aC});var Ao=(n,e)=>{const{$from:t}=e.selection,r=ut(n,e.schema);let s=null,l=t.depth,c=t.pos,u=null;for(;l>0&&u===null;)s=t.node(l),s.type===r?u=l:(l-=1,c-=1);return u===null?null:{$pos:e.doc.resolve(c),depth:u}},Wg=(n,e)=>{const t=Ao(n,e);if(!t)return!1;const[,r]=tz(e,n,t.$pos.pos+4);return r},nC=(n,e,t)=>{const{$anchor:r}=n.selection,s=Math.max(0,r.pos-2),l=n.doc.resolve(s).node();return!(!l||!t.includes(l.type.name))},rC=(n,e)=>{var t;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-2);return!(s.index()===0||((t=s.nodeBefore)==null?void 0:t.type.name)!==n)},iC=(n,e,t)=>{if(!t)return!1;const r=ut(n,e.schema);let s=!1;return t.descendants(l=>{l.type===r&&(s=!0)}),s},Vm=(n,e,t)=>{if(n.commands.undoInputRule())return!0;if(n.state.selection.from!==n.state.selection.to)return!1;if(!Ti(n.state,e)&&nC(n.state,e,t)){const{$anchor:u}=n.state.selection,d=n.state.doc.resolve(u.before()-1),h=[];d.node().descendants((b,v)=>{b.type.name===e&&h.push({node:b,pos:v})});const m=h.at(-1);if(!m)return!1;const y=n.state.doc.resolve(d.start()+m.pos+1);return n.chain().cut({from:u.start()-1,to:u.end()+1},y.end()).joinForward().run()}if(!Ti(n.state,e)||!sz(n.state))return!1;const r=Ao(e,n.state);if(!r)return!1;const l=n.state.doc.resolve(r.$pos.pos-2).node(r.depth),c=iC(e,n.state,l);return rC(e,n.state)&&!c?n.commands.joinItemBackward():n.chain().liftListItem(e).run()},sC=(n,e)=>{const t=Wg(n,e),r=Ao(n,e);return!r||!t?!1:t>r.depth},aC=(n,e)=>{const t=Wg(n,e),r=Ao(n,e);return!r||!t?!1:t<r.depth},$m=(n,e)=>{if(!Ti(n.state,e)||!iz(n.state,e))return!1;const{selection:t}=n.state,{$from:r,$to:s}=t;return!t.empty&&r.sameParent(s)?!1:sC(e,n.state)?n.chain().focus(n.state.selection.from+4).lift(e).joinBackward().run():aC(e,n.state)?n.chain().joinForward().joinBackward().run():n.commands.joinItemForward()},gj=(n,e)=>{var t;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-r.parentOffset-2);return!(s.index()===s.parent.childCount-1||((t=s.nodeAfter)==null?void 0:t.type.name)!==n)},lC=Pe.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t})=>{n.state.schema.nodes[t]!==void 0&&$m(n,t)&&(e=!0)}),e},"Mod-Delete":({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t})=>{n.state.schema.nodes[t]!==void 0&&$m(n,t)&&(e=!0)}),e},Backspace:({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t,wrapperNames:r})=>{n.state.schema.nodes[t]!==void 0&&Vm(n,t,r)&&(e=!0)}),e},"Mod-Backspace":({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t,wrapperNames:r})=>{n.state.schema.nodes[t]!==void 0&&Vm(n,t,r)&&(e=!0)}),e}}}}),gS=/^(\s*)(\d+)\.\s+(.*)$/,yj=/^\s/;function bj(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t],l=s.match(gS);if(!l)break;const[,c,u,d]=l,h=c.length;let m=d,y=t+1;const b=[s];for(;y<n.length;){const v=n[y];if(v.match(gS))break;if(v.trim()==="")b.push(v),m+=`
`,y+=1;else if(v.match(yj))b.push(v),m+=`
${v.slice(h+2)}`,y+=1;else break}e.push({indent:h,number:parseInt(u,10),content:m.trim(),raw:b.join(`
`)}),r=y,t=y}return[e,r]}function oC(n,e,t){var r;const s=[];let l=0;for(;l<n.length;){const c=n[l];if(c.indent===e){const u=c.content.split(`
`),d=((r=u[0])==null?void 0:r.trim())||"",h=[];d&&h.push({type:"paragraph",raw:d,tokens:t.inlineTokens(d)});const m=u.slice(1).join(`
`).trim();if(m){const v=t.blockTokens(m);h.push(...v)}let y=l+1;const b=[];for(;y<n.length&&n[y].indent>e;)b.push(n[y]),y+=1;if(b.length>0){const v=Math.min(...b.map(T=>T.indent)),S=oC(b,v,t);h.push({type:"list",ordered:!0,start:b[0].number,items:S,raw:b.map(T=>T.raw).join(`
`)})}s.push({type:"list_item",raw:c.raw,tokens:h}),l=y}else l+=1}return s}function vj(n,e){return n.map(t=>{if(t.type!=="list_item")return e.parseChildren([t])[0];const r=[];return t.tokens&&t.tokens.length>0&&t.tokens.forEach(s=>{if(s.type==="paragraph"||s.type==="list"||s.type==="blockquote"||s.type==="code")r.push(...e.parseChildren([s]));else if(s.type==="text"&&s.tokens){const l=e.parseChildren([s]);r.push({type:"paragraph",content:l})}else{const l=e.parseChildren([s]);l.length>0&&r.push(...l)}}),{type:"listItem",content:r}})}var xj="listItem",yS="textStyle",bS=/^(\d+)\.\s$/,cC=an.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",it(this.options.HTMLAttributes,t),0]:["ol",it(this.options.HTMLAttributes,n),0]},markdownTokenName:"list",parseMarkdown:(n,e)=>{if(n.type!=="list"||!n.ordered)return[];const t=n.start||1,r=n.items?vj(n.items,e):[];return t!==1?{type:"orderedList",attrs:{start:t},content:r}:{type:"orderedList",content:r}},renderMarkdown:(n,e)=>n.content?e.renderChildren(n.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:n=>{const e=n.match(/^(\s*)(\d+)\.\s+/),t=e?.index;return t!==void 0?t:-1},tokenize:(n,e,t)=>{var r;const s=n.split(`
`),[l,c]=bj(s);if(l.length===0)return;const u=oC(l,0,t);return u.length===0?void 0:{type:"list",ordered:!0,start:((r=l[0])==null?void 0:r.number)||1,items:u,raw:s.slice(0,c).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(xj,this.editor.getAttributes(yS)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=Ca({find:bS,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Ca({find:bS,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(yS)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),Sj=/^\s*(\[([( |x])?\])\s$/,Ej=an.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:n=>{const e=n.getAttribute("data-checked");return e===""||e==="true"},renderHTML:n=>({"data-checked":n.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:n,HTMLAttributes:e}){return["li",it(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:n.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(n,e)=>{const t=[];if(n.tokens&&n.tokens.length>0?t.push(e.createNode("paragraph",{},e.parseInline(n.tokens))):n.text?t.push(e.createNode("paragraph",{},[e.createNode("text",{text:n.text})])):t.push(e.createNode("paragraph",{},[])),n.nestedTokens&&n.nestedTokens.length>0){const r=e.parseChildren(n.nestedTokens);t.push(...r)}return e.createNode("taskItem",{checked:n.checked||!1},t)},renderMarkdown:(n,e)=>{var t;const s=`- [${(t=n.attrs)!=null&&t.checked?"x":" "}] `;return Ug(n,e,s)},addKeyboardShortcuts(){const n={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...n,Tab:()=>this.editor.commands.sinkListItem(this.name)}:n},addNodeView(){return({node:n,HTMLAttributes:e,getPos:t,editor:r})=>{const s=document.createElement("li"),l=document.createElement("label"),c=document.createElement("span"),u=document.createElement("input"),d=document.createElement("div"),h=m=>{var y,b;u.ariaLabel=((b=(y=this.options.a11y)==null?void 0:y.checkboxLabel)==null?void 0:b.call(y,m,u.checked))||`Task item checkbox for ${m.textContent||"empty task item"}`};return h(n),l.contentEditable="false",u.type="checkbox",u.addEventListener("mousedown",m=>m.preventDefault()),u.addEventListener("change",m=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){u.checked=!u.checked;return}const{checked:y}=m.target;r.isEditable&&typeof t=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:b})=>{const v=t();if(typeof v!="number")return!1;const S=b.doc.nodeAt(v);return b.setNodeMarkup(v,void 0,{...S?.attrs,checked:y}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(n,y)||(u.checked=!u.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([m,y])=>{s.setAttribute(m,y)}),s.dataset.checked=n.attrs.checked,u.checked=n.attrs.checked,l.append(u,c),s.append(l,d),Object.entries(e).forEach(([m,y])=>{s.setAttribute(m,y)}),{dom:s,contentDOM:d,update:m=>m.type!==this.type?!1:(s.dataset.checked=m.attrs.checked,u.checked=m.attrs.checked,h(m),!0)}}},addInputRules(){return[Ca({find:Sj,type:this.type,getAttributes:n=>({checked:n[n.length-1]==="x"})})]}}),kj=an.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:n}){return["ul",it(this.options.HTMLAttributes,n,{"data-type":this.name}),0]},parseMarkdown:(n,e)=>e.createNode("taskList",{},e.parseChildren(n.items||[])),renderMarkdown:(n,e)=>n.content?e.renderChildren(n.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(n){var e;const t=(e=n.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return t!==void 0?t:-1},tokenize(n,e,t){const r=l=>{const c=Dm(l,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:u=>({indentLevel:u[1].length,mainContent:u[4],checked:u[3].toLowerCase()==="x"}),createToken:(u,d)=>({type:"taskItem",raw:"",mainContent:u.mainContent,indentLevel:u.indentLevel,checked:u.checked,text:u.mainContent,tokens:t.inlineTokens(u.mainContent),nestedTokens:d}),customNestedParser:r},t);return c?[{type:"taskList",raw:c.raw,items:c.items}]:t.blockTokens(l)},s=Dm(n,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,c)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:t.inlineTokens(l.mainContent),nestedTokens:c}),customNestedParser:r},t);if(s)return{type:"taskList",raw:s.raw,items:s.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:n})=>n.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Pe.create({name:"listKit",addExtensions(){const n=[];return this.options.bulletList!==!1&&n.push(eC.configure(this.options.bulletList)),this.options.listItem!==!1&&n.push(tC.configure(this.options.listItem)),this.options.listKeymap!==!1&&n.push(lC.configure(this.options.listKeymap)),this.options.orderedList!==!1&&n.push(cC.configure(this.options.orderedList)),this.options.taskItem!==!1&&n.push(Ej.configure(this.options.taskItem)),this.options.taskList!==!1&&n.push(kj.configure(this.options.taskList)),n}});var Tj=an.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",it(this.options.HTMLAttributes,n),0]},parseMarkdown:(n,e)=>{const t=n.tokens||[];return t.length===1&&t[0].type==="image"?e.parseChildren([t[0]]):e.createNode("paragraph",void 0,e.parseInline(t))},renderMarkdown:(n,e)=>!n||!Array.isArray(n.content)?"":e.renderChildren(n.content),addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Cj=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,wj=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Aj=Oi.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",it(this.options.HTMLAttributes,n),0]},markdownTokenName:"del",parseMarkdown:(n,e)=>e.applyMark("strike",e.parseInline(n.tokens||[])),renderMarkdown:(n,e)=>`~~${e.renderChildren(n)}~~`,addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Ta({find:Cj,type:this.type})]},addPasteRules(){return[ps({find:wj,type:this.type})]}}),Nj=an.create({name:"text",group:"inline",parseMarkdown:n=>({type:"text",text:n.text||""}),renderMarkdown:n=>n.text||""}),Mj=Oi.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",it(this.options.HTMLAttributes,n),0]},parseMarkdown(n,e){return e.applyMark(this.name||"underline",e.parseInline(n.tokens||[]))},renderMarkdown(n,e){return`++${e.renderChildren(n)}++`},markdownTokenizer:{name:"underline",level:"inline",start(n){return n.indexOf("++")},tokenize(n,e,t){const s=/^(\+\+)([\s\S]+?)(\+\+)/.exec(n);if(!s)return;const l=s[2].trim();return{type:"underline",raw:s[0],text:l,tokens:t.inlineTokens(l)}}},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function Oj(n={}){return new Je({view(e){return new Rj(e,n)}})}class Rj{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let l=c=>{this[s](c)};return e.dom.addEventListener(s,l),{name:s,handler:l}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r,s=this.editorView.dom,l=s.getBoundingClientRect(),c=l.width/s.offsetWidth,u=l.height/s.offsetHeight;if(t){let y=e.nodeBefore,b=e.nodeAfter;if(y||b){let v=this.editorView.nodeDOM(this.cursorPos-(y?y.nodeSize:0));if(v){let S=v.getBoundingClientRect(),T=y?S.bottom:S.top;y&&b&&(T=(T+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let C=this.width/2*u;r={left:S.left,right:S.right,top:T-C,bottom:T+C}}}}if(!r){let y=this.editorView.coordsAtPos(this.cursorPos),b=this.width/2*c;r={left:y.left-b,right:y.left+b,top:y.top,bottom:y.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let h,m;if(!d||d==document.body&&getComputedStyle(d).position=="static")h=-pageXOffset,m=-pageYOffset;else{let y=d.getBoundingClientRect(),b=y.width/d.offsetWidth,v=y.height/d.offsetHeight;h=y.left-d.scrollLeft*b,m=y.top-d.scrollTop*v}this.element.style.left=(r.left-h)/c+"px",this.element.style.top=(r.top-m)/u+"px",this.element.style.width=(r.right-r.left)/c+"px",this.element.style.height=(r.bottom-r.top)/u+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),s=r&&r.type.spec.disableDropCursor,l=typeof s=="function"?s(this.editorView,t,e):s;if(t&&!l){let c=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=uk(this.editorView.state.doc,c,this.editorView.dragging.slice);u!=null&&(c=u)}this.setCursor(c),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class et extends ve{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return et.valid(r)?new et(r):ve.near(r)}content(){return Z.empty}eq(e){return e instanceof et&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new et(e.resolve(t.pos))}getBookmark(){return new Jg(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!Dj(e)||!_j(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let s=t.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&et.valid(e))return e;let s=e.pos,l=null;for(let c=e.depth;;c--){let u=e.node(c);if(t>0?e.indexAfter(c)<u.childCount:e.index(c)>0){l=u.child(t>0?e.indexAfter(c):e.index(c)-1);break}else if(c==0)return null;s+=t;let d=e.doc.resolve(s);if(et.valid(d))return d}for(;;){let c=t>0?l.firstChild:l.lastChild;if(!c){if(l.isAtom&&!l.isText&&!ce.isSelectable(l)){e=e.doc.resolve(s+l.nodeSize*t),r=!1;continue e}break}l=c,s+=t;let u=e.doc.resolve(s);if(et.valid(u))return u}return null}}}et.prototype.visible=!1;et.findFrom=et.findGapCursorFrom;ve.jsonID("gapcursor",et);class Jg{constructor(e){this.pos=e}map(e){return new Jg(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return et.valid(t)?new et(t):ve.near(t)}}function uC(n){return n.isAtom||n.spec.isolating||n.spec.createGapCursor}function Dj(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(t-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||uC(s.type))return!0;if(s.inlineContent)return!1}}return!0}function _j(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(t);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||uC(s.type))return!0;if(s.inlineContent)return!1}}return!0}function Ij(){return new Je({props:{decorations:Bj,createSelectionBetween(n,e,t){return e.pos==t.pos&&et.valid(t)?new et(t):null},handleClick:zj,handleKeyDown:Lj,handleDOMEvents:{beforeinput:jj}}})}const Lj=fT({ArrowLeft:iu("horiz",-1),ArrowRight:iu("horiz",1),ArrowUp:iu("vert",-1),ArrowDown:iu("vert",1)});function iu(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,l){let c=r.selection,u=e>0?c.$to:c.$from,d=c.empty;if(c instanceof he){if(!l.endOfTextblock(t)||u.depth==0)return!1;d=!1,u=r.doc.resolve(e>0?u.after():u.before())}let h=et.findGapCursorFrom(u,e,d);return h?(s&&s(r.tr.setSelection(new et(h))),!0):!1}}function zj(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!et.valid(r))return!1;let s=n.posAtCoords({left:t.clientX,top:t.clientY});return s&&s.inside>-1&&ce.isSelectable(n.state.doc.nodeAt(s.inside))?!1:(n.dispatch(n.state.tr.setSelection(new et(r))),!0)}function jj(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof et))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let s=G.empty;for(let c=r.length-1;c>=0;c--)s=G.from(r[c].createAndFill(null,s));let l=n.state.tr.replace(t.pos,t.pos,new Z(s,0,0));return l.setSelection(he.near(l.doc.resolve(t.pos+1))),n.dispatch(l),!1}function Bj(n){if(!(n.selection instanceof et))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",We.create(n.doc,[_t.widget(n.selection.head,e,{key:"gapcursor"})])}var mf=200,bt=function(){};bt.prototype.append=function(e){return e.length?(e=bt.from(e),!this.length&&e||e.length<mf&&this.leafAppend(e)||this.length<mf&&e.leafPrepend(this)||this.appendInner(e)):this};bt.prototype.prepend=function(e){return e.length?bt.from(e).append(this):this};bt.prototype.appendInner=function(e){return new Uj(this,e)};bt.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?bt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};bt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};bt.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};bt.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(l,c){return s.push(e(l,c))},t,r),s};bt.from=function(e){return e instanceof bt?e:e&&e.length?new fC(e):bt.empty};var fC=(function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,l){return s==0&&l==this.length?this:new e(this.values.slice(s,l))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,l,c,u){for(var d=l;d<c;d++)if(s(this.values[d],u+d)===!1)return!1},e.prototype.forEachInvertedInner=function(s,l,c,u){for(var d=l-1;d>=c;d--)if(s(this.values[d],u+d)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=mf)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=mf)return new e(s.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e})(bt);bt.empty=new fC([]);var Uj=(function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,l,c){var u=this.left.length;if(s<u&&this.left.forEachInner(r,s,Math.min(l,u),c)===!1||l>u&&this.right.forEachInner(r,Math.max(s-u,0),Math.min(this.length,l)-u,c+u)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,l,c){var u=this.left.length;if(s>u&&this.right.forEachInvertedInner(r,s-u,Math.max(l,u)-u,c+u)===!1||l<u&&this.left.forEachInvertedInner(r,Math.min(s,u),l,c)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var l=this.left.length;return s<=l?this.left.slice(r,s):r>=l?this.right.slice(r-l,s-l):this.left.slice(r,l).append(this.right.slice(0,s-l))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(bt);const Pj=500;class wn{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,l;t&&(s=this.remapping(r,this.items.length),l=s.maps.length);let c=e.tr,u,d,h=[],m=[];return this.items.forEach((y,b)=>{if(!y.step){s||(s=this.remapping(r,b+1),l=s.maps.length),l--,m.push(y);return}if(s){m.push(new Hn(y.map));let v=y.step.map(s.slice(l)),S;v&&c.maybeStep(v).doc&&(S=c.mapping.maps[c.mapping.maps.length-1],h.push(new Hn(S,void 0,void 0,h.length+m.length))),l--,S&&s.appendMap(S,l)}else c.maybeStep(y.step);if(y.selection)return u=s?y.selection.map(s.slice(l)):y.selection,d=new wn(this.items.slice(0,r).append(m.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:c,selection:u}}addTransform(e,t,r,s){let l=[],c=this.eventCount,u=this.items,d=!s&&u.length?u.get(u.length-1):null;for(let m=0;m<e.steps.length;m++){let y=e.steps[m].invert(e.docs[m]),b=new Hn(e.mapping.maps[m],y,t),v;(v=d&&d.merge(b))&&(b=v,m?l.pop():u=u.slice(0,u.length-1)),l.push(b),t&&(c++,t=void 0),s||(d=b)}let h=c-r.depth;return h>Vj&&(u=Hj(u,h),c-=h),new wn(u.append(l),c)}remapping(e,t){let r=new ro;return this.items.forEach((s,l)=>{let c=s.mirrorOffset!=null&&l-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,c)},e,t),r}addMaps(e){return this.eventCount==0?this:new wn(this.items.append(e.map(t=>new Hn(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-t),l=e.mapping,c=e.steps.length,u=this.eventCount;this.items.forEach(b=>{b.selection&&u--},s);let d=t;this.items.forEach(b=>{let v=l.getMirror(--d);if(v==null)return;c=Math.min(c,v);let S=l.maps[v];if(b.step){let T=e.steps[v].invert(e.docs[v]),C=b.selection&&b.selection.map(l.slice(d+1,v));C&&u++,r.push(new Hn(S,T,C))}else r.push(new Hn(S))},s);let h=[];for(let b=t;b<c;b++)h.push(new Hn(l.maps[b]));let m=this.items.slice(0,s).append(h).append(r),y=new wn(m,u);return y.emptyItemCount()>Pj&&(y=y.compress(this.items.length-r.length)),y}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,s=[],l=0;return this.items.forEach((c,u)=>{if(u>=e)s.push(c),c.selection&&l++;else if(c.step){let d=c.step.map(t.slice(r)),h=d&&d.getMap();if(r--,h&&t.appendMap(h,r),d){let m=c.selection&&c.selection.map(t.slice(r));m&&l++;let y=new Hn(h.invert(),d,m),b,v=s.length-1;(b=s.length&&s[v].merge(y))?s[v]=b:s.push(y)}}else c.map&&r--},this.items.length,0),new wn(bt.from(s.reverse()),l)}}wn.empty=new wn(bt.empty,0);function Hj(n,e){let t;return n.forEach((r,s)=>{if(r.selection&&e--==0)return t=s,!1}),n.slice(t)}class Hn{constructor(e,t,r,s){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Hn(t.getMap().invert(),t,this.selection)}}}class si{constructor(e,t,r,s,l){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=s,this.prevComposition=l}}const Vj=20;function $j(n,e,t,r){let s=t.getMeta(ls),l;if(s)return s.historyState;t.getMeta(Kj)&&(n=new si(n.done,n.undone,null,0,-1));let c=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(c&&c.getMeta(ls))return c.getMeta(ls).redo?new si(n.done.addTransform(t,void 0,r,yu(e)),n.undone,vS(t.mapping.maps),n.prevTime,n.prevComposition):new si(n.done,n.undone.addTransform(t,void 0,r,yu(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(c&&c.getMeta("addToHistory")===!1)){let u=t.getMeta("composition"),d=n.prevTime==0||!c&&n.prevComposition!=u&&(n.prevTime<(t.time||0)-r.newGroupDelay||!qj(t,n.prevRanges)),h=c?Qp(n.prevRanges,t.mapping):vS(t.mapping.maps);return new si(n.done.addTransform(t,d?e.selection.getBookmark():void 0,r,yu(e)),wn.empty,h,t.time,u??n.prevComposition)}else return(l=t.getMeta("rebased"))?new si(n.done.rebased(t,l),n.undone.rebased(t,l),Qp(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new si(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),Qp(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function qj(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,s)=>{for(let l=0;l<e.length;l+=2)r<=e[l+1]&&s>=e[l]&&(t=!0)}),t}function vS(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,s,l,c)=>e.push(l,c));return e}function Qp(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let s=e.map(n[r],1),l=e.map(n[r+1],-1);s<=l&&t.push(s,l)}return t}function Fj(n,e,t){let r=yu(e),s=ls.get(e).spec.config,l=(t?n.undone:n.done).popEvent(e,r);if(!l)return null;let c=l.selection.resolve(l.transform.doc),u=(t?n.done:n.undone).addTransform(l.transform,e.selection.getBookmark(),s,r),d=new si(t?u:l.remaining,t?l.remaining:u,null,0,-1);return l.transform.setSelection(c).setMeta(ls,{redo:t,historyState:d})}let Zp=!1,xS=null;function yu(n){let e=n.plugins;if(xS!=e){Zp=!1,xS=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){Zp=!0;break}}return Zp}const ls=new dt("history"),Kj=new dt("closeHistory");function Gj(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new Je({key:ls,state:{init(){return new si(wn.empty,wn.empty,null,0,-1)},apply(e,t,r){return $j(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,s=r=="historyUndo"?hC:r=="historyRedo"?pC:null;return!s||!e.editable?!1:(t.preventDefault(),s(e.state,e.dispatch))}}}})}function dC(n,e){return(t,r)=>{let s=ls.getState(t);if(!s||(n?s.undone:s.done).eventCount==0)return!1;if(r){let l=Fj(s,t,n);l&&r(e?l.scrollIntoView():l)}return!0}}const hC=dC(!1,!0),pC=dC(!0,!0);Pe.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:n=>n.length,wordCounter:n=>n.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=n=>{const e=n?.node||this.editor.state.doc;if((n?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=n=>{const e=n?.node||this.editor.state.doc,t=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(t)}},addProseMirrorPlugins(){let n=!1;return[new Je({key:new dt("characterCount"),appendTransaction:(e,t,r)=>{if(n)return;const s=this.options.limit;if(s==null||s===0){n=!0;return}const l=this.storage.characters({node:r.doc});if(l>s){const c=l-s,u=0,d=c;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const h=r.tr.deleteRange(u,d);return n=!0,h}n=!0},filterTransaction:(e,t)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const s=this.storage.characters({node:t.doc}),l=this.storage.characters({node:e.doc});if(l<=r||s>r&&l>r&&l<=s)return!0;if(s>r&&l>r&&l>s||!e.getMeta("paste"))return!1;const u=e.selection.$head.pos,d=l-r,h=u-d,m=u;return e.deleteRange(h,m),!(this.storage.characters({node:e.doc})>r)}})]}});var Yj=Pe.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Oj(this.options)]}});Pe.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Je({key:new dt("focus"),props:{decorations:({doc:n,selection:e})=>{const{isEditable:t,isFocused:r}=this.editor,{anchor:s}=e,l=[];if(!t||!r)return We.create(n,[]);let c=0;this.options.mode==="deepest"&&n.descendants((d,h)=>{if(d.isText)return;if(!(s>=h&&s<=h+d.nodeSize-1))return!1;c+=1});let u=0;return n.descendants((d,h)=>{if(d.isText||!(s>=h&&s<=h+d.nodeSize-1))return!1;if(u+=1,this.options.mode==="deepest"&&c-u>0||this.options.mode==="shallowest"&&u>1)return this.options.mode==="deepest";l.push(_t.node(h,h+d.nodeSize,{class:this.options.className}))}),We.create(n,l)}}})]}});var Wj=Pe.create({name:"gapCursor",addProseMirrorPlugins(){return[Ij()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=ze(oe(n,"allowGapCursor",t)))!=null?e:null}}}),Jj=Pe.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Je({key:new dt("placeholder"),props:{decorations:({doc:n,selection:e})=>{const t=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,s=[];if(!t)return null;const l=this.editor.isEmpty;return n.descendants((c,u)=>{const d=r>=u&&r<=u+c.nodeSize,h=!c.isLeaf&&Uf(c);if((d||!this.options.showOnlyCurrent)&&h){const m=[this.options.emptyNodeClass];l&&m.push(this.options.emptyEditorClass);const y=_t.node(u,u+c.nodeSize,{class:m.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:c,pos:u,hasAnchor:d}):this.options.placeholder});s.push(y)}return this.options.includeChildren}),We.create(n,s)}}})]}});Pe.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:n,options:e}=this;return[new Je({key:new dt("selection"),props:{decorations(t){return t.selection.empty||n.isFocused||!n.isEditable||AT(t.selection)||n.view.dragging?null:We.create(t.doc,[_t.inline(t.selection.from,t.selection.to,{class:e.className})])}}})]}});function SS({types:n,node:e}){return e&&Array.isArray(n)&&n.includes(e.type)||e?.type===n}var Xj=Pe.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var n;const e=new dt(this.name),t=this.options.node||((n=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:n.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,s])=>s).filter(s=>(this.options.notAfter||[]).concat(t).includes(s.name));return[new Je({key:e,appendTransaction:(s,l,c)=>{const{doc:u,tr:d,schema:h}=c,m=e.getState(c),y=u.content.size,b=h.nodes[t];if(m)return d.insert(y,b.create())},state:{init:(s,l)=>{const c=l.tr.doc.lastChild;return!SS({node:c,types:r})},apply:(s,l)=>{if(!s.docChanged||s.getMeta("__uniqueIDTransaction"))return l;const c=s.doc.lastChild;return!SS({node:c,types:r})}}})]}}),Qj=Pe.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>hC(n,e),redo:()=>({state:n,dispatch:e})=>pC(n,e)}},addProseMirrorPlugins(){return[Gj(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Zj=Pe.create({name:"starterKit",addExtensions(){var n,e,t,r;const s=[];return this.options.bold!==!1&&s.push(C4.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(x4.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(eC.configure(this.options.bulletList)),this.options.code!==!1&&s.push(N4.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(R4.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(D4.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(Yj.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(Wj.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(_4.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(I4.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(Qj.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(L4.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(P4.configure(this.options.italic)),this.options.listItem!==!1&&s.push(tC.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(lC.configure((n=this.options)==null?void 0:n.listKeymap)),this.options.link!==!1&&s.push(ZT.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&s.push(cC.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(Tj.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(Aj.configure(this.options.strike)),this.options.text!==!1&&s.push(Nj.configure(this.options.text)),this.options.underline!==!1&&s.push(Mj.configure((t=this.options)==null?void 0:t.underline)),this.options.trailingNode!==!1&&s.push(Xj.configure((r=this.options)==null?void 0:r.trailingNode)),s}}),e6=Zj,t6=Jj,n6=20,mC=(n,e=0)=>{const t=[];return!n.children.length||e>n6||Array.from(n.children).forEach(r=>{r.tagName==="SPAN"?t.push(r):r.children.length&&t.push(...mC(r,e+1))}),t},r6=n=>{if(!n.children.length)return;const e=mC(n);e&&e.forEach(t=>{var r,s;const l=t.getAttribute("style"),c=(s=(r=t.parentElement)==null?void 0:r.closest("span"))==null?void 0:s.getAttribute("style");t.setAttribute("style",`${c};${l}`)})},gC=Oi.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:n=>n.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&r6(n),{}):!1}]},renderHTML({HTMLAttributes:n}){return["span",it(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleTextStyle:n=>({commands:e})=>e.toggleMark(this.name,n),removeEmptyTextStyle:()=>({tr:n})=>{const{selection:e}=n;return n.doc.nodesBetween(e.from,e.to,(t,r)=>{if(t.isTextblock)return!0;t.marks.filter(s=>s.type===this.type).some(s=>Object.values(s.attrs).some(l=>!!l))||n.removeMark(r,r+t.nodeSize,this.type)}),!0}}}}),i6=Pe.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:n=>{var e;const t=n.getAttribute("style");if(t){const r=t.split(";").map(s=>s.trim()).filter(Boolean);for(let s=r.length-1;s>=0;s-=1){const l=r[s].split(":");if(l.length>=2){const c=l[0].trim().toLowerCase(),u=l.slice(1).join(":").trim();if(c==="background-color")return u.replace(/['"]+/g,"")}}}return(e=n.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:n=>n.backgroundColor?{style:`background-color: ${n.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:n=>({chain:e})=>e().setMark("textStyle",{backgroundColor:n}).run(),unsetBackgroundColor:()=>({chain:n})=>n().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),yC=Pe.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:n=>{var e;const t=n.getAttribute("style");if(t){const r=t.split(";").map(s=>s.trim()).filter(Boolean);for(let s=r.length-1;s>=0;s-=1){const l=r[s].split(":");if(l.length>=2){const c=l[0].trim().toLowerCase(),u=l.slice(1).join(":").trim();if(c==="color")return u.replace(/['"]+/g,"")}}}return(e=n.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:n=>n.color?{style:`color: ${n.color}`}:{}}}}]},addCommands(){return{setColor:n=>({chain:e})=>e().setMark("textStyle",{color:n}).run(),unsetColor:()=>({chain:n})=>n().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),s6=Pe.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:n=>n.style.fontFamily,renderHTML:n=>n.fontFamily?{style:`font-family: ${n.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:n=>({chain:e})=>e().setMark("textStyle",{fontFamily:n}).run(),unsetFontFamily:()=>({chain:n})=>n().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),a6=Pe.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:n=>n.style.fontSize,renderHTML:n=>n.fontSize?{style:`font-size: ${n.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:n=>({chain:e})=>e().setMark("textStyle",{fontSize:n}).run(),unsetFontSize:()=>({chain:n})=>n().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),l6=Pe.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:n=>n.style.lineHeight,renderHTML:n=>n.lineHeight?{style:`line-height: ${n.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:n=>({chain:e})=>e().setMark("textStyle",{lineHeight:n}).run(),unsetLineHeight:()=>({chain:n})=>n().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});Pe.create({name:"textStyleKit",addExtensions(){const n=[];return this.options.backgroundColor!==!1&&n.push(i6.configure(this.options.backgroundColor)),this.options.color!==!1&&n.push(yC.configure(this.options.color)),this.options.fontFamily!==!1&&n.push(s6.configure(this.options.fontFamily)),this.options.fontSize!==!1&&n.push(a6.configure(this.options.fontSize)),this.options.lineHeight!==!1&&n.push(l6.configure(this.options.lineHeight)),this.options.textStyle!==!1&&n.push(gC.configure(this.options.textStyle)),n}});var o6=yC,c6=Pe.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:n=>{const e=n.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:n=>n.textAlign?{style:`text-align: ${n.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:n=>({commands:e})=>this.options.alignments.includes(n)?this.options.types.map(t=>e.updateAttributes(t,{textAlign:n})).some(t=>t):!1,unsetTextAlign:()=>({commands:n})=>this.options.types.map(e=>n.resetAttributes(e,"textAlign")).some(e=>e),toggleTextAlign:n=>({editor:e,commands:t})=>this.options.alignments.includes(n)?e.isActive({textAlign:n})?t.unsetTextAlign():t.setTextAlign(n):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),u6=c6;const f6=[{label:"",value:""},{label:"",value:"#DC2626"},{label:"",value:"#F97316"},{label:"",value:"#16A34A"},{label:"",value:"#2563EB"},{label:"",value:"#7C3AED"}];function d6({value:n,onChange:e,placeholder:t=" .",disabled:r=!1}){const s=m4({extensions:[o6.configure({types:["textStyle"]}),gC,u6.configure({types:["heading","paragraph"],alignments:["left","center","right","justify"]}),e6.configure({heading:{levels:[1,2,3]},bulletList:{keepMarks:!0,keepAttributes:!1},orderedList:{keepMarks:!0,keepAttributes:!1}}),fj.configure({openOnClick:!0,linkOnPaste:!0}),t6.configure({placeholder:t})],content:n||"",editable:!r,onUpdate:({editor:d})=>{e(d.getHTML())}});if(O.useEffect(()=>{s&&s.setEditable(!r)},[r,s]),O.useEffect(()=>{s&&s.getHTML()!==(n||"")&&s.commands.setContent(n||"")},[n,s]),!s)return null;const l=d=>h=>{h.preventDefault(),!r&&d()},c=d=>{r||(d?s.chain().focus().setColor(d).run():s.chain().focus().unsetColor().run())},u=d=>{r||s.chain().focus().setTextAlign(d).run()};return E.jsxs("div",{className:"rounded-lg border border-slate-300 bg-white text-sm dark:border-slate-700 dark:bg-slate-900",children:[E.jsxs("div",{className:"flex flex-wrap items-center gap-1 border-b border-slate-200 bg-slate-50 px-2 py-1 text-xs dark:border-slate-800 dark:bg-slate-800",children:[E.jsx("button",{type:"button",onClick:l(()=>s.chain().focus().toggleBold().run()),className:`rounded px-2 py-1 ${s.isActive("bold")?"bg-slate-800 text-white dark:bg-slate-100 dark:text-slate-900":"text-slate-600 hover:bg-slate-200 dark:text-slate-300 dark:hover:bg-slate-700"}`,disabled:r,children:"B"}),E.jsx("button",{type:"button",onClick:l(()=>s.chain().focus().toggleItalic().run()),className:`rounded px-2 py-1 ${s.isActive("italic")?"bg-slate-800 text-white dark:bg-slate-100 dark:text-slate-900":"text-slate-600 hover:bg-slate-200 dark:text-slate-300 dark:hover:bg-slate-700"}`,disabled:r,children:"I"}),E.jsx("span",{className:"mx-1 h-4 w-px bg-slate-300 dark:bg-slate-600"}),E.jsx("button",{type:"button",onClick:l(()=>s.chain().focus().toggleBulletList().run()),className:`rounded px-2 py-1 ${s.isActive("bulletList")?"bg-slate-800 text-white dark:bg-slate-100 dark:text-slate-900":"text-slate-600 hover:bg-slate-200 dark:text-slate-300 dark:hover:bg-slate-700"}`,disabled:r,children:" List"}),E.jsx("button",{type:"button",onClick:l(()=>s.chain().focus().toggleOrderedList().run()),className:`rounded px-2 py-1 ${s.isActive("orderedList")?"bg-slate-800 text-white dark:bg-slate-100 dark:text-slate-900":"text-slate-600 hover:bg-slate-200 dark:text-slate-300 dark:hover:bg-slate-700"}`,disabled:r,children:"1. List"}),E.jsx("span",{className:"mx-1 h-4 w-px bg-slate-300 dark:bg-slate-600"}),E.jsx("button",{type:"button",onClick:l(()=>s.chain().focus().setParagraph().run()),className:`rounded px-2 py-1 ${s.isActive("paragraph")?"bg-slate-800 text-white dark:bg-slate-100 dark:text-slate-900":"text-slate-600 hover:bg-slate-200 dark:text-slate-300 dark:hover:bg-slate-700"}`,disabled:r,children:""}),E.jsx("button",{type:"button",onClick:l(()=>s.chain().focus().toggleHeading({level:2}).run()),className:`rounded px-2 py-1 ${s.isActive("heading",{level:2})?"bg-slate-800 text-white dark:bg-slate-100 dark:text-slate-900":"text-slate-600 hover:bg-slate-200 dark:text-slate-300 dark:hover:bg-slate-700"}`,disabled:r,children:"H2"}),E.jsx("button",{type:"button",onClick:l(()=>s.chain().focus().toggleHeading({level:3}).run()),className:`rounded px-2 py-1 ${s.isActive("heading",{level:3})?"bg-slate-800 text-white dark:bg-slate-100 dark:text-slate-900":"text-slate-600 hover:bg-slate-200 dark:text-slate-300 dark:hover:bg-slate-700"}`,disabled:r,children:"H3"}),E.jsx("span",{className:"mx-1 h-4 w-px bg-slate-300 dark:bg-slate-600"}),E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx("button",{type:"button",onClick:()=>u("left"),className:`rounded px-2 py-1 ${s.isActive({textAlign:"left"})||!s.isActive({textAlign:"center"})&&!s.isActive({textAlign:"right"})&&!s.isActive({textAlign:"justify"})?"bg-slate-800 text-white dark:bg-slate-100 dark:text-slate-900":"text-slate-600 hover:bg-slate-200 dark:text-slate-300 dark:hover:bg-slate-700"}`,disabled:r,children:""}),E.jsx("button",{type:"button",onClick:()=>u("center"),className:`rounded px-2 py-1 ${s.isActive({textAlign:"center"})?"bg-slate-800 text-white dark:bg-slate-100 dark:text-slate-900":"text-slate-600 hover:bg-slate-200 dark:text-slate-300 dark:hover:bg-slate-700"}`,disabled:r,children:""}),E.jsx("button",{type:"button",onClick:()=>u("right"),className:`rounded px-2 py-1 ${s.isActive({textAlign:"right"})?"bg-slate-800 text-white dark:bg-slate-100 dark:text-slate-900":"text-slate-600 hover:bg-slate-200 dark:text-slate-300 dark:hover:bg-slate-700"}`,disabled:r,children:""})]}),E.jsx("span",{className:"mx-1 h-4 w-px bg-slate-300 dark:bg-slate-600"}),E.jsx("div",{className:"flex items-center gap-1",children:f6.map(d=>E.jsx("button",{type:"button",onClick:()=>c(d.value),className:`flex h-7 items-center rounded px-2 ${d.value?"border border-slate-200 dark:border-slate-600":"border border-slate-200 text-[11px] text-slate-500 dark:border-slate-600"}`,disabled:r,children:d.value?E.jsx("span",{className:"text-xs font-semibold",style:{color:d.value},children:"A"}):E.jsx("span",{className:"text-[11px]",children:""})},d.label))})]}),E.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:E.jsx(o4,{editor:s,className:"prose prose-sm max-w-none px-3 py-2 text-slate-800 focus:outline-none dark:prose-invert dark:text-slate-100"})})]})}function h6(){const[n,e]=O.useState(""),[t,r]=O.useState(""),[s,l]=O.useState(!1),[c,u]=O.useState(!0),[d,h]=O.useState(!1),[m,y]=O.useState(!1),[b,v]=O.useState(null),S=Ci(),[T]=jS(),C=T.get("id"),w=!!C;O.useEffect(()=>{if(!w||!C)return;async function F(){y(!0),v(null);const q=await wf();if(!q.ok){v(`   : ${q.error}`),y(!1);return}const P=Af(q.data).find(ee=>ee.id===C);if(!P){v("    ."),y(!1);return}e(P.title),r(P.body||""),l(P.isPinned),u(P.isActive),y(!1)}F()},[w,C]);const I=async F=>{if(F.preventDefault(),v(null),!n||!t){v("  .");return}h(!0);const q={title:n,body:t,isPinned:s,isActive:c},W=w&&C?await HD(C,q):await UD(q);if(h(!1),!W.ok){v(`${w?"":""} : ${W.error}`);return}alert(` ${w?"":""}.`),S("/notices")},B=d||m;return E.jsxs("div",{className:"page-shell",children:[E.jsxs("header",{className:"page-header",children:[E.jsx("h1",{className:"page-title",children:w?" ":" "}),E.jsx("p",{className:"page-subtitle",children:w?"   .":"    ."})]}),E.jsxs("form",{onSubmit:I,className:"space-y-6",children:[b&&E.jsx("div",{className:"rounded-lg bg-red-50 p-4 text-sm text-red-600 dark:bg-red-900/20 dark:text-red-400",children:b}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"form-label",children:""}),E.jsx("input",{type:"text",value:n,onChange:F=>e(F.target.value),className:"form-input",placeholder:") 12    ",disabled:B})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"form-label",children:""}),E.jsx(d6,{value:t,onChange:r,placeholder:"  .",disabled:B})]}),E.jsxs("div",{className:"flex gap-6 rounded-xl border border-slate-200 p-4 dark:border-slate-800",children:[E.jsxs("label",{className:"flex cursor-pointer items-center gap-2 text-sm text-slate-700 dark:text-slate-300",children:[E.jsx("input",{type:"checkbox",checked:s,onChange:F=>l(F.target.checked),className:"form-check",disabled:B}),E.jsx("span",{children:"  ( )"})]}),E.jsxs("label",{className:"flex cursor-pointer items-center gap-2 text-sm text-slate-700 dark:text-slate-300",children:[E.jsx("input",{type:"checkbox",checked:c,onChange:F=>u(F.target.checked),className:"form-check",disabled:B}),E.jsx("span",{children:"  (   )"})]})]}),E.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[E.jsx("button",{type:"button",onClick:()=>S("/notices"),className:"btn btn-ghost",disabled:B,children:""}),E.jsx("button",{type:"submit",disabled:B,className:"btn btn-primary disabled:opacity-50",children:w?d?" ...":" ":d?" ...":" "})]})]})]})}function p6(){const{id:n}=AN(),e=Ci(),{isAdmin:t}=Cf(),[r,s]=O.useState(!0),[l,c]=O.useState(null),[u,d]=O.useState(null),[h,m]=O.useState(!1);O.useEffect(()=>{async function v(){if(!n){c(" ."),s(!1);return}s(!0),c(null);const S=await wf();if(!S.ok){c(`   : ${S.error}`),s(!1);return}const C=Af(S.data).find(w=>w.id===n);if(!C){c("    ."),s(!1);return}d(C),s(!1)}v()},[n]);const y=()=>{u&&e(`/admin/notices/new?id=${encodeURIComponent(u.id)}`)},b=async()=>{if(!u||h||!window.confirm("   ?"))return;m(!0);const S=await VD(u.id);if(m(!1),!S.ok){alert(` : ${S.error}`);return}alert(" ."),e("/notices")};return E.jsxs("div",{className:"page-shell",children:[E.jsxs("header",{className:"page-header flex items-start justify-between gap-4",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"page-title",children:u?u.title:""}),u&&E.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-xs text-slate-400 dark:text-slate-500",children:[E.jsx("span",{children:u.createdAt.slice(0,10)}),u.isPinned&&E.jsx("span",{className:"badge-teal",children:" "}),!u.isActive&&E.jsx("span",{className:"badge-muted",children:""})]})]}),E.jsxs("div",{className:"flex shrink-0 flex-col gap-2 sm:flex-row",children:[E.jsx(On,{to:"/notices",className:"btn btn-outline btn-sm",children:""}),t&&E.jsxs(E.Fragment,{children:[E.jsx("button",{type:"button",onClick:y,disabled:!u,className:"btn btn-primary btn-sm disabled:opacity-50",children:""}),E.jsx("button",{type:"button",onClick:b,disabled:!u||h,className:"btn btn-danger btn-sm disabled:opacity-50",children:h?" ...":""})]})]})]}),r&&E.jsx("div",{className:"py-20 text-center text-slate-500",children:"  ..."}),l&&E.jsx("div",{className:"py-20 text-center text-red-500",children:l}),!r&&!l&&u&&E.jsx("article",{className:"notice-body prose prose-sm max-w-none text-sm leading-relaxed text-slate-700 dark:prose-invert dark:text-slate-200",children:E.jsx("div",{dangerouslySetInnerHTML:{__html:u.body}})})]})}function m6(){const[n,e]=O.useState(""),[t,r]=O.useState(""),[s,l]=O.useState(!1),[c,u]=O.useState(null),{isAdmin:d}=Cf(),h=Ci(),m=In();O.useEffect(()=>{if(d){const b=m.state?.from?.pathname||"/admin";h(b,{replace:!0})}},[d,h,m.state]);const y=async b=>{b.preventDefault(),u(null),l(!0);try{await iR(Tf,n,t)}catch(v){console.error(v),u(" .   .")}finally{l(!1)}};return E.jsxs("div",{className:"flex items-center justify-center bg-slate-50 px-4 py-12 transition-colors dark:bg-slate-950 sm:px-6 lg:px-8",children:[E.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[E.jsx("div",{className:"absolute -top-[20%] -left-[10%] h-[500px] w-[500px] rounded-full bg-teal-400/10 blur-3xl dark:bg-teal-900/20"}),E.jsx("div",{className:"absolute top-[20%] -right-[10%] h-[400px] w-[400px] rounded-full bg-indigo-400/10 blur-3xl dark:bg-indigo-900/20"})]}),E.jsxs("div",{className:"relative w-full max-w-md space-y-8",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-teal-100 text-teal-600 dark:bg-teal-900/30 dark:text-teal-400",children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"h-6 w-6",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})})}),E.jsx("h2",{className:"mt-6 text-3xl font-extrabold tracking-tight text-slate-900 dark:text-white",children:"Admin Access"}),E.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:"  ."})]}),E.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-8 shadow-xl shadow-slate-200/50 dark:border-slate-800 dark:bg-slate-900 dark:shadow-none",children:[E.jsxs("form",{className:"space-y-6",onSubmit:y,children:[c&&E.jsx("div",{className:"rounded-lg bg-red-50 p-4 text-sm text-red-600 dark:bg-red-900/20 dark:text-red-400",children:E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("svg",{className:"h-5 w-5 flex-shrink-0 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),c]})}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:" "}),E.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:b=>e(b.target.value),className:"block w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-slate-900 placeholder-slate-400 focus:border-teal-500 focus:outline-none focus:ring-1 focus:ring-teal-500 dark:border-slate-700 dark:bg-slate-950 dark:text-white dark:placeholder-slate-500 disabled:opacity-50",disabled:s})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:""}),E.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:t,onChange:b=>r(b.target.value),className:"block w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-slate-900 placeholder-slate-400 focus:border-teal-500 focus:outline-none focus:ring-1 focus:ring-teal-500 dark:border-slate-700 dark:bg-slate-950 dark:text-white dark:placeholder-slate-500 disabled:opacity-50",disabled:s})]}),E.jsx("button",{type:"submit",disabled:s,className:"flex w-full justify-center rounded-lg bg-teal-600 px-4 py-2.5 text-sm font-bold text-white shadow-md hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-70 transition-all dark:focus:ring-offset-slate-900",children:s?E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsxs("svg",{className:"h-4 w-4 animate-spin text-white",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})," ..."]}):""})]}),E.jsx("div",{className:"mt-6 border-t border-slate-100 pt-6 text-center text-xs dark:border-slate-800",children:E.jsx(On,{to:"/",className:"font-medium text-slate-500 hover:text-teal-600 transition-colors dark:text-slate-400 dark:hover:text-teal-400",children:"   "})})]})]})]})}function em({children:n}){const{loading:e,isAdmin:t}=Cf(),r=In();return e?E.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center bg-slate-50 dark:bg-slate-950",children:[E.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-4 border-slate-200 border-t-teal-500 dark:border-slate-800 dark:border-t-teal-400"}),E.jsx("p",{className:"mt-4 text-sm font-medium text-slate-500 dark:text-slate-400",children:"  ..."})]}):t?n:E.jsx(HN,{to:"/admin/login",replace:!0,state:{from:r}})}function g6(){return E.jsx(hM,{children:E.jsx(CD,{children:E.jsx(wD,{children:E.jsxs($N,{children:[E.jsx(ei,{path:"/",element:E.jsx(qD,{})}),E.jsx(ei,{path:"/notices",element:E.jsx(FD,{})}),E.jsx(ei,{path:"/notices/:id",element:E.jsx(p6,{})}),E.jsx(ei,{path:"/admin/login",element:E.jsx(m6,{})}),E.jsx(ei,{path:"/admin",element:E.jsx(em,{children:E.jsx(KD,{})})}),E.jsx(ei,{path:"/admin/new",element:E.jsx(em,{children:E.jsx(GD,{})})}),E.jsx(ei,{path:"/admin/notices/new",element:E.jsx(em,{children:E.jsx(h6,{})})})]})})})})}JA.createRoot(document.getElementById("root")).render(E.jsx(Ei.StrictMode,{children:E.jsx(g6,{})}));
